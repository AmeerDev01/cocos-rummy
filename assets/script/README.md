# cocos-redux
# 基本原则
## 1、组件化
* 视图和脚本分离
  > 组件的脚本和界面尽量区别开，达到组件脚本的高度复用，以支持不同的场景对组件的界面可定制化。
* 视图的定制资源包
  > 脚本要求的一些资源必须满足，其他的视图随意，

  > 从理论来讲，预制体(也就是视图)和自定义脚本(组件)之间不一定存在绝对的关联，一个视图可以使用多个不同的脚本，一个脚本也可以用于各种节点。

  > 比如视图就是汽车架子，脚本就是发动机

  > 一个视图可以使用多个不同的脚本：例如一辆相同的汽车，可以安装多个不同型号的发动机，只要这些发动机的抽油和动力输出标准是相同的，且符合汽车的标准即可。但是汽车不能安装飞机发动机

  > 一个脚本也可以用于各种节点：例如一台发动机，也可以用于多种汽车，无论汽车的外观、轮胎、地盘如何，发动机只需要驱动即可，同样的，汽车的供油和输入标准必须符合发动机的标准。

* 节点组件脚本
  > 预制体主节点下不挂载除脚本以外的任何组件
  
  > 预制体命名大写

## 2、数据驱动
* State组件级数据驱动
  > 作为仅组件内使用的临时状态，生命周期随组件并列.

  > State不能在组件外使用，仅供组件内通过setState({key:value})设置，通过useState(render:[key])来根据key订阅渲染函数

* Props组件与组件之间的数据驱动
  > 对于组件是只读的属性，通过useProps(render)来订阅更新，组件内部不应该调用setProps函数。

  > Props一般通过组件外部通过setProps来更新，这里可以与redux值state进行映射绑定，通过viewModel的connect函数进行数据注入

  > Props可以用于传递组件内的事件委托，将组件完成高度解耦

* Redux是一种数据驱动的状态管理库，它帮助管理应用程序的状态，并提供可预测的状态更新机制。
  > 单一数据源：Redux中的应用程序状态被存储在一个单一的数据源中，通常称为"store"。这个数据源是一个JavaScript对象，包含了整个应用程序的状态

  > 状态更新通过动作：要更新Redux中的状态，你需要派发一个动作（action）。动作是一个包含描述变化的信息的普通JavaScript对象。例如，你可以派发一个表示"增加计数器值"的动作

  > 纯函数的状态处理器：Redux中使用纯函数称为"reducer"来处理动作并更新状态。Reducer接收当前状态和派发的动作作为输入，并返回一个新的状态对象。它负责根据动作的类型来决定如何更新状态

  > 状态订阅和更新：当状态发生变化时，Redux会通知订阅了状态的部分，比如UI组件。你可以使用Redux提供的函数（如connect）将组件与Redux状态连接起来，并在状态更新时自动重新渲染相关组件

## 3、帮助
* redux：
  > https://github.com/reduxjs/redux
* redux-atc：有效组织action/reducer的工具库
  > https://github.com/pauldijou/redux-act
* Redux 中文官网和最佳实践
  > https://cn.redux.js.org/introduction/getting-started
* fast-deep-equal: 对比工具库
  > https://github.com/epoberezkin/fast-deep-equal