{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/fish/Fish_senceStartUp1.ts"],"names":["_decorator","bezier","Color","Component","Graphics","instantiate","misc","Node","Sprite","Vec3","ccclass","property","Fish_senceStartUp1","midNode","midNode1","grap","startPos","nextPos","endPos","height","startPosA","startPosB","start","listenerEvent","calLiangdian","p2","node","getChildByName","on","EventType","TOUCH_MOVE","e","setWorldPosition","getUILocation","x","y","p1","destroy","c","getMidPoint","getWorldPosition","addNode","mid","getMidVerticalPoint","getComponent","clear","draw","position","ddd","gg","t","progressX","end","current","mixX","maxX","progressY","mixY","maxY","undefined","moveTo","lineTo","stroke","v","p4","addChild","color","YELLOW","setPosition","d","z","fromPos","toPos","centerX","centerY","offsetAngin","midPoint","bafAngle","calAngle","angle","radian","degreesToRadians","zhongdian","clone","subtract","length","cd","Math","tan","dg","sin","gc","cos","midDisPoint","dy","dx","atan","PI","console","log","rotatinPoint","degree","testDraw11","lineWidth","strokeColor","WHITE","drawdt","speed","angin","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, bezier, Color, Component, EditBox, EventTouch, Graphics, instantiate, Label, misc, Node, Sprite, SpriteAtlas, tween, UITransform, Vec3 } from 'cc';\r\nimport { fishCurveConfig } from './config/ByCurveConfig';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Fish_senceStartUp1')\r\nexport class Fish_senceStartUp1 extends Component {\r\n\tstart() {\r\n\t\t// this.loadPlist();\r\n\t\t// this.startPos = new Vec3(-400, 600);\r\n\t\t// this.initCurve(this.startPos);\r\n\r\n\t\t// let n = new Node();\r\n\t\t// n.addComponent(Label).string = \"123123\";\r\n\t\t// this.node.addChild(n);\r\n\r\n\t\t// this.draw(p1.position, mid);\r\n\t\t// this.draw(p2.position, mid);\r\n\r\n\t\tthis.listenerEvent();\r\n\t\tthis.calLiangdian();\r\n\t}\r\n\r\n\tprivate listenerEvent() {\r\n\t\tconst p2 = this.node.getChildByName('p2')\r\n\t\tp2.on(Node.EventType.TOUCH_MOVE, (e: EventTouch) => {\r\n\t\t\tp2.setWorldPosition(new Vec3(e.getUILocation().x, e.getUILocation().y))\r\n\r\n\t\t\tthis.calLiangdian();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate midNode: Node;\r\n\tprivate midNode1: Node;\r\n\tprivate calLiangdian() {\r\n\t\tconst p1 = this.node.getChildByName('p1')\r\n\t\tconst p2 = this.node.getChildByName('p2')\r\n\r\n\t\tthis.midNode && this.midNode.destroy();\r\n\t\tthis.midNode1 && this.midNode1.destroy();\r\n\t\t// 将世界坐标转换为节点坐标\r\n\t\tconst c = this.getMidPoint(p1.getWorldPosition(), p2.getWorldPosition());\r\n\t\tthis.midNode = this.addNode(c);\r\n\t\tlet mid = this.getMidVerticalPoint(p1.getWorldPosition(), p2.getWorldPosition(), 40)\r\n\t\tthis.midNode1 = this.addNode(mid);\r\n\r\n\t\tthis.node.getChildByName(\"ddd\").getComponent(Graphics).clear();\r\n\r\n\t\tthis.draw(p1.position, p2.position);\r\n\t\tthis.draw(mid, c);\r\n\t}\r\n\r\n\tprivate grap: Graphics;\r\n\tprivate startPos;\r\n\tprivate nextPos;\r\n\tprivate endPos;\r\n\tprivate ddd(gg: Graphics, t) {\r\n\t\tvar progressX = function (start, end, current, t) {\r\n\t\t\t//@ts-ignore\r\n\t\t\tcurrent = bezier(start, mixX, maxX, end, t);\r\n\t\t\treturn current;\r\n\t\t}\r\n\t\tvar progressY = function (start, end, current, t) {\r\n\t\t\t//@ts-ignore\r\n\t\t\tcurrent = bezier(start, mixY, maxY, end, t);\r\n\t\t\treturn current;\r\n\t\t}\r\n\r\n\t\tthis.nextPos = new Vec3(progressX(this.startPos.x, this.endPos.x, undefined, t), progressY(this.startPos.y, this.endPos.y, undefined, t))\r\n\r\n\t\tgg.moveTo(this.startPos.x, this.startPos.y);\r\n\t\tgg.lineTo(this.nextPos.x, this.nextPos.y);\r\n\t\tgg.stroke();\r\n\t}\r\n\r\n\tprivate addNode(v: Vec3) {\r\n\t\tconst p4 = instantiate(this.node.getChildByName('p1'));\r\n\t\tthis.node.addChild(p4);\r\n\t\tp4.getComponent(Sprite).color = Color.YELLOW\r\n\t\tp4.setPosition(v);\r\n\t\treturn p4;\r\n\t}\r\n\r\n\tprivate d() {\r\n\t\tlet x = 0;\r\n\t\tlet y = 1;\r\n\t\tlet z = 2;\r\n\t\treturn [x, y, z]\r\n\t}\r\n\r\n\r\n\tpublic getMidPoint(fromPos: Vec3, toPos: Vec3) {\r\n\t\tvar centerX = fromPos.x + (toPos.x - fromPos.x) / 2;\r\n\r\n\t\tvar centerY = fromPos.y + (toPos.y - fromPos.y) / 2;\r\n\r\n\t\t//取离中点指定距离点\r\n\t\treturn new Vec3(centerX, centerY)\r\n\t}\r\n\r\n\tpublic getMidVerticalPoint(fromPos: Vec3, toPos: Vec3, offsetAngin: number = 0) {\r\n\t\t//得到中点C的坐标值\r\n\t\tlet midPoint = this.getMidPoint(fromPos, toPos)\r\n\t\t// 计算∠BAF的两个点的角度\r\n\t\tconst bafAngle = this.calAngle(fromPos, toPos);\r\n\t\t// ∠BAF=∠ECA的角度，那么90-∠BAF就是∠DCE的角度\r\n\t\tlet angle = 90 - bafAngle;\r\n\t\t// 把偏移的角度换算成弧度\r\n\t\tlet radian = misc.degreesToRadians(offsetAngin)\r\n\t\t// 计算出AB的中点AC的距离\r\n\t\tconst zhongdian = toPos.clone().subtract(fromPos).length() / 2;\r\n\t\t// 三角函数公式计算出CD的距离，tan = 对边/邻边，那么邻边知道了，tanx角度也知道了，就可以计算出CD的值\r\n\t\tconst cd = zhongdian * Math.tan(radian);\r\n\t\t// 把∠DCE的角度换算为弧度\r\n\t\tradian = misc.degreesToRadians(angle)\r\n\t\t// 根据三角函数公式 sin = 对边/斜边，那么斜边知道了，sinx角度值也知道就是angle，就可以计算出DG的值\r\n\t\tconst dg = cd * Math.sin(radian);\r\n\t\tlet y = midPoint.y + dg;\r\n\t\t// 根据三角函数公式 cos = 邻边/斜边，那么斜边知道了，cosx角度值也知道就是angle，就可以计算出GC的值\r\n\t\tconst gc = cd * Math.cos(radian);\r\n\t\tconst x = midPoint.x - gc;\r\n\t\tlet midDisPoint = new Vec3(x, y)\r\n\t\treturn midDisPoint\r\n\t}\r\n\r\n\tprivate calAngle(fromPos: Vec3, toPos: Vec3) {\r\n\t\t// const angle = Math.atan2(toPos.y - fromPos.y, toPos.x - fromPos.x) * 180 / Math.PI\r\n\t\tconst dy = toPos.y - fromPos.y;\r\n\t\tconst dx = toPos.x - fromPos.x;\r\n\t\tconst angle = Math.atan(dy / dx) * 180 / Math.PI\r\n\t\tconsole.log(angle);\r\n\t\treturn angle;\r\n\t}\r\n\r\n\tprivate rotatinPoint(x, y, degree) {\r\n\t\tlet radian = (degree / 180) * Math.PI\r\n\t\treturn [x * Math.cos(radian) + y * Math.sin(radian), y * Math.cos(radian) - x * Math.sin(radian)]\r\n\t\t// return [x * Math.cos(radian) - y * Math.sin(radian), x * Math.sin(radian) + y * Math.cos(radian)]\r\n\t}\r\n\r\n\tprivate height = 100;\r\n\tprivate startPosA: Vec3 = new Vec3(-800, 0);\r\n\tprivate startPosB: Vec3 = new Vec3(-800, 0);\r\n\tprivate testDraw11() {\r\n\t\t// const newNode = instantiate(this.node.getChildByName(\"ddd\"));\r\n\t\t// this.node.addChild(newNode);\r\n\t\tlet gg = this.node.getChildByName(\"ddd\").getComponent(Graphics)\r\n\t\t// 设置线条宽度和颜色\r\n\t\tgg.lineWidth = 5;\r\n\t\tgg.strokeColor = Color.WHITE;\r\n\t\tlet drawdt = 0;\r\n\t\tlet speed = 2 * Math.PI * 0.01;\r\n\t\tgg.moveTo(this.startPosA.x, this.startPosA.y);\r\n\t\tthis.startPosA.x++;\r\n\t\tconst angin = this.startPosA.x * speed * 180 / Math.PI;\r\n\t\tconst sin = Math.sin(this.startPosA.x * speed);\r\n\t\t// console.log(angin);\r\n\t\tthis.startPosA.y = this.height + sin * 40;\r\n\t\tgg.lineTo(this.startPosA.x, this.startPosA.y);\r\n\t\tgg.stroke();\r\n\r\n\t\tgg.moveTo(this.startPosB.x, this.startPosB.y);\r\n\t\tthis.startPosB.x++;\r\n\t\tthis.startPosB.y = this.height * 2 + Math.cos(this.startPosA.x * speed) * 40;\r\n\t\tgg.lineTo(this.startPosB.x, this.startPosB.y);\r\n\t\tgg.stroke();\r\n\r\n\t\tdrawdt += 0.1\r\n\t}\r\n\r\n\tprivate draw(startPos: Vec3, endPos: Vec3) {\r\n\t\tlet gg = this.node.getChildByName(\"ddd\").getComponent(Graphics)\r\n\t\t// 设置线条宽度和颜色\r\n\t\tgg.lineWidth = 5;\r\n\t\tgg.strokeColor = Color.WHITE;\r\n\t\tgg.moveTo(startPos.x, startPos.y);\r\n\t\tgg.lineTo(endPos.x, endPos.y);\r\n\t\tgg.stroke();\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\t\t// this.testDraw11();\r\n\t\t// this.drawCurve(deltaTime);\r\n\t}\r\n}\r\n\r\n"]}