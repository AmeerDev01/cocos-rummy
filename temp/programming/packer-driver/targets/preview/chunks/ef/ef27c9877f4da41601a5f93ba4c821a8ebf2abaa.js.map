{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandar/components/Bandar_card_user.ts"],"names":["_decorator","Game","game","instantiate","Label","Node","Sprite","tween","Vec3","BaseComponent","formatNumber","getNodeByNameDeep","getNodePositionInCanvas","SpriteFramePathDefine","mainGameViewModel","playTurnCard","sourceManageSelector","PrefabPathDefine","gameCacheData","GameStatus","TaskScheduler","Task","config","getSpecialCard","restructureCard","sumCard","setMemberBetAction","betAreaViewModel","ccclass","property","Bandar_card_user","taskScheduler","areaInfo","blackCard","redCard","plumCard","diamondCard","allUserCard","userCard","isShowGame","propertyNode","props_spr_usercard_num_bg","props_usercard_num_query","props_usercard_type","props_label_carduser_losenum","props_label_carduser_winnum","props_user_all_card","props","blackPoker","redPoker","plumPoker","diamondPoker","areaWinLose","countDown","gameStatus","memberBet","allCardRate","cardType","spadeNum","heartNum","sakuraNum","blockNum","allCardType","events","start","initState","bindEvent","on","EVENT_HIDE","EVENT_SHOW","useProps","key","value","cur","Object","keys","length","isUnMount","item","getComponent","spriteFrame","active","string","num1","num2","win","comp","playWinArea","window","setTimeout","forEach","i","createCard","BET","index","poker","getFile","MAIN_CARD_USER","source","pokerPosition","setPosition","x","y","push","node","parent","addChild","STOP_BET","playAnimation","clearCardArr","parentNode","type","cardInfos","removeAllChildren","cardInfo","card","MAIN_CARD_SMALL","itemCard","getCard","num","X","itemCardNum","up","down","newCard","cardNum","cardSum","getSpriteFrame","banker","joinqQueue","done","children","c","userAllCard","newBlackPoker","newRedPoker","newPlumPoker","newDiamondPoker","bankerItem","newArray","result","endP","cardItemPosition","to","position","call","max","min","isBet","hasOwnProperty","rateNode","winNode","loseNode","rate","winLoseNum","dispatch","removeChild","destoryQueue","destroyCallBack","createUserCard","fileName","BANDAR_POKER0","BANDAR_POKER1","BANDAR_POKER2","BANDAR_POKER3","BANDAR_POKER4","BANDAR_POKER5","BANDAR_POKER6","cardT","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAWC,MAAAA,I,OAAAA,I;AAAKC,MAAAA,I,OAAAA,I;AAAKC,MAAAA,W,OAAAA,W;AAAYC,MAAAA,K,OAAAA,K;AAAMC,MAAAA,I,OAAAA,I;AAAUC,MAAAA,M,OAAAA,M;AAAqBC,MAAAA,K,OAAAA,K;AAAoBC,MAAAA,I,OAAAA,I;;AAC1FC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,iB,iBAAAA,iB;AAAmBC,MAAAA,uB,iBAAAA,uB;;AACjCC,MAAAA,qB,iBAAAA,qB;;AACAC,MAAAA,iB,iBAAAA,iB;AAAmBC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,oB,iBAAAA,oB;;AACnBC,MAAAA,gB,iBAAAA,gB;;AAELC,MAAAA,a,iBAAAA,a;AAAeC,MAAAA,U,iBAAAA,U;;AAC1BC,MAAAA,a;AAAiBC,MAAAA,I,iBAAAA,I;;AACjBC,MAAAA,M;;AACSC,MAAAA,c,kBAAAA,c;AAAgBC,MAAAA,e,kBAAAA,e;AAAiBC,MAAAA,O,kBAAAA,O;;AACfC,MAAAA,kB,kBAAAA,kB;;AACzBC,MAAAA,gB,kBAAAA,gB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwB7B,U;;kCAoCjB8B,gB,WADZF,OAAO,CAAC,kBAAD,C,gBAAR,MACaE,gBADb;AAAA;AAAA,0CAC4E;AAAA;AAAA;AAAA,eACnEC,aADmE,GACrD;AAAA;AAAA,+CADqD;AAAA,eAEnEC,QAFmE,GAE5C,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAF4C;AAAA,eAGnEC,SAHmE,GAGhD,EAHgD;AAAA,eAInEC,OAJmE,GAIlD,EAJkD;AAAA,eAKnEC,QALmE,GAKjD,EALiD;AAAA,eAMnEC,WANmE,GAM9C,EAN8C;AAAA,eAOnEC,WAPmE,GAOnC,EAPmC;AAAA,eAQnEC,QARmE,GAQhD,EARgD;AAAA,eASnEC,UATmE,GAS7C,IAT6C;AAAA,eAYjEC,YAZiE,GAYlD;AACxBC,YAAAA,yBAAyB,EAAC,IAAIpC,IAAJ,EADF;AAExBqC,YAAAA,wBAAwB,EAAC,IAAIrC,IAAJ,EAFD;AAGxBsC,YAAAA,mBAAmB,EAAC,IAAItC,IAAJ,EAHI;AAIxBuC,YAAAA,4BAA4B,EAAC,IAAIvC,IAAJ,EAJL;AAKxBwC,YAAAA,2BAA2B,EAAC,IAAIxC,IAAJ,EALJ;AAMxB;AACAyC,YAAAA,mBAAmB,EAAC,IAAIzC,IAAJ;AAPI,WAZkD;AAAA,eAsBpE0C,KAtBoE,GAsBpD;AACtB;AACAC,YAAAA,UAAU,EAAE,IAFU;;AAGtB;AACAC,YAAAA,QAAQ,EAAE,IAJY;;AAKtB;AACAC,YAAAA,SAAS,EAAC,IANY;;AAOtB;AACAC,YAAAA,YAAY,EAAE,IARQ;AAStBC,YAAAA,WAAW,EAAC,IATU;AAUtBC,YAAAA,SAAS,EAAC,CAVY;AAWtBC,YAAAA,UAAU,EAAC,IAXW;AAYtBC,YAAAA,SAAS,EAAC,IAZY;AAatBC,YAAAA,WAAW,EAAE,IAbS;AActBC,YAAAA,QAAQ,EAAE,IAdY;AAetBC,YAAAA,QAAQ,EAAE,IAfY;AAgBtBC,YAAAA,QAAQ,EAAE,IAhBY;AAiBtBC,YAAAA,SAAS,EAAE,IAjBW;AAkBtBC,YAAAA,QAAQ,EAAE,IAlBY;AAmBtBC,YAAAA,WAAW,EAAC;AAnBU,WAtBoD;AAAA,eA4CpEC,MA5CoE,GA4CnD,EA5CmD;AAAA;;AAU3EC,QAAAA,KAAK,GAAG,CAAE;;AAsCAC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS;AAC3BhE,UAAAA,IAAI,CAACiE,EAAL,CAAQlE,IAAI,CAACmE,UAAb,EAAwB,MAAI;AAAC;AAC5B,iBAAK7B,UAAL,GAAkB,KAAlB;AACA,WAFD;AAGArC,UAAAA,IAAI,CAACiE,EAAL,CAAQlE,IAAI,CAACoE,UAAb,EAAwB,MAAI;AAAC;AAC5B,iBAAK9B,UAAL,GAAkB,IAAlB;AACA,WAFD;AAIA;;AAES+B,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD;AACpE,cAAID,GAAG,KAAK,UAAZ,EAAwB;AACvB,gBAAIC,KAAK,CAACC,GAAN,IAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,GAAlB,EAAuBG,MAAvB,IAAiC,CAAlD,EAAqD;AACpD;AACC;AACA;AACA,kBAAG;AAAA;AAAA,0DAAkBC,SAArB,EAA+B;AAAE;AAAQ;;AACzC,kBAAG,CAAC,KAAKvC,QAAN,IAAkB,KAAKA,QAAL,CAAcsC,MAAd,KAAuB,CAA5C,EAA8C;AAAE;AAAQ;;AACxD,kBAAIE,IAAI,GAAG,KAAK/B,KAAL,CAAWe,WAAX,CAAuB,CAAvB,CAAX;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxB,QAAL,CAAc,CAAd,CAAzC,EAA2DyC,YAA3D,CAAwEzE,MAAxE,EAAgF0E,WAAhF,GAA8FF,IAAI,GAAG,CAAP,GAAW;AAAA;AAAA,oDAAeA,IAAf,CAAX,GAAkC;AAAA;AAAA,oDAAe,CAAf,CAAhI;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxC,QAAL,CAAc,CAAd,CAAzC,EAA2D2C,MAA3D,GAAoEH,IAAI,GAAG,CAA3E;AAA6E,eAR1B,CAQ2B;;AAC9E;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAKxC,QAAL,CAAc,CAAd,CAAlD,EAAoEyC,YAApE,CAAiF3E,KAAjF,EAAwF8E,MAAxF,GAAiGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAlI;AACA;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAK9C,QAAL,CAAc,CAAd,CAAlD,EAAoE2C,MAApE,GAA6ET,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAA/F;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK/C,QAAL,CAAc,CAAd,CAAjD,EAAmEyC,YAAnE,CAAgF3E,KAAhF,EAAuF8E,MAAvF,GAAgGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAjI;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK9C,QAAL,CAAc,CAAd,CAAjD,EAAmE2C,MAAnE,GAA4EH,IAAI,GAAG,CAAP,GAAW,KAAX,GAAmBN,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAAjH;;AACA,kBAAGb,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAgB,CAAnB,EAAqB;AAAE;AAAA;AAAA,0DAAiBC,IAAjB,CAAsBC,WAAtB,CAAkC,CAAlC;AAAsC,eAbV,CAcpD;;AAGA;AACD;;AACD,cAAIhB,GAAG,KAAK,UAAZ,EAAwB;AACvB,gBAAIC,KAAK,CAACC,GAAN,IAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,GAAlB,EAAuBG,MAAvB,IAAiC,CAAlD,EAAqD;AACpD;AACC,kBAAG;AAAA;AAAA,0DAAkBC,SAArB,EAA+B;AAAE;AAAQ;;AACzC,kBAAG,CAAC,KAAKvC,QAAN,IAAkB,KAAKA,QAAL,CAAcsC,MAAd,KAAuB,CAA5C,EAA8C;AAAE;AAAQ;;AACxD,kBAAIE,KAAI,GAAG,KAAK/B,KAAL,CAAWe,WAAX,CAAuB,CAAvB,CAAX;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxB,QAAL,CAAc,CAAd,CAAzC,EAA2DyC,YAA3D,CAAwEzE,MAAxE,EAAgF0E,WAAhF,GAA+FF,KAAI,GAAG,CAAP,GAAW;AAAA;AAAA,oDAAeA,KAAf,CAAX,GAAkC;AAAA;AAAA,oDAAe,CAAf,CAAjI;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxC,QAAL,CAAc,CAAd,CAAzC,EAA2D2C,MAA3D,GAAoEH,KAAI,GAAG,CAA3E;AAA6E,eAN1B,CAM2B;;AAC9E;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAKxC,QAAL,CAAc,CAAd,CAAlD,EAAoEyC,YAApE,CAAiF3E,KAAjF,EAAwF8E,MAAxF,GAAiGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAlI;AACA;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAK9C,QAAL,CAAc,CAAd,CAAlD,EAAoE2C,MAApE,GAA6ET,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAA/F;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK/C,QAAL,CAAc,CAAd,CAAjD,EAAmEyC,YAAnE,CAAgF3E,KAAhF,EAAuF8E,MAAvF,GAAgGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAjI;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK9C,QAAL,CAAc,CAAd,CAAjD,EAAmE2C,MAAnE,GAA4EH,KAAI,GAAG,CAAP,GAAW,KAAX,GAAmBN,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAAjH;;AACA,kBAAGb,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAgB,CAAnB,EAAqB;AAAE;AAAA;AAAA,0DAAiBC,IAAjB,CAAsBC,WAAtB,CAAkC,CAAlC;AAAsC,eAXV,CAYpD;;AAEA;AACD;;AACD,cAAIhB,GAAG,KAAK,WAAZ,EAAyB;AACxB,gBAAIC,KAAK,CAACC,GAAN,IAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,GAAlB,EAAuBG,MAAvB,IAAiC,CAAlD,EAAqD;AACpD;AACC,kBAAG;AAAA;AAAA,0DAAkBC,SAArB,EAA+B;AAAE;AAAQ;;AACzC,kBAAG,CAAC,KAAKvC,QAAN,IAAkB,KAAKA,QAAL,CAAcsC,MAAd,KAAuB,CAA5C,EAA8C;AAAE;AAAQ;;AACxD,kBAAIE,MAAI,GAAG,KAAK/B,KAAL,CAAWe,WAAX,CAAuB,CAAvB,CAAX;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxB,QAAL,CAAc,CAAd,CAAzC,EAA2DyC,YAA3D,CAAwEzE,MAAxE,EAAgF0E,WAAhF,GAA8FF,MAAI,GAAG,CAAP,GAAW;AAAA;AAAA,oDAAeA,MAAf,CAAX,GAAkC;AAAA;AAAA,oDAAe,CAAf,CAAhI;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxC,QAAL,CAAc,CAAd,CAAzC,EAA2D2C,MAA3D,GAAoEH,MAAI,GAAG,CAA3E,CANmD,CAM0B;;AAC7E;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAKxC,QAAL,CAAc,CAAd,CAAlD,EAAoEyC,YAApE,CAAiF3E,KAAjF,EAAwF8E,MAAxF,GAAiGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAlI;AACA;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAK9C,QAAL,CAAc,CAAd,CAAlD,EAAoE2C,MAApE,GAA6ET,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAA/F;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK/C,QAAL,CAAc,CAAd,CAAjD,EAAmEyC,YAAnE,CAAgF3E,KAAhF,EAAuF8E,MAAvF,GAAgGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAjI;AACD;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK9C,QAAL,CAAc,CAAd,CAAjD,EAAmE2C,MAAnE,GAA4EH,MAAI,GAAG,CAAP,GAAW,KAAX,GAAmBN,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAAjH;;AACC,kBAAGb,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAgB,CAAnB,EAAqB;AAAE;AAAA;AAAA,0DAAiBC,IAAjB,CAAsBC,WAAtB,CAAkC,CAAlC;AAAsC,eAXV,CAYpD;;AAEA;AACD;;AACD,cAAIhB,GAAG,KAAK,UAAZ,EAAwB;AACvB,gBAAIC,KAAK,CAACC,GAAN,IAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,GAAlB,EAAuBG,MAAvB,IAAiC,CAAlD,EAAqD;AACpD;AACC,kBAAG;AAAA;AAAA,0DAAkBC,SAArB,EAA+B;AAAE;AAAQ;;AACzC,kBAAG,CAAC,KAAKvC,QAAN,IAAkB,KAAKA,QAAL,CAAcsC,MAAd,KAAuB,CAA5C,EAA8C;AAAE;AAAQ;;AACxD,kBAAIE,MAAI,GAAG,KAAK/B,KAAL,CAAWe,WAAX,CAAuB,CAAvB,CAAX;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxB,QAAL,CAAc,CAAd,CAAzC,EAA2DyC,YAA3D,CAAwEzE,MAAxE,EAAgF0E,WAAhF,GAA8FF,MAAI,GAAG,CAAP,GAAW;AAAA;AAAA,oDAAeA,MAAf,CAAX,GAAkC;AAAA;AAAA,oDAAe,CAAf,CAAhI;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAyC,KAAKxC,QAAL,CAAc,CAAd,CAAzC,EAA2D2C,MAA3D,GAAmEH,MAAI,GAAG,CAA1E;AAA4E,eANzB,CAM0B;;AAC7E;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAKxC,QAAL,CAAc,CAAd,CAAlD,EAAoEyC,YAApE,CAAiF3E,KAAjF,EAAwF8E,MAAxF,GAAiGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAlI;AACA;AAAA;AAAA,0DAAkB,8BAAlB,EAAkD,KAAK9C,QAAL,CAAc,CAAd,CAAlD,EAAoE2C,MAApE,GAA6ET,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAA/F;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK/C,QAAL,CAAc,CAAd,CAAjD,EAAmEyC,YAAnE,CAAgF3E,KAAhF,EAAuF8E,MAAvF,GAAgGV,KAAK,CAACC,GAAN,CAAUU,IAAV,GAAiB,GAAjB,GAAuBX,KAAK,CAACC,GAAN,CAAUW,IAAjI;AACA;AAAA;AAAA,0DAAkB,6BAAlB,EAAiD,KAAK9C,QAAL,CAAc,CAAd,CAAjD,EAAmE2C,MAAnE,GAA4EH,MAAI,GAAG,CAAP,GAAW,KAAX,GAAmBN,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAkB,CAAjH;;AACA,kBAAGb,KAAK,CAACC,GAAN,CAAUY,GAAV,KAAgB,CAAnB,EAAqB;AAAE;AAAA;AAAA,0DAAiBC,IAAjB,CAAsBC,WAAtB,CAAkC,CAAlC;AAAsC,eAXV,CAYpD;;AAEA;AACD;;AAED,cAAIhB,GAAG,KAAK,aAAZ,EAA2B;AAC1BiB,YAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACvB,kBAAI;AAAA;AAAA,0DAAkBZ,SAAtB,EAAiC;AAAE;AAAQ;;AAC3C,kBAAI,CAACL,KAAK,CAACC,GAAX,EAAgB;AAAE;AAAQ;;AAAA;AAC1BD,cAAAA,KAAK,CAACC,GAAN,CAAUiB,OAAV,CAAkB,CAACZ,IAAD,EAAMa,CAAN,KAAY;AAC7B,oBAAIb,IAAI,IAAI,CAAR,IAAaa,CAAC,IAAI,CAAlB,IAAuB,KAAKrD,QAAL,CAAcsC,MAAd,IAAwB,CAAnD,EAAsD;AACrD;AACC;AAAA;AAAA,8DAAkB,6BAAlB,EAAiD,KAAKtC,QAAL,CAAcqD,CAAC,GAAG,CAAlB,CAAjD,EAAuEV,MAAvE,GAAgF,KAAhF;AACA;AAAA;AAAA,8DAAkB,qBAAlB,EAAyC,KAAK3C,QAAL,CAAcqD,CAAC,GAAG,CAAlB,CAAzC,EAA+DZ,YAA/D,CAA4EzE,MAA5E,EAAoF0E,WAApF,GAAkG;AAAA;AAAA,wDAAeF,IAAf,CAAlG;AACA;AAAA;AAAA,8DAAkB,qBAAlB,EAAyC,KAAKxC,QAAL,CAAcqD,CAAC,GAAG,CAAlB,CAAzC,EAA+DV,MAA/D,GAAwE,IAAxE,CAJoD,CAIyB;AAE9E;AAEA;AACD,eAVD;AAWA,aAdD,EAcE,GAdF;AAeA;;AAED,cAAIV,GAAG,KAAK,YAAZ,EAA0B;AACzB;AAEA,iBAAKqB,UAAL,CAAgB,KAAKtD,QAAL,CAAc,CAAd,CAAhB,EAAkC,CAAlC,EAAqCkC,KAAK,CAACC,GAA3C;AAEA;;AACD,cAAIF,GAAG,KAAK,UAAZ,EAAwB;AACvB;AAEA,iBAAKqB,UAAL,CAAgB,KAAKtD,QAAL,CAAc,CAAd,CAAhB,EAAiC,CAAjC,EAAmCkC,KAAK,CAACC,GAAzC;AACA;;AACD,cAAIF,GAAG,KAAK,WAAZ,EAAyB;AACxB;AAEA,iBAAKqB,UAAL,CAAgB,KAAKtD,QAAL,CAAc,CAAd,CAAhB,EAAiC,CAAjC,EAAmCkC,KAAK,CAACC,GAAzC;AACA;;AACD,cAAIF,GAAG,KAAK,cAAZ,EAA4B;AAC3B;AAEA,iBAAKqB,UAAL,CAAgB,KAAKtD,QAAL,CAAc,CAAd,CAAhB,EAAiC,CAAjC,EAAmCkC,KAAK,CAACC,GAAzC;AACA;;AACD,cAAGF,GAAG,KAAG,YAAT,EAAsB;AAErB,gBAAIC,KAAK,CAACC,GAAN,KAAc;AAAA;AAAA,0CAAWoB,GAA7B,EAAkC;AACjC,kBAAI;AAAA;AAAA,0DAAkBhB,SAAtB,EAAiC;AAAG;AAAQ;;AAC5C,mBAAK7C,QAAL,CAAc0D,OAAd,CAAsB,CAACZ,IAAD,EAAMgB,KAAN,KAAc;AACnC,oBAAIC,KAAK,GAAC5F,WAAW,CAAC;AAAA;AAAA,oEAAuB6F,OAAvB,CAA+B;AAAA;AAAA,0DAAiBC,cAAhD,EAAgEC,MAAjE,CAArB;AACA,oBAAIC,aAAa,GAAG,IAAI3F,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAApB,CAFmC,CAGnC;;AAEAuF,gBAAAA,KAAK,CAACK,WAAN,CAAkBD,aAAa,CAACE,CAAd,GAAgBP,KAAK,GAAC,GAAxC,EAA4CK,aAAa,CAACG,CAA1D;AACA,qBAAKhE,QAAL,CAAciE,IAAd,CAAmBR,KAAnB;AACA,qBAAKS,IAAL,CAAUC,MAAV,CAAiBC,QAAjB,CAA0BX,KAA1B;AACAP,gBAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACvB,sBAAI;AAAA;AAAA,8DAAkBZ,SAAtB,EAAiC;AAAE;AAAQ;;AAC3C;AAAA;AAAA,8DAAkB,0BAAlB,EAA6CkB,KAA7C,EAAoDd,MAApD,GAA2D,IAA3D;AACA;AAAA;AAAA,8DAAkB,2BAAlB,EAA8Cc,KAA9C,EAAqDd,MAArD,GAA4D,IAA5D;AACA,iBAJD,EAIE,IAJF;AAKA,eAbD;AAeA,aAjBD,MAiBM,IAAGT,KAAK,CAACC,GAAN,KAAY;AAAA;AAAA,0CAAWkC,QAA1B,EAAmC;AACxCnB,cAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACvB,oBAAI;AAAA;AAAA,4DAAkBZ,SAAtB,EAAiC;AAAE;AAAQ;;AAC3C,qBAAK+B,aAAL;AACA,eAHD,EAGE,IAHF;AAKA,aANK,MAMD;AACJ;AACA,mBAAKC,YAAL;AACA;AACD;AACD;AAIE;;;AACKjB,QAAAA,UAAU,CAACkB,UAAD,EAAmBC,IAAnB,EAAiCC,SAAjC,EAA4C;AAC7D;AAEA;AACA,cAAG,CAACF,UAAD,IAAe,CAACE,SAAnB,EAA6B;AAAC;AAAO;;AACrC;AAAA;AAAA,sDAAkB,qBAAlB,EAAwCF,UAAxC,EAAoDG,iBAApD;AACA,cAAIC,QAAQ,GAACF,SAAb;AACAE,UAAAA,QAAQ,CAACxB,OAAT,CAAiB,CAACZ,IAAD,EAAMgB,KAAN,KAAc;AAC9B,gBAAIqB,IAAI,GAAChH,WAAW,CAAC;AAAA;AAAA,gEAAuB6F,OAAvB,CAA+B;AAAA;AAAA,sDAAiBoB,eAAhD,EAAiElB,MAAlE,CAApB;AACA,gBAAImB,QAAQ,GAAC,KAAKC,OAAL,CAAaxC,IAAb,CAAb;AACA,gBAAIyC,GAAU,GAAC,CAAf;AACA;AAAA;AAAA,wDAAkB,yBAAlB,EAA4CJ,IAA5C,EAAkDlC,MAAlD,GAAyD,IAAzD;AACA;AAAA;AAAA,wDAAkB,aAAlB,EAAgCkC,IAAhC,EAAsClC,MAAtC,GAA6C,KAA7C;;AACS,gBAAGa,KAAK,KAAG,CAAX,EAAa;AAAEyB,cAAAA,GAAG,GAAC,EAAJ;AAAQ,aAAvB,MACJ,IAAGzB,KAAK,KAAG,CAAX,EAAc;AAAEyB,cAAAA,GAAG,GAAC,EAAJ;AAAQ,aAAxB,MACA,IAAGzB,KAAK,KAAG,CAAX,EAAc;AAAEyB,cAAAA,GAAG,GAAC,GAAJ;AAAS;;AAC9B,gBAAIC,CAAC,GAAC,CAAC,GAAD,GAAKD,GAAX;AACAJ,YAAAA,IAAI,CAACf,WAAL,CAAiBoB,CAAjB,EAAmB,CAAC,GAApB;AACA,gBAAIC,WAAW,GAAC;AAAA;AAAA,oCAAQJ,QAAQ,CAACK,EAAjB,EAAoBL,QAAQ,CAACM,IAA7B,CAAhB;;AACA,gBAAGZ,IAAI,KAAG,CAAV,EAAY;AACX,kBAAIa,OAAO,GAAC;AAACC,gBAAAA,OAAO,EAAC/C,IAAT;AAAcgD,gBAAAA,OAAO,EAACL,WAAtB;AAAkCC,gBAAAA,EAAE,EAACL,QAAQ,CAACK,EAA9C;AAAiDC,gBAAAA,IAAI,EAACN,QAAQ,CAACM,IAA/D;AAAoER,gBAAAA,IAAI,EAACA;AAAzE,eAAZ;AACA,mBAAKlF,SAAL,CAAesE,IAAf,CAAoBqB,OAApB;AACA,aAHD,MAGM,IAAGb,IAAI,KAAG,CAAV,EAAY;AACjB,kBAAIa,QAAO,GAAC;AAACC,gBAAAA,OAAO,EAAC/C,IAAT;AAAcgD,gBAAAA,OAAO,EAACL,WAAtB;AAAkCC,gBAAAA,EAAE,EAACL,QAAQ,CAACK,EAA9C;AAAiDC,gBAAAA,IAAI,EAACN,QAAQ,CAACM,IAA/D;AAAoER,gBAAAA,IAAI,EAACA;AAAzE,eAAZ;AACA,mBAAKjF,OAAL,CAAaqE,IAAb,CAAkBqB,QAAlB;AACA,aAHK,MAGA,IAAGb,IAAI,KAAG,CAAV,EAAY;AACjB,kBAAIa,SAAO,GAAC;AAACC,gBAAAA,OAAO,EAAC/C,IAAT;AAAcgD,gBAAAA,OAAO,EAACL,WAAtB;AAAkCC,gBAAAA,EAAE,EAACL,QAAQ,CAACK,EAA9C;AAAiDC,gBAAAA,IAAI,EAACN,QAAQ,CAACM,IAA/D;AAAoER,gBAAAA,IAAI,EAACA;AAAzE,eAAZ;AACA,mBAAKhF,QAAL,CAAcoE,IAAd,CAAmBqB,SAAnB;AACA,aAHK,MAGA,IAAGb,IAAI,KAAG,CAAV,EAAY;AACjB,kBAAIa,SAAO,GAAC;AAACC,gBAAAA,OAAO,EAAC/C,IAAT;AAAcgD,gBAAAA,OAAO,EAACL,WAAtB;AAAkCC,gBAAAA,EAAE,EAACL,QAAQ,CAACK,EAA9C;AAAiDC,gBAAAA,IAAI,EAACN,QAAQ,CAACM,IAA/D;AAAoER,gBAAAA,IAAI,EAACA;AAAzE,eAAZ;AACA,mBAAK/E,WAAL,CAAiBmE,IAAjB,CAAsBqB,SAAtB;AACA;;AACD;AAAA;AAAA,wDAAkB,aAAlB,EAAgCT,IAAhC,EAAsCpC,YAAtC,CAAmDzE,MAAnD,EAA2D0E,WAA3D,GAAuE,KAAK+C,cAAL,CAAoBV,QAAQ,CAACK,EAA7B,CAAvE;AACA;AAAA;AAAA,wDAAkB,eAAlB,EAAkCP,IAAlC,EAAwCpC,YAAxC,CAAqDzE,MAArD,EAA6D0E,WAA7D,GAAyE,KAAK+C,cAAL,CAAoBV,QAAQ,CAACM,IAA7B,CAAzE;AACA;AAAA;AAAA,wDAAkB,qBAAlB,EAAwCb,UAAxC,EAAoDJ,QAApD,CAA6DS,IAA7D;AACA,WA5BD;AA+BA;AAGD;;;AACQP,QAAAA,aAAa,GAAG;AACvB;AAEA,cAAI,KAAKtE,QAAL,CAAcsC,MAAd,KAAyB,CAA7B,EAAgC;AAAE;AAAQ;;AAC1C,eAAKtC,QAAL,CAAcoD,OAAd,CAAsB,CAAC2B,QAAD,EAAWvB,KAAX,KAAqB;AAC1C;AACA,gBAAIkC,MAAJ;AACA,iBAAKjG,aAAL,CAAmBkG,UAAnB,CAA8B;AAAA;AAAA,8BAAUC,IAAD,IAAU;AAChD;AACA;AAAA;AAAA;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAwCb,QAAxC,EAAkDc,QAAlD,CAA2DzC,OAA3D,CAAmE0C,CAAC,IAAE;AACrE;AAAA;AAAA,4DAAkB,yBAAlB,EAA4CA,CAA5C,EAA+CnD,MAA/C,GAAsD,IAAtD,CADqE,CAErE;AACA,eAHD;AAIAO,cAAAA,MAAM,CAACC,UAAP,CAAkB,MAAMyC,IAAI,EAA5B,EAAgC,GAAhC;AACA,aAR6B,CAA9B,EAQI,KARJ,EAQWD,UARX,CAQsB;AAAA;AAAA,8BAAUC,IAAD,IAAU;AACxC;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAwCb,QAAxC,EAAkDc,QAAlD,CAA2DzC,OAA3D,CAAmE0C,CAAC,IAAE;AACrE;AAAA;AAAA,4DAAkB,aAAlB,EAAgCA,CAAhC,EAAmCnD,MAAnC,GAA0C,IAA1C;AACA;AAAA;AAAA,4DAAkB,yBAAlB,EAA4CmD,CAA5C,EAA+CnD,MAA/C,GAAsD,KAAtD;AAEA,eAJD;;AAKA,kBAAGa,KAAK,KAAG,CAAX,EAAa;AAAEkC,gBAAAA,MAAM,GAAE,KAAK/F,SAAb;AACd,eADD,MACM,IAAG6D,KAAK,KAAG,CAAX,EAAa;AAAEkC,gBAAAA,MAAM,GAAE,KAAK9F,OAAb;AACpB,eADK,MACA,IAAG4D,KAAK,KAAG,CAAX,EAAa;AAAEkC,gBAAAA,MAAM,GAAE,KAAK7F,QAAb;AACpB,eADK,MACC,IAAI2D,KAAK,KAAK,CAAd,EAAiB;AAAEkC,gBAAAA,MAAM,GAAG,KAAK5F,WAAd;AAA2B,eAVb,CAWxC;;;AACAoD,cAAAA,MAAM,CAACC,UAAP,CAAkB,MAAMyC,IAAI,EAA5B,EAAgC,GAAhC;AACA,aAbqB,CARtB,EAqBI,KArBJ,EAqBWD,UArBX,CAqBsB;AAAA;AAAA,8BAAUC,IAAD,IAAU;AACxC;AAEA,kBAAIG,WAAW,GAAC,EAAhB;AACAA,cAAAA,WAAW,CAAC9B,IAAZ,CAAiB;AAAA;AAAA,kDAAc+B,aAA/B;AACAD,cAAAA,WAAW,CAAC9B,IAAZ,CAAiB;AAAA;AAAA,kDAAcgC,WAA/B;AACAF,cAAAA,WAAW,CAAC9B,IAAZ,CAAiB;AAAA;AAAA,kDAAciC,YAA/B;AACAH,cAAAA,WAAW,CAAC9B,IAAZ,CAAiB;AAAA;AAAA,kDAAckC,eAA/B,EAPwC,CAQxC;;AAEA,kBAAIC,UAAU,GAAC;AAAA;AAAA,sDAAgBV,MAAhB,EAAuBK,WAAW,CAACvC,KAAD,CAAlC,CAAf;;AACA,kBAAI,CAAC4C,UAAD,IAAe,CAACA,UAAU,CAACC,QAA/B,EAAyC;AAAE;AAAQ;;AAAA;AACnDD,cAAAA,UAAU,CAACC,QAAX,CAAoBjD,OAApB,CAA4B,CAACZ,IAAD,EAAOa,CAAP,KAAa;AACxC;AAEA,oBAAIiD,MAAM,GAAG,KAAK7F,KAAL,CAAWU,QAAxB;AACA,oBAAIoF,IAAI,GAAG;AAAA;AAAA,sCAAOC,gBAAP,CAAwB,CAAxB,EAA2BnD,CAA3B,CAAX;AACApF,gBAAAA,KAAK,CAACuE,IAAI,CAACqC,IAAN,CAAL,CAAiB4B,EAAjB,CAAoB,GAApB,EAAyB;AAAEC,kBAAAA,QAAQ,EAAE,IAAIxI,IAAJ,CAASqI,IAAI,CAACxC,CAAd,EAAiBwC,IAAI,CAACvC,CAAtB;AAAZ,iBAAzB,EACC2C,IADD,CACM,MAAI;AACT;AACA;AACA,sBAAI;AAAA;AAAA,8DAAkBpE,SAAtB,EAAiC;AAAG;AAAQ;;AAC5C;AAAA;AAAA,8DAAkB,0BAAlB,EAA8CwC,QAA9C,EAAwDpC,MAAxD,GAAiE,KAAjE;AACA;AAAA;AAAA,8DAAkB,8BAAlB,EAAkDoC,QAAlD,EAA4DtC,YAA5D,CAAyE3E,KAAzE,EAAgF8E,MAAhF,GAAyFwD,UAAU,CAACQ,GAAX,GAAiB,GAAjB,GAAuBR,UAAU,CAACS,GAA3H;AACA;AAAA;AAAA,8DAAkB,8BAAlB,EAAkD9B,QAAlD,EAA4DpC,MAA5D,GAAqE2D,MAAM,CAAC9C,KAAK,GAAG,CAAT,CAAN,IAAqB,CAA1F,CANS,CAMmF;;AAC5F;AAAA;AAAA,8DAAkB,6BAAlB,EAAiDuB,QAAjD,EAA2DtC,YAA3D,CAAwE3E,KAAxE,EAA+E8E,MAA/E,GAAwFwD,UAAU,CAACQ,GAAX,GAAiB,GAAjB,GAAuBR,UAAU,CAACS,GAA1H;AAGA;AAAA;AAAA,8DAAkB,qBAAlB,EAAyC9B,QAAzC,EAAmDtC,YAAnD,CAAgEzE,MAAhE,EAAwE0E,WAAxE,GAAsF4D,MAAM,CAAC9C,KAAK,GAAG,CAAT,CAAN,GAAoB,CAApB,GAAwB;AAAA;AAAA,wDAAe8C,MAAM,CAAC9C,KAAK,GAAG,CAAT,CAArB,CAAxB,GAA4D;AAAA;AAAA,wDAAe,CAAf,CAAlJ;AACA;AAAA;AAAA,8DAAkB,qBAAlB,EAAyCuB,QAAzC,EAAmDpC,MAAnD,GAA4D2D,MAAM,CAAC9C,KAAK,GAAG,CAAT,CAAN,GAAoB,CAAhF,CAXS,CAWyE;;AAClF;AAAA;AAAA,8DAAkB,6BAAlB,EAAiDuB,QAAjD,EAA2DpC,MAA3D,GAAoE2D,MAAM,CAAC9C,KAAK,GAAG,CAAT,CAAN,IAAqB,CAArB,IAA0B,KAAK/C,KAAL,CAAWK,WAAX,CAAuB0C,KAAvB,MAAkC,CAAhI;AAEA;AAAA;AAAA,8DAAkB,gBAAlB,EAAoCuB,QAApC,EAA8CpC,MAA9C,GAAuD,IAAvD;AACA,sBAAImE,KAAJ;;AACA,sBAAG,CAAC,KAAKrG,KAAL,CAAWQ,SAAf,EAAyB;AACxB6F,oBAAAA,KAAK,GAAG,IAAR;AAAa;AACb,mBAFD,MAEK;AACJA,oBAAAA,KAAK,GAAG,CAAC,KAAKrG,KAAL,CAAWQ,SAAX,CAAqB8F,cAArB,CAAoCvD,KAAK,GAAG,CAA5C,CAAT;AACA;;AAED;AAAA;AAAA,8DAAkB,kBAAlB,EAAsCuB,QAAtC,EAAgDpC,MAAhD,GAAyDmE,KAAzD;AAA+D;;AAC/D,sBAAG,CAACA,KAAJ,EAAU;AAAC;AACV,wBAAIE,QAAQ,GAAG;AAAA;AAAA,gEAAkB,oBAAlB,EAAwCjC,QAAxC,CAAf;AACA,wBAAIkC,OAAO,GAAG;AAAA;AAAA,gEAAkB,mBAAlB,EAAuClC,QAAvC,CAAd;AACA,wBAAImC,QAAQ,GAAG;AAAA;AAAA,gEAAkB,oBAAlB,EAAwCnC,QAAxC,CAAf;AACA,wBAAIoC,IAAI,GAAG,KAAK1G,KAAL,CAAWS,WAAX,CAAuBsC,KAAvB,IAAgC,CAA3C,CAJS,CAKT;;AAEA,wBAAI4D,UAAU,GAAG,KAAK3G,KAAL,CAAWQ,SAAX,CAAqBuC,KAAK,GAAG,CAA7B,IAAkC2D,IAAnD,CAPS,CAQT;;AAEAH,oBAAAA,QAAQ,CAACvE,YAAT,CAAsB3E,KAAtB,EAA6B8E,MAA7B,GAAsC,MAAMuE,IAA5C;AACAF,oBAAAA,OAAO,CAACxE,YAAR,CAAqB3E,KAArB,EAA4B8E,MAA5B,GAAqC,MAAM;AAAA;AAAA,sDAAawE,UAAb,CAA3C;AACAF,oBAAAA,QAAQ,CAACzE,YAAT,CAAsB3E,KAAtB,EAA6B8E,MAA7B,GAAsC,MAAM;AAAA;AAAA,sDAAawE,UAAb,CAA5C;AACAJ,oBAAAA,QAAQ,CAACrE,MAAT,GAAkB,IAAlB;AACAsE,oBAAAA,OAAO,CAACtE,MAAR,GAAiB,KAAKlC,KAAL,CAAWK,WAAX,CAAuB0C,KAAvB,MAAkC,CAAnD;AACA0D,oBAAAA,QAAQ,CAACvE,MAAT,GAAkB,KAAKlC,KAAL,CAAWK,WAAX,CAAuB0C,KAAvB,MAAkC,CAApD;AACA;AAED,iBA1CD,EA0CG9B,KA1CH;AA2CA,eAhDD;AAkDAwB,cAAAA,MAAM,CAACC,UAAP,CAAkB,MAAIyC,IAAI,EAA1B,EAA6B,GAA7B;AACA,aA/DqB,CArBtB,EAoFG,KApFH;AAuFA,WA1FD;AA4FA;;AAEOrB,QAAAA,YAAY,GAAE;AACrB,eAAK5E,SAAL,GAAe,EAAf;AACA,eAAKC,OAAL,GAAa,EAAb;AACA,eAAKC,QAAL,GAAc,EAAd;AACA,eAAKC,WAAL,GAAiB,EAAjB;AACA,eAAKuH,QAAL,CAAc;AAAA;AAAA,wDAAmB,IAAnB,CAAd;AACA,eAAKrH,QAAL,CAAcoD,OAAd,CAAsBZ,IAAI,IAAI;AAC7B;AAAA;AAAA,wDAAkB,0BAAlB,EAA6CA,IAA7C,EAAmDG,MAAnD,GAA0D,KAA1D;AACA;AAAA;AAAA,wDAAkB,2BAAlB,EAA8CH,IAA9C,EAAoDG,MAApD,GAA2D,KAA3D;AACA;AAAA;AAAA,wDAAkB,qBAAlB,EAAwCH,IAAxC,EAA8CG,MAA9C,GAAqD,KAArD;AACA;AAAA;AAAA,wDAAkB,8BAAlB,EAAiDH,IAAjD,EAAuDG,MAAvD,GAA8D,KAA9D;AACA;AAAA;AAAA,wDAAkB,6BAAlB,EAAgDH,IAAhD,EAAsDG,MAAtD,GAA6D,KAA7D;AACA;AAAA;AAAA,wDAAkB,gBAAlB,EAAmCH,IAAnC,EAAyCG,MAAzC,GAAgD,KAAhD;AACA,iBAAKuB,IAAL,CAAUC,MAAV,CAAiBmD,WAAjB,CAA6B9E,IAA7B;AAEA,WATD;AAWA,eAAKxC,QAAL,GAAgB,EAAhB;AACA,eAAKP,aAAL,CAAmB8H,YAAnB;AAEA;;AACSC,QAAAA,eAAe,GAAS;AACjC,eAAK/H,aAAL,CAAmB8H,YAAnB;AACA;;AAEME,QAAAA,cAAc,GAAG;AAEvB,eAAK/H,QAAL,CAAc0D,OAAd,CAAsB,CAACZ,IAAD,EAAMgB,KAAN,KAAc;AACnC,gBAAIC,KAAK,GAAC5F,WAAW,CAAC;AAAA;AAAA,gEAAuB6F,OAAvB,CAA+B;AAAA;AAAA,sDAAiBC,cAAhD,EAAgEC,MAAjE,CAArB;AACA,gBAAIC,aAAJ;;AACA,gBAAI,KAAKK,IAAT,EAAe;AACdL,cAAAA,aAAa,GAAG;AAAA;AAAA,sEAAwB,KAAKK,IAA7B,CAAhB;AACA;;AACDT,YAAAA,KAAK,CAACK,WAAN,CAAkBD,aAAa,CAACE,CAAd,GAAkBP,KAAK,GAAG,GAA5C,EAAiDK,aAAa,CAACG,CAA/D;;AACA,iBAAK,IAAIX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA2B;AAC1B,kBAAIwB,IAAI,GAAGhH,WAAW,CAAC;AAAA;AAAA,kEAAuB6F,OAAvB,CAA+B;AAAA;AAAA,wDAAiBoB,eAAhD,EAAiElB,MAAlE,CAAtB;AACA,kBAAIqB,GAAU,GAAC,CAAf;AACA;AAAA;AAAA,0DAAkB,yBAAlB,EAA4CJ,IAA5C,EAAkDlC,MAAlD,GAAyD,IAAzD;AACA;AAAA;AAAA,0DAAkB,aAAlB,EAAgCkC,IAAhC,EAAsClC,MAAtC,GAA6C,KAA7C;;AACA,kBAAGU,CAAC,KAAG,CAAP,EAAS;AAAE4B,gBAAAA,GAAG,GAAC,EAAJ;AAAQ,eAAnB,MACK,IAAG5B,CAAC,KAAG,CAAP,EAAU;AAAE4B,gBAAAA,GAAG,GAAC,EAAJ;AAAQ,eAApB,MACA,IAAG5B,CAAC,KAAG,CAAP,EAAU;AAAE4B,gBAAAA,GAAG,GAAC,GAAJ;AAAS;;AAC1B,kBAAIC,CAAC,GAAG,CAAC,GAAD,GAAOD,GAAf;AACAJ,cAAAA,IAAI,CAACf,WAAL,CAAiBoB,CAAjB,EAAmB,CAAC,GAApB;AACA;AAAA;AAAA,0DAAkB,qBAAlB,EAAwCzB,KAAxC,EAA+CW,QAA/C,CAAwDS,IAAxD;AACA;;AACD;AAAA;AAAA,wDAAkB,gBAAlB,EAAoCpB,KAApC,EAA2Cd,MAA3C,GAAoD,IAApD;AACA;AAAA;AAAA,wDAAkB,kBAAlB,EAAsCc,KAAtC,EAA6Cd,MAA7C,GAAsD,IAAtD;AAEA,iBAAK3C,QAAL,CAAciE,IAAd,CAAmBR,KAAnB;AACA,iBAAKS,IAAL,CAAUC,MAAV,CAAiBC,QAAjB,CAA0BX,KAA1B;AACA;AAAA;AAAA,wDAAkB,2BAAlB,EAA8CA,KAA9C,EAAqDd,MAArD,GAA4D,IAA5D;AAEA,WA1BD;AA2BA;;AAEO8C,QAAAA,cAAc,CAACa,MAAD,EAA6B;AAClD,cAAIoB,QAAQ,GAAG,EAAf;;AACA,cAAIpB,MAAM,KAAK,CAAf,EAAkB;AACjBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBC,aAAjC;AACA,WAFD,MAEM,IAAIrB,MAAM,KAAK,CAAf,EAAkB;AACvBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBE,aAAjC;AACA,WAFK,MAEC,IAAItB,MAAM,KAAK,CAAf,EAAkB;AACxBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBG,aAAjC;AACA,WAFM,MAEA,IAAIvB,MAAM,KAAK,CAAf,EAAkB;AACxBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBI,aAAjC;AACA,WAFM,MAEA,IAAIxB,MAAM,KAAK,CAAf,EAAkB;AACxBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBK,aAAjC;AACA,WAFM,MAEA,IAAIzB,MAAM,KAAK,CAAf,EAAkB;AACxBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBM,aAAjC;AACA,WAFM,MAEA,IAAI1B,MAAM,KAAK,CAAf,EAAkB;AACxBoB,YAAAA,QAAQ,GAAG;AAAA;AAAA,gEAAsBO,aAAjC;AACA;;AACD,iBAAO;AAAA;AAAA,8DAAuBvE,OAAvB,CAA+BgE,QAA/B,EAAyC9D,MAAhD;AACA;AAED;;;AACQoB,QAAAA,OAAO,CAACkD,KAAD,EAAc;AACtB,iBAAO;AAAA;AAAA,gCAAO/G,QAAP,CAAgB+G,KAAhB,CAAP;AACH;;AAEMC,QAAAA,MAAM,GAAS,CAExB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAtb0E,O","sourcesContent":["import { _decorator,Game,game,instantiate,Label,Node, sp, Sprite, SpriteFrame, tween, UITransform, Vec3 } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { formatNumber, getNodeByNameDeep, getNodePositionInCanvas, initToggle } from '../../../utils/tool';\r\nimport { SpriteFramePathDefine } from '../sourceDefine/spriteDefine';\r\nimport { mainGameViewModel, playTurnCard, sourceManageSelector } from '../index';\r\nimport prefabDefine, { PrefabPathDefine } from '../sourceDefine/prefabDefine';\r\nimport { CardNum, Poker } from '../store/actions/pokerDetail';\r\nimport { BetType, gameCacheData, GameStatus } from '../type';\r\nimport TaskScheduler, { Task } from '../../../utils/TaskScheduler';\r\nimport config from '../config';\r\nimport { CardP, getSpecialCard, restructureCard, sumCard } from './Bandar_card_banker';\r\nimport { changeAllCardRateAction, setMemberBetAction } from '../store/actions/bet';\r\nimport { betAreaViewModel } from '../viewModel/BandarGameBoardViewModel';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\t/** 黑桃区域牌信息*/\r\n\tblackPoker: number[],\r\n\t/** 红桃区域牌信息*/\r\n\tredPoker: number[],\r\n\t/** 梅花区域牌信息*/\r\n\tplumPoker: number[],\r\n\t/** 方块区域牌信息*/\r\n\tdiamondPoker: number[],\r\n\tareaWinLose:number[],\r\n\tcountDown:number,\r\n\tgameStatus:GameStatus,\r\n\tmemberBet:object,\r\n\tallCardRate: number[],\r\n\tcardType: number[],\r\n\tspadeNum: CardNum,\r\n\theartNum: CardNum,\r\n\tsakuraNum: CardNum,\r\n\tblockNum: CardNum,\r\n\t//结算时进入房间使用的cardtype数据\r\n\tallCardType:number[],\r\n}\r\nexport interface IEvent {\r\n\t\r\n}\r\n\r\n\r\n@ccclass('Bandar_card_user')\r\nexport class Bandar_card_user extends BaseComponent<IState, IProps, IEvent> {\r\n\tprivate taskScheduler=new TaskScheduler()\r\n\tprivate areaInfo : BetType[] = [1,2,3,4];\r\n\tprivate blackCard :CardP[]=[];\r\n\tprivate redCard :CardP[]=[];\r\n\tprivate plumCard :CardP[]=[];\r\n\tprivate diamondCard :CardP[]=[];\r\n\tprivate allUserCard:Array<Array<CardP>>=[];\r\n\tprivate userCard: Node[] = []\r\n\tprivate isShowGame: boolean = true;\r\n\tstart() {}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_spr_usercard_num_bg:new Node(),\r\n\t\tprops_usercard_num_query:new Node(),\r\n\t\tprops_usercard_type:new Node(),\r\n\t\tprops_label_carduser_losenum:new Node(),\r\n\t\tprops_label_carduser_winnum:new Node(),\r\n\t\t// props_bandar_userbet:new Node(),\r\n\t\tprops_user_all_card:new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\t/** 黑桃区域牌信息*/\r\n\t\tblackPoker: null,\r\n\t\t/** 红桃区域牌信息*/\r\n\t\tredPoker: null,\r\n\t\t/** 梅花区域牌信息*/\r\n\t\tplumPoker:null,\r\n\t\t/** 方块区域牌信息*/\r\n\t\tdiamondPoker: null,\r\n\t\tareaWinLose:null,\r\n\t\tcountDown:0,\r\n\t\tgameStatus:null,\r\n\t\tmemberBet:null,\r\n\t\tallCardRate: null,\r\n\t\tcardType: null,\r\n\t\tspadeNum: null,\r\n\t\theartNum: null,\r\n\t\tsakuraNum: null,\r\n\t\tblockNum: null,\r\n\t\tallCardType:null,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\t\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tgame.on(Game.EVENT_HIDE,()=>{//游戏切入后台\r\n\t\t\tthis.isShowGame = false\r\n\t\t})\r\n\t\tgame.on(Game.EVENT_SHOW,()=>{//游戏进入\r\n\t\t\tthis.isShowGame = true;\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"spadeNum\") {\r\n\t\t\tif (value.cur && Object.keys(value.cur).length != 0) {\r\n\t\t\t\t// window.setTimeout(() => {\r\n\t\t\t\t\t// console.log(\"this.userCard\",this.userCard);\r\n\t\t\t\t\t// console.log(!this.userCard);\r\n\t\t\t\t\tif(mainGameViewModel.isUnMount){ return }\r\n\t\t\t\t\tif(!this.userCard || this.userCard.length===0){ return }\r\n\t\t\t\t\tlet item = this.props.allCardType[1];\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[0]).getComponent(Sprite).spriteFrame = item > 2 ? getSpecialCard(item) : getSpecialCard(3);\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[0]).active = item > 2;;//这里是特殊奖\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[0]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[0]).active = value.cur.win === 2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[0]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[0]).active = item > 2 ? false : value.cur.win === 1;\r\n\t\t\t\t\tif(value.cur.win===1){ betAreaViewModel.comp.playWinArea(1) }\r\n\t\t\t\t// }, 500)\r\n\t\t\t\t\t\r\n\t\t\t\t    \r\n\t\t\t} \r\n\t\t}\r\n\t\tif (key === \"heartNum\") {\r\n\t\t\tif (value.cur && Object.keys(value.cur).length != 0) {\r\n\t\t\t\t// window.setTimeout(() => {\r\n\t\t\t\t\tif(mainGameViewModel.isUnMount){ return }\r\n\t\t\t\t\tif(!this.userCard || this.userCard.length===0){ return }\r\n\t\t\t\t\tlet item = this.props.allCardType[2];\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[1]).getComponent(Sprite).spriteFrame =  item > 2 ? getSpecialCard(item) : getSpecialCard(3);\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[1]).active = item > 2;;//这里是特殊奖\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[1]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[1]).active = value.cur.win === 2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[1]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[1]).active = item > 2 ? false : value.cur.win === 1;\r\n\t\t\t\t\tif(value.cur.win===1){ betAreaViewModel.comp.playWinArea(2) }\r\n\t\t\t\t// }, 500)\r\n\t\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t\tif (key === \"sakuraNum\") {\r\n\t\t\tif (value.cur && Object.keys(value.cur).length != 0) {\r\n\t\t\t\t// window.setTimeout(() => {\r\n\t\t\t\t\tif(mainGameViewModel.isUnMount){ return }\r\n\t\t\t\t\tif(!this.userCard || this.userCard.length===0){ return }\r\n\t\t\t\t\tlet item = this.props.allCardType[3];\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[2]).getComponent(Sprite).spriteFrame = item > 2 ? getSpecialCard(item) : getSpecialCard(3);\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[2]).active = item > 2;//这里是特殊奖\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[2]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[2]).active = value.cur.win === 2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[2]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[2]).active = item > 2 ? false : value.cur.win === 1;\r\n\t\t\t\t\tif(value.cur.win===1){ betAreaViewModel.comp.playWinArea(3) }\r\n\t\t\t\t// },500)\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t\tif (key === \"blockNum\") {\r\n\t\t\tif (value.cur && Object.keys(value.cur).length != 0) {\r\n\t\t\t\t// window.setTimeout(() => {\r\n\t\t\t\t\tif(mainGameViewModel.isUnMount){ return }\r\n\t\t\t\t\tif(!this.userCard || this.userCard.length===0){ return }\r\n\t\t\t\t\tlet item = this.props.allCardType[4];\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[3]).getComponent(Sprite).spriteFrame = item > 2 ? getSpecialCard(item) : getSpecialCard(3);\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[3]).active =item > 2;;//这里是特殊奖\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[3]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", this.userCard[3]).active = value.cur.win === 2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[3]).getComponent(Label).string = value.cur.num1 + \":\" + value.cur.num2;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[3]).active = item > 2 ? false : value.cur.win === 1;\r\n\t\t\t\t\tif(value.cur.win===1){ betAreaViewModel.comp.playWinArea(4) }\r\n\t\t\t\t// },500)\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n        \r\n\t\tif (key === \"allCardType\") {\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tif (mainGameViewModel.isUnMount) { return }\r\n\t\t\t\tif (!value.cur) { return };\r\n\t\t\t\tvalue.cur.forEach((item,i) => {\r\n\t\t\t\t\tif (item != 2 && i != 0 && this.userCard.length != 0) {\r\n\t\t\t\t\t\t// window.setTimeout(() => {\r\n\t\t\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", this.userCard[i - 1]).active = false;\r\n\t\t\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[i - 1]).getComponent(Sprite).spriteFrame = getSpecialCard(item);\r\n\t\t\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", this.userCard[i - 1]).active = true;//这里是特殊奖\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t// },500)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},600)\r\n\t\t}\r\n\r\n\t\tif (key === \"blackPoker\") {\r\n\t\t\t// console.log(\"blackPoker\",value.cur);\r\n\t\t\t\r\n\t\t\tthis.createCard(this.userCard[0], 0, value.cur);\r\n\t\r\n\t\t}\r\n\t\tif (key === \"redPoker\") {\r\n\t\t\t// console.log(\"redPoker\",value.cur);\r\n\r\n\t\t\tthis.createCard(this.userCard[1],1,value.cur);\r\n\t\t}\r\n\t\tif (key === \"plumPoker\") {\r\n\t\t\t// console.log(\"plumPoker\",value.cur);\r\n\r\n\t\t\tthis.createCard(this.userCard[2],2,value.cur);\r\n\t\t}\r\n\t\tif (key === \"diamondPoker\") {\r\n\t\t\t// console.log(\"diamondPoker\",value.cur);\r\n\r\n\t\t\tthis.createCard(this.userCard[3],3,value.cur);\r\n\t\t}\r\n\t\tif(key===\"gameStatus\"){\r\n\r\n\t\t\tif (value.cur === GameStatus.BET) {\r\n\t\t\t\tif (mainGameViewModel.isUnMount) {  return }\r\n\t\t\t\tthis.areaInfo.forEach((item,index)=>{\r\n\t\t\t\t\tlet poker=instantiate(sourceManageSelector().getFile(PrefabPathDefine.MAIN_CARD_USER).source);\r\n\t\t\t\t\tlet pokerPosition = new Vec3(0, 0, 1)\r\n\t\t\t\t\t// let\tpokerPosition = getNodePositionInCanvas(this.node);\r\n\r\n\t\t\t\t\tpoker.setPosition(pokerPosition.x+index*220,pokerPosition.y);\r\n\t\t\t\t\tthis.userCard.push(poker);\r\n\t\t\t\t\tthis.node.parent.addChild(poker);\r\n\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\tif (mainGameViewModel.isUnMount) { return }\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_num_query\",poker).active=true;\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_spr_usercard_num_bg\",poker).active=true;\r\n\t\t\t\t\t},2000)\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}else if(value.cur===GameStatus.STOP_BET){\r\n\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\tif (mainGameViewModel.isUnMount) { return }\r\n\t\t\t\t\tthis.playAnimation()\r\n\t\t\t\t},1000)\r\n\t\t\t\t\r\n\t\t\t}else{\t\t\t\r\n\t\t\t\t// this.findCardUser()\r\n\t\t\t\tthis.clearCardArr()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n    /** 初始化 牌 改变资源 */\r\n\tprivate createCard(parentNode: Node, type: number, cardInfos) {\r\n\t\t// console.log(\"this.userCard\",this.userCard);\r\n\t\t\r\n\t\t// console.log(\"cardInfos1111111111\",parentNode,cardInfos);\r\n\t\tif(!parentNode || !cardInfos){return}\r\n\t\tgetNodeByNameDeep(\"props_user_all_card\",parentNode).removeAllChildren()\r\n\t\tlet cardInfo=cardInfos;\r\n\t\tcardInfo.forEach((item,index)=>{\r\n\t\t\tlet card=instantiate(sourceManageSelector().getFile(PrefabPathDefine.MAIN_CARD_SMALL).source);\r\n\t\t\tlet itemCard=this.getCard(item);\r\n\t\t\tlet num:number=0;\r\n\t\t\tgetNodeByNameDeep(\"props_skeleton_rollcard\",card).active=true;\r\n\t\t\tgetNodeByNameDeep(\"spr_card_bg\",card).active=false;\r\n            if(index===1){ num=38 } \r\n\t\t\telse if(index===2) { num=80 }\r\n\t\t\telse if(index===3) { num=118 }\r\n\t\t\tlet X=-388+num ;\r\n\t\t\tcard.setPosition(X,-155);\r\n\t\t\tlet itemCardNum=sumCard(itemCard.up,itemCard.down)\r\n\t\t\tif(type===0){\r\n\t\t\t\tlet newCard={cardNum:item,cardSum:itemCardNum,up:itemCard.up,down:itemCard.down,card:card}\r\n\t\t\t\tthis.blackCard.push(newCard)\r\n\t\t\t}else if(type===1){\r\n\t\t\t\tlet newCard={cardNum:item,cardSum:itemCardNum,up:itemCard.up,down:itemCard.down,card:card}\r\n\t\t\t\tthis.redCard.push(newCard)\r\n\t\t\t}else if(type===2){\r\n\t\t\t\tlet newCard={cardNum:item,cardSum:itemCardNum,up:itemCard.up,down:itemCard.down,card:card}\r\n\t\t\t\tthis.plumCard.push(newCard)\r\n\t\t\t}else if(type===3){\r\n\t\t\t\tlet newCard={cardNum:item,cardSum:itemCardNum,up:itemCard.up,down:itemCard.down,card:card}\r\n\t\t\t\tthis.diamondCard.push(newCard)\r\n\t\t\t}\r\n\t\t\tgetNodeByNameDeep(\"spr_card_up\",card).getComponent(Sprite).spriteFrame=this.getSpriteFrame(itemCard.up)\r\n\t\t\tgetNodeByNameDeep(\"spr_card_down\",card).getComponent(Sprite).spriteFrame=this.getSpriteFrame(itemCard.down)\r\n\t\t\tgetNodeByNameDeep(\"props_user_all_card\",parentNode).addChild(card)\r\n\t\t})\r\n\r\n\r\n\t}\r\n\r\n\r\n\t/**翻牌动画 */\r\n\tprivate playAnimation() {\r\n\t\t// console.log(\"this.userCard\",this.userCard);\r\n\t\t\r\n\t\tif (this.userCard.length === 0) { return }\r\n\t\tthis.userCard.forEach((itemCard, index) => {\r\n\t\t\t// playTurnCard()\r\n\t\t\tlet banker;\r\n\t\t\tthis.taskScheduler.joinqQueue(new Task((done) => {\r\n\t\t\t\t// console.log(\"111\");\r\n\t\t\t\tplayTurnCard()\t\r\n\t\t\t\tgetNodeByNameDeep(\"props_user_all_card\",itemCard).children.forEach(c=>{\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_skeleton_rollcard\",c).active=true;\r\n\t\t\t\t\t// getNodeByNameDeep(\"props_skeleton_rollcard\",c).getComponent(sp.Skeleton).animation=\"animation\";\r\n\t\t\t\t});\r\n\t\t\t\twindow.setTimeout(() => done(), 100)\r\n\t\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\t\t// console.log(\"222\");\r\n\t\t\t\tgetNodeByNameDeep(\"props_user_all_card\",itemCard).children.forEach(c=>{\r\n\t\t\t\t\tgetNodeByNameDeep(\"spr_card_bg\",c).active=true;\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_skeleton_rollcard\",c).active=false;\r\n\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\tif(index===0){ banker= this.blackCard \r\n\t\t\t\t}else if(index===1){ banker= this.redCard\r\n\t\t\t\t}else if(index===2){ banker= this.plumCard\r\n\t\t\t\t} else if (index === 3) { banker = this.diamondCard }\r\n\t\t\t\t// console.log(\"banker111111\",banker);\r\n\t\t\t\twindow.setTimeout(() => done(), 100);\r\n\t\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\t\t// console.log(\"3333\");\r\n\t\t\t\t\r\n\t\t\t\tlet userAllCard=[];\r\n\t\t\t\tuserAllCard.push(gameCacheData.newBlackPoker);\r\n\t\t\t\tuserAllCard.push(gameCacheData.newRedPoker);\r\n\t\t\t\tuserAllCard.push(gameCacheData.newPlumPoker)\r\n\t\t\t\tuserAllCard.push(gameCacheData.newDiamondPoker);\r\n\t\t\t\t// console.log(\"banker22222222\",banker);\r\n\r\n\t\t\t\tlet bankerItem=restructureCard(banker,userAllCard[index]);\r\n\t\t\t\tif (!bankerItem || !bankerItem.newArray) { return };\r\n\t\t\t\tbankerItem.newArray.forEach((item, i) => {\r\n\t\t\t\t\t// console.log(\"item111111\",item);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet result = this.props.cardType;\r\n\t\t\t\t\tlet endP = config.cardItemPosition[1][i];\r\n\t\t\t\t\ttween(item.card).to(0.6, { position: new Vec3(endP.x, endP.y) })\r\n\t\t\t\t\t.call(()=>{\r\n\t\t\t\t\t\t// if(){}//需要判定比例情况来展示比例还是特殊奖，特殊奖共有5种，需要判定用哪种资源\r\n\t\t\t\t\t\t// console.log(\"bankerItem.result-------\",bankerItem.result);\r\n\t\t\t\t\t\tif (mainGameViewModel.isUnMount) {  return }\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_num_query\", itemCard).active = false;\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", itemCard).getComponent(Label).string = bankerItem.max + \":\" + bankerItem.min;\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\", itemCard).active = result[index + 1] <= 2;//这里是输的比例展示.需要判定输赢\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", itemCard).getComponent(Label).string = bankerItem.max + \":\" + bankerItem.min;\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", itemCard).getComponent(Sprite).spriteFrame = result[index + 1] > 2 ? getSpecialCard(result[index + 1]) : getSpecialCard(3);\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_usercard_type\", itemCard).active = result[index + 1] > 2;//这里是特殊奖\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\", itemCard).active = result[index + 1] <= 2 && this.props.areaWinLose[index] === 1;\r\n\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"bandar_userbet\", itemCard).active = true;\r\n\t\t\t\t\t\tlet isBet: boolean;\r\n\t\t\t\t\t\tif(!this.props.memberBet){\r\n\t\t\t\t\t\t\tisBet = true;/**没有下注 */\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tisBet = !this.props.memberBet.hasOwnProperty(index + 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tgetNodeByNameDeep(\"label_userbet_no\", itemCard).active = isBet;/**没有下注ui节点 */\r\n\t\t\t\t\t\tif(!isBet){/**若用户下注 区域下ui节点展示情况*/\r\n\t\t\t\t\t\t\tlet rateNode = getNodeByNameDeep(\"label_userbet_rate\", itemCard);\r\n\t\t\t\t\t\t\tlet winNode = getNodeByNameDeep(\"label_userbet_win\", itemCard);\r\n\t\t\t\t\t\t\tlet loseNode = getNodeByNameDeep(\"label_userbet_lose\", itemCard);\r\n\t\t\t\t\t\t\tlet rate = this.props.allCardRate[index] - 1;\r\n\t\t\t\t\t\t\t// console.log(\"this.props.memberBet[index + 1]\",this.props.memberBet[index + 1],index + 1);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet winLoseNum = this.props.memberBet[index + 1] * rate;\r\n\t\t\t\t\t\t\t// console.log(\"winLoseNum\",winLoseNum);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\trateNode.getComponent(Label).string = \"x\" + rate;\r\n\t\t\t\t\t\t\twinNode.getComponent(Label).string = \"+\" + formatNumber(winLoseNum);\r\n\t\t\t\t\t\t\tloseNode.getComponent(Label).string = \"-\" + formatNumber(winLoseNum);\r\n\t\t\t\t\t\t\trateNode.active = true;\r\n\t\t\t\t\t\t\twinNode.active = this.props.areaWinLose[index] === 1;\r\n\t\t\t\t\t\t\tloseNode.active = this.props.areaWinLose[index] === 2;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).start();\r\n\t\t\t\t})\r\n\r\n\t\t\t\twindow.setTimeout(()=>done(),400)\r\n\t\t\t}),false)\r\n\t\t\t\r\n\t\t\t\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tprivate clearCardArr(){\r\n\t\tthis.blackCard=[];\r\n\t\tthis.redCard=[];\r\n\t\tthis.plumCard=[];\r\n\t\tthis.diamondCard=[];\r\n\t\tthis.dispatch(setMemberBetAction(null))\r\n\t\tthis.userCard.forEach(item => {\r\n\t\t\tgetNodeByNameDeep(\"props_usercard_num_query\",item).active=false;\r\n\t\t\tgetNodeByNameDeep(\"props_spr_usercard_num_bg\",item).active=false;\r\n\t\t\tgetNodeByNameDeep(\"props_usercard_type\",item).active=false;\r\n\t\t\tgetNodeByNameDeep(\"props_label_carduser_losenum\",item).active=false;\r\n\t\t\tgetNodeByNameDeep(\"props_label_carduser_winnum\",item).active=false;\r\n\t\t\tgetNodeByNameDeep(\"bandar_userbet\",item).active=false;\r\n\t\t\tthis.node.parent.removeChild(item)\r\n\t\t\t\r\n\t\t})\r\n\t\t\r\n\t\tthis.userCard = []\r\n\t\tthis.taskScheduler.destoryQueue()\r\n\t\t\r\n\t}\r\n\tprotected destroyCallBack(): void {\r\n\t\tthis.taskScheduler.destoryQueue();\r\n\t}\r\n\r\n\tpublic createUserCard() {\r\n\t\t\r\n\t\tthis.areaInfo.forEach((item,index)=>{\r\n\t\t\tlet poker=instantiate(sourceManageSelector().getFile(PrefabPathDefine.MAIN_CARD_USER).source);\r\n\t\t\tlet pokerPosition\r\n\t\t\tif (this.node) {\r\n\t\t\t\tpokerPosition = getNodePositionInCanvas(this.node);\r\n\t\t\t}\r\n\t\t\tpoker.setPosition(pokerPosition.x + index * 220, pokerPosition.y);\r\n\t\t\tfor (let i = 0; i < 4; i++){\r\n\t\t\t\tlet card = instantiate(sourceManageSelector().getFile(PrefabPathDefine.MAIN_CARD_SMALL).source);\r\n\t\t\t\tlet num:number=0;\r\n\t\t\t\tgetNodeByNameDeep(\"props_skeleton_rollcard\",card).active=true;\r\n\t\t\t\tgetNodeByNameDeep(\"spr_card_bg\",card).active=false;\r\n\t\t\t\tif(i===1){ num=38 } \r\n\t\t\t\telse if(i===2) { num=80 }\r\n\t\t\t\telse if(i===3) { num=118 }\r\n\t\t\t\tlet X = -388 + num;\r\n\t\t\t\tcard.setPosition(X,-155);\r\n\t\t\t\tgetNodeByNameDeep(\"props_user_all_card\",poker).addChild(card)\r\n\t\t\t}\r\n\t\t\tgetNodeByNameDeep(\"bandar_userbet\", poker).active = true;\r\n\t\t\tgetNodeByNameDeep(\"label_userbet_no\", poker).active = true;\r\n\r\n\t\t\tthis.userCard.push(poker);\r\n\t\t\tthis.node.parent.addChild(poker);\r\n\t\t\tgetNodeByNameDeep(\"props_spr_usercard_num_bg\",poker).active=true;\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tprivate getSpriteFrame(result:number): SpriteFrame {\r\n\t\tlet fileName = '';\r\n\t\tif (result === 0) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER0;\r\n\t\t}else if (result === 1) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER1;\r\n\t\t} else if (result === 2) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER2;\r\n\t\t} else if (result === 3) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER3;\r\n\t\t} else if (result === 4) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER4;\r\n\t\t} else if (result === 5) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER5;\r\n\t\t} else if (result === 6) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_POKER6;\r\n\t\t} \r\n\t\treturn sourceManageSelector().getFile(fileName).source;\r\n\t}\r\n\r\n\t/**获取每张牌的组型 */\r\n\tprivate getCard(cardT:number){\r\n        return config.cardType[cardT]\r\n    }\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}