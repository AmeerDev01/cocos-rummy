{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dragonTiger/components/DragonTiger_chip.ts"],"names":["_decorator","Label","Sprite","BaseComponent","config","sourceManageSeletor","ccclass","property","DragonTiger_chip","propertyNode","props_spr_chips","props_label_chips","props","value","events","start","initState","bindEvent","useProps","key","chip","chipTypes","find","v","cur","string","valueStr","loadResource","spriteFrame","getFile","fileUrl","source","font","fontUrl","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAA6BC,MAAAA,K,OAAAA,K;AAAwBC,MAAAA,M,OAAAA,M;;AACrDC,MAAAA,a,iBAAAA,a;;AACFC,MAAAA,M;;AACEC,MAAAA,mB,iBAAAA,mB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;kCAcjBQ,gB,WADZF,OAAO,CAAC,kBAAD,C,gBAAR,MACaE,gBADb;AAAA;AAAA,0CAC4E;AAAA;AAAA;AAAA,eAKjEC,YALiE,GAKlD;AACxBC,YAAAA,eAAe,EAAE,IAAIR,MAAJ,EADO;AAExBS,YAAAA,iBAAiB,EAAE,IAAIV,KAAJ;AAFK,WALkD;AAAA,eAUpEW,KAVoE,GAUpD;AACtBC,YAAAA,KAAK,EAAE;AADe,WAVoD;AAAA,eAcpEC,MAdoE,GAcnD,EAdmD;AAAA;;AAC3EC,QAAAA,KAAK,GAAG,CAEP;;AAeSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS,CAE3B;;AAESC,QAAAA,QAAQ,CAACC,GAAD,EAAoBN,KAApB,EAAmD;AACpE,cAAIM,GAAG,KAAK,OAAZ,EAAqB;AACpB,gBAAMC,IAAI,GAAG;AAAA;AAAA,kCAAOC,SAAP,CAAiBC,IAAjB,CAAsBC,CAAC,IAAIA,CAAC,CAACV,KAAF,KAAYA,KAAK,CAACW,GAA7C,CAAb;AACA,iBAAKf,YAAL,CAAkBE,iBAAlB,CAAoCc,MAApC,GAA6CL,IAAI,CAACM,QAAlD;AACA,iBAAKC,YAAL,CAAkBP,IAAlB;AACA;AACD;AAED;;;AACQO,QAAAA,YAAY,CAACP,IAAD,EAAY;AAC/B,eAAKX,YAAL,CAAkBC,eAAlB,CAAkCkB,WAAlC,GAAgD;AAAA;AAAA,4DAAsBC,OAAtB,CAA8BT,IAAI,CAACU,OAAnC,EAA4CC,MAA5F;AACA,eAAKtB,YAAL,CAAkBE,iBAAlB,CAAoCqB,IAApC,GAA2C;AAAA;AAAA,4DAAsBH,OAAtB,CAA8BT,IAAI,CAACa,OAAnC,EAA4CF,MAAvF;AACA;;AAESG,QAAAA,MAAM,GAAS,CAExB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAhD0E,O","sourcesContent":["import { _decorator, Component, Font, Label, Node, resources, Sprite, SpriteFrame } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport config from '../config';\r\nimport { sourceManageSeletor } from '../index';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tvalue?: number\r\n}\r\nexport interface IEvent {\r\n\r\n}\r\n\r\n@ccclass('DragonTiger_chip')\r\nexport class DragonTiger_chip extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_spr_chips: new Sprite(),\r\n\t\tprops_label_chips: new Label(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tvalue: 0\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === 'value') {\r\n\t\t\tconst chip = config.chipTypes.find(v => v.value === value.cur);\r\n\t\t\tthis.propertyNode.props_label_chips.string = chip.valueStr;\r\n\t\t\tthis.loadResource(chip);\r\n\t\t}\r\n\t}\r\n\r\n\t/** 加载金币资源 */\r\n\tprivate loadResource(chip: any) {\r\n\t\tthis.propertyNode.props_spr_chips.spriteFrame = sourceManageSeletor().getFile(chip.fileUrl).source;\r\n\t\tthis.propertyNode.props_label_chips.font = sourceManageSeletor().getFile(chip.fontUrl).source;\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}