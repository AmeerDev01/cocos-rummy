{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandarQiuQiu/components/BandarQiuQiu_cards.ts"],"names":["_decorator","Node","Animation","Label","Sprite","Color","sp","game","Game","instantiate","BaseComponent","getNodeByNameDeep","GameStatus","config","SpriteFramePathDefine","mainGameViewModel","playPK","playTurnCard","sourceManageSelector","TaskScheduler","Task","SkeletonAnimationPlayer","ccclass","property","BandarQiuQiu_cards","taskScheduler","isShowGame","propertyNode","props_layout_cards","props_spr_clock_bg","props_label_clock_num","props_skeleton_blue_cardType","props_skeleton_red_cardType","props_spr_blue_win_bg","props_spr_red_win_bg","props_node_card_back","props_note_blue_cardBack","props_note_red_cardBack","props_spr_blueCard1","props_spr_blueCard2","props_spr_redCard1","props_spr_redCard2","props_note_card_roll","props_spr_blue_roll_card1","props_spr_blue_roll_card2","props_spr_red_roll_card1","props_spr_red_roll_card2","props_label_blue_winNum","props_label_red_loseNum","props_skleton_commpare_bg","props_skleton_commpare_vs","props","countDown","gameStatus","blueCard","redCard","twinNum","cardType","events","start","initState","bindEvent","on","EVENT_HIDE","EVENT_SHOW","isUnMount","node","useProps","key","value","cur","active","getComponent","string","console","log","BET","initialCardState","STOP_BET","window","setTimeout","playAnimation","WAIT","initCardActive","blueType","redType","color","fromHEX","greenType","comparePoints","backCard","parent","addChild","joinqQueue","done","play","isValid","destroy","changeCardUpDown","playWinBg","ani","getGreenCardTypeSkeleton","Skeleton","getBlueRedCardTypeSkeleton","forEach","b","i","itemCard","getCard","num","card","spriteFrame","getSpriteFrame","up","down","r","twins","blueNum","redNum","initCardBack","cardT","sumCard","changeNumColor","result","fileName","BANDARQIUQIU_POKER0","BANDARQIUQIU_POKER1","BANDARQIUQIU_POKER2","BANDARQIUQIU_POKER3","BANDARQIUQIU_POKER4","BANDARQIUQIU_POKER5","BANDARQIUQIU_POKER6","getFile","source","animationName","destroyCallBack","destoryQueue","stopQueue","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Node, Animation, Label, SpriteFrame, Sprite, Color, sp, Vec3, game, Game, instantiate } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { getNodeByNameDeep, getNodePositionInCanvas } from '../../../utils/tool';\r\nimport { GameStatus, TwinNum } from '../type';\r\nimport config from '../config';\r\nimport { SpriteFramePathDefine } from '../sourceDefine/spriteDefine';\r\nimport { mainGameViewModel, playPK, playTurnCard, sourceManageSelector } from '../index';\r\nimport TaskScheduler, { Task } from '../../../utils/TaskScheduler';\r\nimport { sendCardsViewModel } from '../viewModel/BandarQiuQiuGameBoardViewModel';\r\nimport { CardType } from '../store/actions/bet';\r\nimport SkeletonAnimationPlayer from '../SkeletonPlay';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n\tcardType: CardType,   \r\n}\r\n\r\nexport interface IProps {\r\n\tcountDown: number,\r\n\tgameStatus: GameStatus,\r\n\tblueCard: number[],\r\n\tredCard: number[],\r\n\ttwinNum: TwinNum,\r\n\tcardType: CardType,\r\n\t\r\n}\r\nexport interface IEvent {\r\n\t\r\n}\r\n\r\n\r\n@ccclass('BandarQiuQiu_cards')\r\nexport class BandarQiuQiu_cards extends BaseComponent<IState, IProps, IEvent> {\r\n\tprivate taskScheduler = new TaskScheduler();\r\n\tprivate isShowGame: boolean = true;\r\n\t// private backCard: Node = null;\r\n\tstart() {\r\n\t\t\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_layout_cards:new Node(),\r\n\t\tprops_spr_clock_bg: new Node(),\r\n\t\tprops_label_clock_num: new Node(),\r\n\r\n\t\tprops_skeleton_blue_cardType: new Node(),\r\n\t\tprops_skeleton_red_cardType: new Node(),\r\n\t\tprops_spr_blue_win_bg: new Node(),\r\n\t\tprops_spr_red_win_bg: new Node(),\r\n\r\n\t\tprops_node_card_back: new Node(),\r\n\t\tprops_note_blue_cardBack: new Node(),\r\n\t\tprops_note_red_cardBack: new Node(),\r\n\t\tprops_spr_blueCard1: new Node(),\r\n\t\tprops_spr_blueCard2: new Node(),\r\n\t\tprops_spr_redCard1: new Node(),\r\n\t\tprops_spr_redCard2: new Node(),\r\n\t\tprops_note_card_roll: new Node(),\r\n\t\tprops_spr_blue_roll_card1: new Node(),\r\n\t\tprops_spr_blue_roll_card2: new Node(),\r\n\t\tprops_spr_red_roll_card1: new Node(),\r\n\t\tprops_spr_red_roll_card2: new Node(),\r\n\r\n\t\tprops_label_blue_winNum: new Label(),\r\n\t\tprops_label_red_loseNum: new Label(),\r\n\t\t\r\n\t\tprops_skleton_commpare_bg: new Node(),\r\n\t\tprops_skleton_commpare_vs: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tcountDown: 0,\r\n\t\tgameStatus: null,\r\n\t\tblueCard: null,\r\n\t    redCard: null,\r\n\t\ttwinNum: null,\r\n\t\tcardType:null,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\t\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\tcardType: null,\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tgame.on(Game.EVENT_HIDE,()=>{//游戏切入后台\r\n            this.isShowGame = false;\r\n\t\t})\r\n\t\tgame.on(Game.EVENT_SHOW,()=>{//游戏进入\r\n\t\t\t  this.isShowGame = true;\r\n\t\t\t  if (!mainGameViewModel.isUnMount) {\r\n\t\t\t\t  if (this.node) {\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\r\n\t\t\t  }\r\n\t\t\t  \r\n\t\t})\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"countDown\") { \r\n\t\t\t// console.log(\"countDown\",value.cur);\r\n\t\t\t\r\n\t\t\tif (value.cur <= 15 && value.cur > 0) {\r\n\t\t\t\tthis.propertyNode.props_node_card_back.active = true;\r\n\t\t\t}\r\n\t\t\tif (value.cur > 0) {\r\n\t\t\t\tthis.propertyNode.props_spr_clock_bg.active = true;\r\n\t\t\t\tthis.propertyNode.props_label_clock_num.getComponent(Label).string = value.cur + \"\"\r\n\t\t\t}else {\r\n\t\t\t\tthis.propertyNode.props_spr_clock_bg.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"gameStatus\") {\r\n\t\t\tconsole.log(\"gameStatus\",value.cur);\r\n\t\t\t\r\n\t\t\tif (value.cur === GameStatus.BET) {\r\n\t\t\t\t// this.propertyNode.props_node_card_back.active = true;\r\n\r\n\t\t\t\tthis.initialCardState()\r\n\t\t\t} else if (value.cur === GameStatus.STOP_BET) {\r\n\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t    this.playAnimation()\r\n\t\t\t\t},2000)\r\n\t\t\t\t\r\n\t\t\t} else if (value.cur === GameStatus.WAIT) {\r\n\t\t\t\tthis.initCardActive();\r\n\t\t\t\tthis.initialCardState();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif (key === \"blueCard\") {}\r\n\t\tif (key === \"redCard\") {}\r\n\t\tif (key === \"cardType\") {\r\n\t\t\tif(!value.cur){ return }\r\n\t\t\tif (value.cur.blueType > value.cur.redType) {\r\n\t\t\t\tthis.propertyNode.props_label_blue_winNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t\tthis.propertyNode.props_label_red_loseNum.color = new Color().fromHEX(\"#FFFFFF\");\r\n\t\t\t} else  if (value.cur.blueType < value.cur.redType) {\r\n\t\t\t\tthis.propertyNode.props_label_red_loseNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t\tthis.propertyNode.props_label_blue_winNum.color = new Color().fromHEX(\"#FFFFFF\");\r\n\t\t\t} else if (value.cur.greenType > 0) {\r\n\t\t\t\tthis.propertyNode.props_label_blue_winNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t\tthis.propertyNode.props_label_red_loseNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"twinNum\") {\r\n\t\t\tif(!value.cur){ return }\r\n\t\t\tthis.comparePoints(value.cur)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t/**初始牌节点的激活状态 */\r\n\tprivate initCardActive() {\r\n\t\tthis.propertyNode.props_spr_red_win_bg.active = false;\r\n\t\tthis.propertyNode.props_spr_blue_win_bg.active = false;\r\n\t\tthis.propertyNode.props_skeleton_blue_cardType.active = false;\r\n\t\tthis.propertyNode.props_skeleton_red_cardType.active = false;\r\n\t\tthis.propertyNode.props_note_card_roll.active = false;\r\n\t\tthis.propertyNode.props_node_card_back.active = false;\r\n\t\tthis.propertyNode.props_skleton_commpare_bg.active = false;\r\n\t\tthis.propertyNode.props_skleton_commpare_vs.active = false;\r\n\t\tthis.propertyNode.props_spr_clock_bg.active = false;\r\n\t}\r\n\r\n\t/**播放 移动牌 翻牌 动画 */\r\n\tprivate playAnimation() {\r\n\t\tconsole.log(\"this.isShowGame22\",this.isShowGame);\r\n\t\tif (!this.isShowGame) {\r\n\t\t\tthis.initialCardState();\r\n\t\t\treturn\r\n\t\t};\r\n\t\tif (mainGameViewModel.isUnMount) { return };\r\n\t\t//避免使用原始节点在弱网情况下播放动画后卡帧，每次克隆，让动画保持初始状态。\r\n\t\tlet backCard = instantiate(this.propertyNode.props_node_card_back);\r\n\t\tthis.propertyNode.props_node_card_back.active = false;\r\n\t\tbackCard.active = true;\r\n\t\tthis.propertyNode.props_layout_cards.parent.addChild(backCard);\r\n\t\tthis.taskScheduler.joinqQueue(new Task((done) => {\r\n\t\t\tthis.propertyNode.props_skleton_commpare_bg.active = true;\r\n\t\t\twindow.setTimeout(()=>done(),300)\r\n\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\tplayPK();\r\n\t\t\tconsole.log(\"backCard\",backCard,backCard.getComponent(Animation));\r\n\t\t\tbackCard.getComponent(Animation).play(\"animation_cardBack_move\");\r\n\t\t\t// this.propertyNode.props_node_card_back.getComponent(Animation).play(\"animation_cardBack_move\");\r\n\r\n\t\t\tthis.propertyNode.props_skleton_commpare_vs.active = true;\r\n\t\t\twindow.setTimeout(()=>done(),1500)\r\n\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\tbackCard.getComponent(Animation).play(\"animation_cardBack_roll\");\r\n\t\t\t// this.propertyNode.props_node_card_back.getComponent(Animation).play(\"animation_cardBack_roll\");\r\n\t\t\twindow.setTimeout(()=>done(),200)\r\n\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\tplayTurnCard();\r\n\t\t\tif (backCard && backCard.isValid) {\r\n\t\t\t\tbackCard.active = false;\r\n\t\t\t\tbackCard.destroy();\r\n\t\t\t\tbackCard = null;\r\n\t\t\t}\r\n\t\t\t// this.propertyNode.props_node_card_back.active = false;\r\n\t\t\tthis.propertyNode.props_note_card_roll.active = true;\r\n\t\t\t// this.propertyNode.props_node_card_back.getComponent(Animation).stop();\r\n\t\t\tthis.propertyNode.props_note_card_roll.getComponent(Animation).play(\"animation_card_roll\");\r\n\r\n\t\t\tconsole.log(this.props.blueCard,this.props.redCard);\r\n\t\t\t// this.initCardBack();\r\n\t\t\tthis.initialCardState()\r\n\t\t\tthis.changeCardUpDown(this.props.blueCard,this.props.redCard)\r\n\t\t\twindow.setTimeout(()=>done(),1500)\r\n\t\t}),false).joinqQueue(new Task((done) => {\r\n\t\t\tthis.propertyNode.props_note_card_roll.getComponent(Animation).play(\"animation_card_move\");\r\n\t\t\tthis.propertyNode.props_skleton_commpare_bg.active = false;\r\n\t\t\tthis.propertyNode.props_skleton_commpare_vs.active = false;\r\n\t\t\twindow.setTimeout(()=>done(),500)\r\n\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\tif (!this.props || !this.props.cardType || !this.props.twinNum) return\r\n\t\t\tconsole.log(\"this.props.twinNum\",this.props.twinNum,this.props.cardType);\r\n\t\t\tthis.playWinBg(this.props.twinNum,this.props.cardType)\r\n\t\t\tif (this.props.cardType.greenType > 0) {\r\n\t\t\t\tlet ani = this.getGreenCardTypeSkeleton(this.props.cardType.greenType);\r\n\t\t\t\tthis.propertyNode.props_skeleton_blue_cardType.active = true;\r\n\t\t\t    this.propertyNode.props_skeleton_red_cardType.active = true;\r\n\t\t\t\tnew SkeletonAnimationPlayer(this.propertyNode.props_skeleton_blue_cardType.getComponent(sp.Skeleton), ani, false).playAnimation();\r\n\t\t\t\tnew SkeletonAnimationPlayer(this.propertyNode.props_skeleton_red_cardType.getComponent(sp.Skeleton), ani, false).playAnimation();\r\n\t\t\t}\r\n\t\t\tif (this.props.cardType.blueType > 0) {\r\n\t\t\t\tlet ani = this.getBlueRedCardTypeSkeleton(this.props.cardType.blueType);\r\n\t\t\t\tthis.propertyNode.props_skeleton_blue_cardType.active = true;\r\n\t\t\t\tnew SkeletonAnimationPlayer(this.propertyNode.props_skeleton_blue_cardType.getComponent(sp.Skeleton), ani, false).playAnimation();\t\r\n\t\t\t}\r\n\t\t\tif (this.props.cardType.redType > 0) {\r\n\t\t\t\tlet ani = this.getBlueRedCardTypeSkeleton(this.props.cardType.redType);\r\n\t\t\t\tthis.propertyNode.props_skeleton_red_cardType.active = true;\t\t\t\t\r\n\t\t\t\tnew SkeletonAnimationPlayer(this.propertyNode.props_skeleton_red_cardType.getComponent(sp.Skeleton), ani, false).playAnimation();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twindow.setTimeout(()=>done(),500)\r\n\t\t}),false).joinqQueue(new Task((done) => {\r\n\t\t\tthis.initialCardState();\r\n\t\t\t// console.log(\"parent\",this.propertyNode.props_layout_cards.parent);\r\n\t\t\t\r\n\t\t\twindow.setTimeout(()=>done(),500)\r\n\t\t}),false)\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t/**更改牌的点数 */\r\n\tpublic changeCardUpDown(blueCard,redCard) {\r\n\t\tif (!blueCard || !redCard ) { return };\r\n\t\t// if (!redCard ) { return };\r\n\t\tblueCard.forEach((b,i) => {\r\n\t\t\tlet itemCard = this.getCard(b);\r\n\t\t\tlet num = i + 1;\r\n\t\t\tlet card = getNodeByNameDeep(\"props_spr_blue_roll_card\" + num, this.propertyNode.props_note_card_roll);\r\n\t\t\tgetNodeByNameDeep(\"spr_cardNum_up\", card).getComponent(Sprite).spriteFrame = this.getSpriteFrame(itemCard.up);\r\n\t\t\tgetNodeByNameDeep(\"spr_cardNum_down\", card).getComponent(Sprite).spriteFrame = this.getSpriteFrame(itemCard.down);\r\n\t\r\n\t\t})\r\n\t\tredCard.forEach((r,i) => {\r\n\t\t\tlet itemCard = this.getCard(r);\r\n\t\t\tlet num = i + 1;\r\n\t\t\tlet card = getNodeByNameDeep(\"props_spr_red_roll_card\" + num, this.propertyNode.props_note_card_roll);\r\n\t\t\tgetNodeByNameDeep(\"spr_cardNum_up\", card).getComponent(Sprite).spriteFrame = this.getSpriteFrame(itemCard.up);\r\n\t\t\tgetNodeByNameDeep(\"spr_cardNum_down\", card).getComponent(Sprite).spriteFrame = this.getSpriteFrame(itemCard.down);\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\t/**比较点数，更改labelNum颜色 */\r\n\r\n\tprivate comparePoints(twins:TwinNum) {\r\n\t\tif (twins) {\r\n\t\t\tthis.propertyNode.props_label_blue_winNum.string = twins.blueNum + \"\";\r\n\t\t\tthis.propertyNode.props_label_red_loseNum.string = twins.redNum + \"\";\r\n\t\t\tthis.propertyNode.props_label_blue_winNum.color = new Color().fromHEX(\"#FFFFFF\");\r\n\t\t\tthis.propertyNode.props_label_red_loseNum.color = new Color().fromHEX(\"#FFFFFF\");\r\n\r\n\t\t\tif (twins.blueNum > twins.redNum) {\r\n\t\t\t\tthis.propertyNode.props_label_blue_winNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t} else if(twins.blueNum < twins.redNum){\r\n\t\t\t\tthis.propertyNode.props_label_red_loseNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t} else if (twins.blueNum === twins.redNum) {\r\n\t\t\t\tthis.propertyNode.props_label_blue_winNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t\tthis.propertyNode.props_label_red_loseNum.color = new Color().fromHEX(\"#FFD119\");\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t/**比较点数 和特殊牌型，判断是否展示赢的光圈 */\r\n\tpublic playWinBg(twins: TwinNum,cardType) {\r\n\t\t\r\n\t\tif (cardType) {\r\n\t\t\tif (cardType.blueType > cardType.redType) {\r\n\t\t\t\tthis.propertyNode.props_spr_blue_win_bg.active = true;\r\n\t\t\t\tthis.propertyNode.props_spr_red_win_bg.active = false;\r\n\r\n\t\t\t} else  if (cardType.blueType < cardType.redType) {\r\n\t\t\t\tthis.propertyNode.props_spr_red_win_bg.active = true;\r\n\t\t\t\tthis.propertyNode.props_spr_blue_win_bg.active = false;\r\n\r\n\t\t\t} else if(cardType.greenType <= 0){\r\n\t\t\t\t\r\n\t\t\t\tif (twins) {\r\n\t\t\t\t\r\n\t\t\t\t\tif (twins.blueNum > twins.redNum) {\r\n\t\t\t\t\t\tthis.propertyNode.props_spr_blue_win_bg.active = true;\r\n\t\t\t\t\t\tthis.propertyNode.props_spr_red_win_bg.active = false;\r\n\t\t\r\n\t\t\t\t\t} else if(twins.blueNum < twins.redNum){\r\n\t\t\t\t\t\tthis.propertyNode.props_spr_red_win_bg.active = true;\r\n\t\t\t\t\t\tthis.propertyNode.props_spr_blue_win_bg.active = false;\r\n\t\t\r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate initialCardState() {\r\n\t\t// this.propertyNode.props_note_blue_cardBack.setPosition(-309, 0);\r\n\t\t// this.propertyNode.props_note_red_cardBack.setPosition(309, 0);\r\n\t\t// this.propertyNode.props_spr_blueCard1.setPosition(-34, 0);\r\n\t\t// this.propertyNode.props_spr_blueCard2.setPosition(34, 0);\r\n\t\t// this.propertyNode.props_spr_redCard1.setPosition(-34, 0);\r\n\t\t// this.propertyNode.props_spr_redCard2.setPosition(34, 0);\r\n         \r\n\t\t// this.propertyNode.props_note_blue_cardBack.scale = new Vec3(1, 1);\r\n\t\t// this.propertyNode.props_spr_blueCard1.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_spr_blueCard2.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_spr_redCard1.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_spr_redCard2.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_note_red_cardBack.scale = new Vec3(1, 1);\r\n\t}\r\n\tpublic initCardBack() {\r\n\t\t// this.propertyNode.props_note_blue_cardBack.setPosition(-309, 0);\r\n\t\t// this.propertyNode.props_note_red_cardBack.setPosition(309, 0);\r\n\t\t// this.propertyNode.props_spr_blueCard1.setPosition(-34, 0);\r\n\t\t// this.propertyNode.props_spr_blueCard2.setPosition(34, 0);\r\n\t\t// this.propertyNode.props_spr_redCard1.setPosition(-34, 0);\r\n\t\t// this.propertyNode.props_spr_redCard2.setPosition(34, 0);\r\n\t\t// this.propertyNode.props_spr_blueCard1.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_spr_blueCard2.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_spr_redCard1.scale = new Vec3(0.7, 0.7);\r\n\t\t// this.propertyNode.props_spr_redCard2.scale = new Vec3(0.7, 0.7);\r\n\t}\r\n\r\n\t/**获取每张牌的组型 */\r\n\tprivate getCard(cardT:number){\r\n        return config.cardType[cardT]\r\n\t}\r\n\r\n\t/**计算点数 */\r\n\tprivate sumCard(itemCard):number{\r\n\t\tlet num: number;\r\n\t  \r\n\t\tnum = (itemCard.up + itemCard.down) % 10;\r\n\t  \r\n\t\treturn num;\r\n\t}\r\n\r\n\t/**切换输赢数字颜色 */\r\n\tprivate changeNumColor(num) {\r\n\t\tif (num === 1) {\r\n\t\t\treturn new Color().fromHEX(\"#FFD119\");\r\n\t\t} else if (num === 2) {\r\n\t\t\treturn new Color().fromHEX(\"#FFFFFF\");\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t/**获取牌的点数资源 */\r\n\tprivate getSpriteFrame(result:number): SpriteFrame {\r\n\t\tlet fileName = '';\r\n\t\tif (result === 0) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER0;\r\n\t\t}else if (result === 1) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER1;\r\n\t\t} else if (result === 2) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER2;\r\n\t\t} else if (result === 3) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER3;\r\n\t\t} else if (result === 4) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER4;\r\n\t\t} else if (result === 5) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER5;\r\n\t\t} else if (result === 6) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDARQIUQIU_POKER6;\r\n\t\t} \r\n\t\treturn sourceManageSelector().getFile(fileName).source;\r\n\t}\r\n\r\n\t/**获取牌的点数资源 */\r\n\tprivate getBlueRedCardTypeSkeleton(result:number) {\r\n\t\tlet animationName = '';\r\n\t\tif (result < 2) { return };\r\n\t\tif (result === 2) {\r\n\t\t\tanimationName = \"qiu\";\r\n\t\t} else if (result === 3) {\r\n\t\t\tanimationName = \"twin\";\r\n\t\t} \r\n\t\treturn animationName;\r\n\t}\r\n\r\n\t\r\n\t/**获取牌的点数资源 */\r\n\tprivate getGreenCardTypeSkeleton(result:number) {\r\n\t\tlet animationName = '';\r\n\t\tif (result < 2) { return };\r\n\t\t if (result === 2) {\r\n\t\t\tanimationName = \"qiuqiu\";\r\n\t\t} else if (result === 3) {\r\n\t\t\tanimationName = \"twins\";\r\n\t\t} else if (result === 4) {\r\n\t\t\tanimationName = \"six\";\r\n\t\t}\r\n\t\treturn animationName;\r\n\t}\r\n\r\n\tprotected destroyCallBack(): void {\r\n\t\tthis.taskScheduler.destoryQueue();\r\n        this.taskScheduler.stopQueue(false)\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tthis.initCardActive()\r\n\t\t// this.propertyNode.props_spr_clock_bg.active = false;\r\n\t\t\t\t\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}