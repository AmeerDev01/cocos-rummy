{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandar/components/Bandar_clock.ts"],"names":["_decorator","Label","Node","Animation","BaseComponent","GameStatus","stopBet","ccclass","property","Bandar_clock","propertyNode","props_label_clock_num","props_spr_clock_bg","props_spr_clock_text1","props_spr_clock_text2","props_spr_clockAnimation","props","countDown","gameStatus","events","start","initState","bindEvent","useProps","key","value","active","cur","getComponent","string","BET","play","WAIT","toggleCallback","event","customEventData","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator,Label,Node,Animation } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { initToggle } from '../../../utils/tool';\r\nimport { countdown } from '../../yxx/store/actions/gameFlow';\r\nimport { GameStatus } from '../type';\r\nimport { bandar_Audio, playTimeout, stopBet } from '../index';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tcountDown:number,\r\n    gameStatus:GameStatus\r\n}\r\nexport interface IEvent {\r\n\t\r\n}\r\n\r\n\r\n@ccclass('Bandar_clock')\r\nexport class Bandar_clock extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t }\r\n\r\n\tprotected propertyNode = {\r\n        props_label_clock_num:new Node(),\r\n        props_spr_clock_bg:new Node(),\r\n        props_spr_clock_text1:new Node(),\r\n        props_spr_clock_text2:new Node(),\r\n\t\tprops_spr_clockAnimation:new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tcountDown:0,\r\n        gameStatus:null,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\t\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"countDown\") { \r\n\t\t\tthis.propertyNode.props_spr_clock_bg.active = value.cur > 0;\r\n\t\t\tthis.propertyNode.props_label_clock_num.active = value.cur > 0;\r\n\t\t\tif (value.cur > 0) {\r\n\t\t\t\tthis.propertyNode.props_label_clock_num.getComponent(Label).string = value.cur + \"\"\r\n\t\t\t\tif(this.props.gameStatus===GameStatus.BET){\r\n\t\t\t\t\tif(value.cur<=3 && value.cur>=1){\r\n\t\t\t\t\t\t// playTimeout()\r\n\t\t\t\t\t\tstopBet()\r\n\t\t\t\t\t\tthis.propertyNode.props_spr_clockAnimation.getComponent(Animation).play()\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n            \r\n        }\r\n        if(key===\"gameStatus\"){\r\n\t\t\tthis.propertyNode.props_spr_clock_text1.active = this.props.gameStatus===GameStatus.BET;\r\n\t\t\tthis.propertyNode.props_spr_clock_text2.active = this.props.gameStatus===GameStatus.WAIT;\r\n            this.propertyNode.props_spr_clock_bg.active = value.cur===GameStatus.BET || value.cur===GameStatus.WAIT;\r\n\t\t\tthis.propertyNode.props_label_clock_num.active = value.cur===GameStatus.BET || value.cur===GameStatus.WAIT;\r\n\t\t\tthis.propertyNode.props_spr_clockAnimation.active = value.cur===GameStatus.BET || value.cur===GameStatus.WAIT;\r\n        }\r\n\t}\r\n\r\n\ttoggleCallback(event: Event, customEventData: string) {\r\n\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}