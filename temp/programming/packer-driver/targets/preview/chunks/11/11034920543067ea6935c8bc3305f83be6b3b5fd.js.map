{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/common/fish/FishNetManager.ts"],"names":["FishNetManager","ObjectClassType","constructor","objectPool","fnmOnPlayEndCall","obj","setUseState","active","uninit","play","info","fnObj","getObject","type_fish_net","id","setPlayEndCall","pos"],"mappings":";;;+CAQaA,c;;;;;;;;;;;;;;;;;;;;;;AAHJC,MAAAA,e,iBAAAA,e;;;;;;AALT;AACA;AACA;;;AAKA;gCACaD,c,GAAN,MAAMA,cAAN,CAAqB;AAE1BE,QAAAA,WAAW,CAACC,UAAD,EAAyB;AAAA,eAD5BA,UAC4B;AAClC,eAAKA,UAAL,GAAkBA,UAAlB;AACD;;AACMC,QAAAA,gBAAgB,CAACC,GAAD,EAAM;AAC3B,cAAIA,GAAJ,EAAS;AACPA,YAAAA,GAAG,CAACC,WAAJ,CAAgB,KAAhB;AACAD,YAAAA,GAAG,CAACE,MAAJ,GAAc,KAAd;AACD;AACF;;AAEMC,QAAAA,MAAM,GAAG;AACd,eAAKL,UAAL,GAAkB,IAAlB;AACD;AAED;AACF;AACA;;;AACSM,QAAAA,IAAI,CAACC,IAAD,EAAO;AAChB,cAAIC,KAAK,GAAG,KAAKR,UAAL,CAAgBS,SAAhB,CAA0B;AAAA;AAAA,kDAAgBC,aAA1C,EAAyDH,IAAI,CAACI,EAA9D,CAAZ;;AACA,cAAIH,KAAJ,EAAW;AACTA,YAAAA,KAAK,CAACL,WAAN,CAAkB,IAAlB;AACAK,YAAAA,KAAK,CAACI,cAAN,CAAqB,KAAKX,gBAA1B;AACAO,YAAAA,KAAK,CAACF,IAAN,CAAWC,IAAI,CAACM,GAAhB;AACD;AACF;;AA1ByB,O","sourcesContent":["/**\r\n  鱼网管理\r\n */\r\n\r\nimport { FishNet } from \"./FishNet\";\r\nimport { ObjectClassType, ObjectPool } from \"./ObjectPool\"\r\n\r\n////////////////////////////////////////-\r\nexport class FishNetManager {\r\n  private objectPool: ObjectPool;\r\n  constructor(objectPool: ObjectPool) {\r\n    this.objectPool = objectPool;\r\n  }\r\n  public fnmOnPlayEndCall(obj) {\r\n    if (obj) {\r\n      obj.setUseState(false)\r\n      obj.active = (false)\r\n    }\r\n  }\r\n\r\n  public uninit() {\r\n    this.objectPool = null;\r\n  }\r\n\r\n  /**\r\n  info = [pos, id]\r\n   */\r\n  public play(info) {\r\n    let fnObj = this.objectPool.getObject(ObjectClassType.type_fish_net, info.id) as FishNet\r\n    if (fnObj) {\r\n      fnObj.setUseState(true)\r\n      fnObj.setPlayEndCall(this.fnmOnPlayEndCall)\r\n      fnObj.play(info.pos)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n"]}