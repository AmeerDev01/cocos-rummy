{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/hall/components/Hall_reliefPanel.ts"],"names":["_decorator","Button","Label","Node","BaseComponent","ccclass","property","Hall_ReliefPanel","propertyNode","props_btn_sure","props_label_gold","props_Label_benefit","props","amount","events","onClosePanel","start","initState","bindEvent","node","on","EventType","TOUCH_END","useProps","key","value","string","replace","formatAmountWithCommas","formatAmountWithLetter","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAmBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACtCC,MAAAA,a,iBAAAA,a;;;;;;;;;OAIH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;kCAcjBO,gB,WADZF,OAAO,CAAC,kBAAD,C,gBAAR,MACaE,gBADb;AAAA;AAAA,0CAC4E;AAAA;AAAA;AAAA,eAKjEC,YALiE,GAKlD;AACxBC,YAAAA,cAAc,EAAE,IAAIR,MAAJ,EADQ;AAExBS,YAAAA,gBAAgB,EAAE,IAAIR,KAAJ,EAFM;AAGxBS,YAAAA,mBAAmB,EAAE,IAAIT,KAAJ;AAHG,WALkD;AAAA,eAYpEU,KAZoE,GAYpD;AACtBC,YAAAA,MAAM,EAAE;AADc,WAZoD;AAAA,eAgBpEC,MAhBoE,GAgBnD;AACvBC,YAAAA,YAAY,EAAE,MAAM,CAAG;AADA,WAhBmD;AAAA;;AAC3EC,QAAAA,KAAK,GAAG,CAEP;;AAiBSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS;AAC3B,eAAKV,YAAL,CAAkBC,cAAlB,CAAiCU,IAAjC,CAAsCC,EAAtC,CAAyCjB,IAAI,CAACkB,SAAL,CAAeC,SAAxD,EAAmE,MAAM;AACxE,iBAAKR,MAAL,CAAYC,YAAZ;AACA,WAFD;AAGA;;AAESQ,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD;AACpE,cAAID,GAAG,KAAK,QAAZ,EAAsB;AACrB,iBAAKhB,YAAL,CAAkBG,mBAAlB,CAAsCe,MAAtC,GAA+C,KAAKlB,YAAL,CAAkBG,mBAAlB,CAAsCe,MAAtC,CAA6CC,OAA7C,CAAqD,KAArD,EAA4D,KAAKf,KAAL,CAAWC,MAAX,CAAkBe,sBAAlB,EAA5D,CAA/C;AACA,iBAAKpB,YAAL,CAAkBE,gBAAlB,CAAmCgB,MAAnC,GAA4C,KAAKd,KAAL,CAAWC,MAAX,CAAkBgB,sBAAlB,EAA5C;AACA;AACD;;AAESC,QAAAA,MAAM,GAAS,CAExB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA7C0E,O","sourcesContent":["\r\nimport { _decorator, Button, Component, Label, Node } from 'cc';\r\nimport { BaseComponent } from '../../base/BaseComponent';\r\nimport { fetcher, lang } from '../index';\r\nimport { ApiUrl } from '../apiUrl';\r\nimport { addToastAction } from '../store/actions/baseBoard';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tamount: number\r\n}\r\nexport interface IEvent {\r\n\tonClosePanel: () => void\r\n}\r\n\r\n@ccclass('Hall_ReliefPanel')\r\nexport class Hall_ReliefPanel extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_btn_sure: new Button(),\r\n\t\tprops_label_gold: new Label(),\r\n\t\tprops_Label_benefit: new Label()\r\n\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tamount: 0\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonClosePanel: () => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_sure.node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.onClosePanel()\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"amount\") {\r\n\t\t\tthis.propertyNode.props_Label_benefit.string = this.propertyNode.props_Label_benefit.string.replace('000', this.props.amount.formatAmountWithCommas())\r\n\t\t\tthis.propertyNode.props_label_gold.string = this.props.amount.formatAmountWithLetter()\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}