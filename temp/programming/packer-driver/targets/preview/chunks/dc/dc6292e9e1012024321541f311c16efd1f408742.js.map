{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/domino/components/Domino_SetPanel.ts"],"names":["_decorator","Animation","Node","tween","Vec3","BaseComponent","UseSetOption","domino_Audio","playBg","playBtnClick","ccclass","property","Domino_SetPanel","propertyNode","props_spr_win_bg","props_btn_quit","props_btn_change","props_btn_gules","props_toggle_music","props_toggle_effect","props","events","onQuitGame","onChangeRoom","start","initState","showToggle","bindEvent","on","EventType","TOUCH_END","Instance","setOption","option","music","pause","sound","useProps","key","value","bindUI","useState","cur","getComponent","play","to","scale","toggle","setState","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Animation, Node, tween, Vec3 } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport UseSetOption from '../../../utils/UseSetOption';\r\nimport { domino_Audio, playBg, playBtnClick } from '../index';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\tshowToggle: boolean\r\n}\r\n\r\nexport interface IProps {\r\n\r\n}\r\nexport interface IEvent {\r\n\tonQuitGame: () => void,\r\n\tonChangeRoom: () => void,\r\n}\r\n\r\n@ccclass('Domino_SetPanel')\r\nexport class Domino_SetPanel extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_spr_win_bg: new Node(),\r\n\t\tprops_btn_quit: new Node(),\r\n\t\tprops_btn_change: new Node(),\r\n\t\tprops_btn_gules: new Node(),\r\n\t\tprops_toggle_music: new Node(),\r\n\t\tprops_toggle_effect: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonQuitGame: () => { },\r\n\t\tonChangeRoom: () => { },\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\tshowToggle: false\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_quit.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick();\r\n\t\t\tthis.events.onQuitGame();\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_change.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick();\r\n\t\t\tthis.events.onChangeRoom();\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_gules.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick();\r\n\t\t})\r\n\t\tthis.propertyNode.props_toggle_music.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick();\r\n\t\t\tUseSetOption.Instance().setOption('music', !UseSetOption.Instance().option.music)\r\n\t\t\tUseSetOption.Instance().option.music ? playBg() : domino_Audio.pause();\r\n\t\t})\r\n\t\tthis.propertyNode.props_toggle_effect.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick();\r\n\t\t\tUseSetOption.Instance().setOption('sound', !UseSetOption.Instance().option.sound)\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tvalue.cur && this.propertyNode.props_spr_win_bg.getComponent(Animation).play()\r\n\t\t\t!value.cur && tween(this.propertyNode.props_spr_win_bg).to(0.05, { scale: new Vec3(1, 0, 1) }).start()\r\n\t\t}, [\"showToggle\"])\r\n\t}\r\n\r\n\tpublic showToggle(toggle: boolean) {\r\n\t\tthis.setState({ showToggle: toggle })\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}