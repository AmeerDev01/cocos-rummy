{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/common/fish/CalculteRule.ts"],"names":["parabola","param","a","pow","x","b","c","acubiccve","aexponential","alogarithm","log","asin","sin","acos","cos","circle","r","pia","pi","way","kline","k","dt","Math","PI","abs","atan","CURVE_TYPE","pbl","ccve","expt","logh","cicle","line","funcLst","undefined","frule","getpos","ftype"],"mappings":"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","sourcesContent":["/*\r\n  路径曲线配置,\r\n  id,曲线id\r\n  angle,路径旋转度数，正为顺时针方向 0 ~ 360 负为逆时针方向 -360 ~ 0\r\n  ratio,比例尺，分子为屏幕宽度，分母为曲线x轴上最大取值范围\r\n  data = {--曲线构成\r\n    [1] = {--一条曲线描述\r\n      t,这段曲线运动的时间\r\n      x1,x2,曲线的取值范围\r\n      ftype,曲线类型，1：抛物线[y = ax2 + bx + c]，     2：三次曲线[y = ax3]，\r\n              3：指数函数[y = a(x)]，       4：对数函数[y = alog(x)]，\r\n              5：正弦曲线[y = asin(b*x)]，     6：余弦曲线[y = acos(x)]\r\n              7：圆[(x + a)2 + (y + b)2 = r2]，   8：直线[y = kx]\r\n      param = {\r\n        a,b,c,r,k：为各曲线对应的参数\r\n      }\r\n    },\r\n\r\n    [...] = {...},\r\n  }\r\n*/\r\nexport let dt = 0.001;\r\nexport let pi = Math.PI;\r\nexport let pia = 180;\r\nexport let abs = Math.abs;\r\nexport let sin = Math.sin;\r\nexport let cos = Math.cos;\r\nexport let pow = Math.pow\r\nexport let atan = Math.atan;\r\nexport let log = Math.log;\r\n/**抛物线 */\r\nexport function parabola(param) {\r\n    return param.a * pow(param.x, 2) + param.b * param.x + param.c;\r\n}\r\n/**三次曲线 */\r\nexport function acubiccve(param) {\r\n    return param.a * pow(param.x, 3);\r\n}\r\n/**指数函数 */\r\nexport function aexponential(param) {\r\n    return pow(param.a, param.x);\r\n}\r\n/**对数函数 */\r\nexport function alogarithm(param) {\r\n    return param.a * log(param.x);\r\n}\r\n/**正弦函数 */\r\nexport function asin(param) {\r\n    return param.a * sin(param.b * param.x);\r\n}\r\n/**余弦函数 */\r\nexport function acos(param) {\r\n    return param.a * cos(param.b * param.x);\r\n}\r\n/**画圆 */\r\nexport function circle(param) {\r\n    return [param.r * cos(param.x / pia * pi) * param.way + param.a, param.r * sin(param.x / pia * pi) + param.b];\r\n}\r\n/**画直线 */\r\nexport function kline(param) {\r\n    return param.k * param.x;\r\n}\r\nexport const CURVE_TYPE = { pbl: 1, ccve: 2, expt: 3, logh: 4, sin: 5, cos: 6, cicle: 7, line: 8 };\r\nlet funcLst = [\r\n    undefined,\r\n    parabola,\r\n    acubiccve,\r\n    aexponential,\r\n    alogarithm,\r\n    asin,\r\n    acos,\r\n    circle,\r\n    kline\r\n];\r\nexport const frule = {\r\n    getpos: function (ftype, param) {\r\n        if (ftype === CURVE_TYPE.cicle) {\r\n            return funcLst[ftype](param);\r\n        } else {\r\n            return [param.x, funcLst[ftype](param)];\r\n        }\r\n    }\r\n};"]}