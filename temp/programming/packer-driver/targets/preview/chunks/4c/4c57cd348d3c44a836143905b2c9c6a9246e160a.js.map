{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/yxx/components/Yxx_HeadPanel.ts"],"names":["_decorator","Vec3","BaseComponent","config","initHeadType","sourceManageSeletor","PrefabPathDefine","HeadViewModel","ccclass","property","Yxx_HeadPanel","propertyNode","props","events","initSeat","seats","start","initState","bindEvent","useProps","key","value","bindUI","initHead","isInit","length","headLocations","forEach","v","index","headType","pos","x","y","headViewModel","mountView","getFile","HEAD","source","appendTo","node","connect","setProps","comp","initLocation","push","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAiBC,MAAAA,I,OAAAA,I;;AACjBC,MAAAA,a,iBAAAA,a;;AACFC,MAAAA,M;AAAUC,MAAAA,Y,iBAAAA,Y;;AACRC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,gB,iBAAAA,gB;;AAEFC,MAAAA,a;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;+BAcjBU,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb;AAAA;AAAA,0CACyE;AAAA;AAAA;AAAA,eAK9DC,YAL8D,GAK/C,EAL+C;AAAA,eASjEC,KATiE,GASjD,EATiD;AAAA,eAajEC,MAbiE,GAahD;AACvBC,YAAAA,QAAQ,EAAGC,KAAD,IAAuB,CAAG;AADb,WAbgD;AAAA;;AACxEC,QAAAA,KAAK,GAAG,CAEP;;AAcSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS,CAE3B;;AAESC,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD,CAEpE;;AAESC,QAAAA,MAAM,GAAS,CACxB;;AAEMC,QAAAA,QAAQ,CAACR,KAAD,EAA0B;AACxC,cAAMS,MAAM,GAAGT,KAAK,CAACU,MAAN,KAAiB,CAAhC;AACA;AAAA;AAAA,gCAAOC,aAAP,CAAqBC,OAArB,CAA6B,CAACC,CAAD,EAAIC,KAAJ,KAAc;AAC1C,gBAAMC,QAAQ,GAAGN,MAAM,GAAG;AAAA;AAAA,8CAAaK,KAAb,CAAH,GAAyBd,KAAK,CAACc,KAAD,CAArD;AACAC,YAAAA,QAAQ,CAACC,GAAT,GAAe,IAAI9B,IAAJ,CAAS2B,CAAC,CAACI,CAAX,EAAcJ,CAAC,CAACK,CAAhB,CAAf;AACA,gBAAIC,aAAa,GAAG;AAAA;AAAA,kDAAoBC,SAApB,CAA8B;AAAA;AAAA,8DAAsBC,OAAtB,CAA8B;AAAA;AAAA,sDAAiBC,IAA/C,EAAqDC,MAAnF,EAA2FC,QAA3F,CAAoG,KAAKC,IAAzG,EAA+GC,OAA/G,GAAyHC,QAAzH,CAAkI;AACrJZ,cAAAA;AADqJ,aAAlI,CAApB;AAGAI,YAAAA,aAAa,CAACS,IAAd,CAAmBC,YAAnB,CAAgCd,QAAQ,CAACC,GAAzC;AACAP,YAAAA,MAAM,IAAIT,KAAK,CAAC8B,IAAN,CAAWf,QAAX,CAAV;AACA,WARD;AAUA,eAAKjB,MAAL,CAAYC,QAAZ,CAAqBC,KAArB;AACA;;AAED+B,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAnDuE,O","sourcesContent":["import { _decorator, log, Vec3 } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport config, { initHeadType } from '../config';\r\nimport { sourceManageSeletor } from '../index';\r\nimport { PrefabPathDefine } from '../sourceDefine/prefabDefine';\r\nimport { HeadType } from '../type';\r\nimport HeadViewModel from '../viewModel/HeadViewModel';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\r\n}\r\nexport interface IEvent {\r\n\tinitSeat: (seats: HeadType[]) => void\r\n}\r\n\r\n@ccclass('Yxx_HeadPanel')\r\nexport class Yxx_HeadPanel extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tinitSeat: (seats: HeadType[]) => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tpublic initHead(seats: HeadType[]): void {\r\n\t\tconst isInit = seats.length === 0;\r\n\t\tconfig.headLocations.forEach((v, index) => {\r\n\t\t\tconst headType = isInit ? initHeadType(index) : seats[index];\r\n\t\t\theadType.pos = new Vec3(v.x, v.y);\r\n\t\t\tlet headViewModel = new HeadViewModel().mountView(sourceManageSeletor().getFile(PrefabPathDefine.HEAD).source).appendTo(this.node).connect().setProps({\r\n\t\t\t\theadType\r\n\t\t\t});\r\n\t\t\theadViewModel.comp.initLocation(headType.pos);\r\n\t\t\tisInit && seats.push(headType);\r\n\t\t})\r\n\r\n\t\tthis.events.initSeat(seats);\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}