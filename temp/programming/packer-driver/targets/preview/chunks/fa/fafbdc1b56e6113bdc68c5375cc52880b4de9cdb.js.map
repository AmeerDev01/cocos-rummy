{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dfdc/components/BlessedWealthy_footer.ts"],"names":["_decorator","Button","Label","Node","Sprite","sys","Toggle","BaseComponent","config","SKT_MAG_TYPE","sktMsgListener","playMinCoin","playMaxCoin","playBtnClick","AutoLauncherType","GameType","TaskScheduler","Task","StepNumber","autoLauncherTypeWithTimes","UseSetOption","setRollSpeed","ccclass","property","BlessedWealthy_footer","timer","pressTime","pressTimeDone","taskScheduler","stepNumber","totalTimes","propertyNode","props_btn_down_putar","props_btn_down_betMax","props_btn_down_help","props_btn_down_subtract","props_btn_down_add","props_Label_down_oneBet","props_Label_down_goldNum","props_word_down_goodluck","props_word_down_winNum","props_down_chooseBg","props_spine_guangquan","props_word_down_pular","props_times","props_autoLaunch_label","props_spr_nomoney","props_toggle_fast","props","isRollEnd","profit","subGameTimes","remainSubGameTimes","currGameType","NONE","viewGameType","isShowAutoLaunch","autoLauncherType","autoLaunchedTimes","balance","isJumpStop","isSortStop","events","manualBetHandler","openAutoLauncher","closeAutoLauncher","isClear","openHelpPanel","changeBetAmount","betAmount","positionId","value","changeSpeedUpSwitch","isChecked","start","initState","baseBetAmountTarget","disableBetSwitch","isShowNoGlod","bindEvent","on","EventType","TOUCH_START","window","setInterval","clearInterval","TOUCH_END","dispatch","node","CLICK","state","target","getBetListByLevel","index","indexOf","length","setState","useProps","key","console","log","cur","getComponent","grayscale","active","pre","string","joinqQueue","done","stop","num","toFixed","formatAmountWithCommas","MAIN","updateBtuFace","LIMIT","LAMIT_FAST","SUBGAME1","getAutoLauncherBaseNBoard","getProfitBar","level","JSON","parse","localStorage","getItem","lv","betList","betSwitcher","find","item","amount","bindUI","addOnce","AUTH","Instance","option","gameSet","dfdc","betTarget","t","i","add","LAUNCHER_BET","data","error","toggle","useState","linesQueue","setGameOption","getPositionData","destroyCallBack","destoryQueue","removeById","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAA+BC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,M,OAAAA,M;;AACrEC,MAAAA,a,iBAAAA,a;;AACFC,MAAAA,M;;AACEC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,c,iBAAAA,c;;AACsCC,MAAAA,W,iBAAAA,W;AAAaC,MAAAA,W,iBAAAA,W;AAAaC,MAAAA,Y,iBAAAA,Y;;AAC9EC,MAAAA,gB,iBAAAA,gB;AAAkBC,MAAAA,Q,iBAAAA,Q;;AACpBC,MAAAA,a;AAAiBC,MAAAA,I,iBAAAA,I;;AACjBC,MAAAA,U;;AACEC,MAAAA,yB,iBAAAA,yB;;AAEFC,MAAAA,Y;;AAEEC,MAAAA,Y,kBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBvB,U;;uCA2DjBwB,qB,WADZF,OAAO,CAAC,uBAAD,C,gBAAR,MACaE,qBADb;AAAA;AAAA,0CACiF;AAAA;AAAA;AAAA,eAExEC,KAFwE;;AAGhF;AAHgF,eAIxEC,SAJwE,GAIpD,CAJoD;;AAKhF;AALgF,eAMxEC,aANwE,GAMhD,EANgD;AAAA,eAOxEC,aAPwE,GAOzC;AAAA;AAAA,+CAPyC;AAAA,eAQxEC,UARwE;AAAA,eASxEC,UATwE;AAAA,eAUtEC,YAVsE,GAUvD;AACxB;AACAC,YAAAA,oBAAoB,EAAE,IAAI7B,IAAJ,EAFE;;AAGxB;AACA8B,YAAAA,qBAAqB,EAAE,IAAIhC,MAAJ,EAJC;;AAKxB;AACAiC,YAAAA,mBAAmB,EAAE,IAAIjC,MAAJ,EANG;;AAOxB;AACAkC,YAAAA,uBAAuB,EAAE,IAAIlC,MAAJ,EARD;;AASxB;AACAmC,YAAAA,kBAAkB,EAAE,IAAInC,MAAJ,EAVI;;AAWxB;AACAoC,YAAAA,uBAAuB,EAAE,IAAInC,KAAJ,EAZD;;AAaxB;AACAoC,YAAAA,wBAAwB,EAAE,IAAIpC,KAAJ,EAdF;;AAexB;AACAqC,YAAAA,wBAAwB,EAAE,IAAIpC,IAAJ,EAhBF;;AAiBxB;AACAqC,YAAAA,sBAAsB,EAAE,IAAIrC,IAAJ,EAlBA;;AAmBxB;AACAsC,YAAAA,mBAAmB,EAAE,IAAItC,IAAJ,EApBG;;AAqBxB;AACAuC,YAAAA,qBAAqB,EAAE,IAAIvC,IAAJ,EAtBC;;AAuBxB;AACAwC,YAAAA,qBAAqB,EAAE,IAAIxC,IAAJ,EAxBC;;AAyBxB;AACAyC,YAAAA,WAAW,EAAE,IAAIzC,IAAJ,EA1BW;;AA2BxB;AACA0C,YAAAA,sBAAsB,EAAE,IAAI1C,IAAJ,EA5BA;;AA6BxB;AACA2C,YAAAA,iBAAiB,EAAE,IAAI3C,IAAJ,EA9BK;;AA+BxB;AACA4C,YAAAA,iBAAiB,EAAE,IAAIzC,MAAJ;AAhCK,WAVuD;AAAA,eA6CzE0C,KA7CyE,GA6CzD;AACtBC,YAAAA,SAAS,EAAE,IADW;AAEtBC,YAAAA,MAAM,EAAE,IAFc;AAGtBC,YAAAA,YAAY,EAAE,CAHQ;AAItBC,YAAAA,kBAAkB,EAAE,CAJE;AAKtBC,YAAAA,YAAY,EAAE;AAAA;AAAA,sCAASC,IALD;AAMtBC,YAAAA,YAAY,EAAE;AAAA;AAAA,sCAASD,IAND;AAOtBE,YAAAA,gBAAgB,EAAE,KAPI;AAQtBC,YAAAA,gBAAgB,EAAE;AAAA;AAAA,sDAAiBH,IARb;AAStBI,YAAAA,iBAAiB,EAAE,CATG;AAUtBC,YAAAA,OAAO,EAAE,CAVa;AAWtBC,YAAAA,UAAU,EAAE,IAXU;AAYtBC,YAAAA,UAAU,EAAE;AAZU,WA7CyD;AAAA,eA4DzEC,MA5DyE,GA4DxD;AACvBC,YAAAA,gBAAgB,EAAE,MAAM,CAAG,CADJ;AAEvBC,YAAAA,gBAAgB,EAAE,MAAM,CAAG,CAFJ;AAGvBC,YAAAA,iBAAiB,EAAGC,OAAD,IAAsB,CAAG,CAHrB;AAIvBC,YAAAA,aAAa,EAAE,MAAM,CAAG,CAJD;AAKvBC,YAAAA,eAAe,EAAE,CAACC,SAAD,EAAoBC,UAApB,EAAwCC,KAAxC,KAA0D,CAAG,CALvD;AAMvB;AACAC,YAAAA,mBAAmB,EAAGC,SAAD,IAAwB,CAAG;AAPzB,WA5DwD;AAAA;;AAChFC,QAAAA,KAAK,GAAG,CAAG;;AAqEDC,QAAAA,SAAS,GAAG;AACrB,iBAAO;AACN;AACAC,YAAAA,mBAAmB,EAAE;AACpBN,cAAAA,UAAU,EAAE,CADQ;AAEpBC,cAAAA,KAAK,EAAE;AAFa,aAFf;AAMNM,YAAAA,gBAAgB,EAAE,KANZ;AAONC,YAAAA,YAAY,EAAE;AAPR,WAAP;AASA;;AAESC,QAAAA,SAAS,GAAS;AAC3B,eAAKhD,YAAL,CAAkBC,oBAAlB,CAAuCgD,EAAvC,CAA0C7E,IAAI,CAAC8E,SAAL,CAAeC,WAAzD,EAAsE,MAAM;AAC3E;AAAA;AAAA,gDAD2E,CAE3E;;AACA,iBAAKzD,KAAL,GAAa0D,MAAM,CAACC,WAAP,CAAmB,MAAM;AACrC,mBAAK1D,SAAL,IAAkB,CAAlB;;AACA,kBAAI,KAAKA,SAAL,GAAiB,KAAKC,aAA1B,EAAyC;AACxCwD,gBAAAA,MAAM,CAACE,aAAP,CAAqB,KAAK5D,KAA1B,EADwC,CAExC;AACA;;AACA,oBAAI,CAAC,KAAKuB,KAAV,EAAiB;AACjB,oBAAI,CAAC,KAAKA,KAAL,CAAWC,SAAhB,EAA2B;AAC3B,qBAAKD,KAAL,CAAWQ,gBAAX,GAA8B,KAAKM,MAAL,CAAYG,iBAAZ,CAA8B,KAA9B,CAA9B,GAAqE,KAAKH,MAAL,CAAYE,gBAAZ,EAArE;AACA;AACD,aAVY,EAUV,EAVU,CAAb;AAWA,WAdD;AAgBA,eAAKjC,YAAL,CAAkBC,oBAAlB,CAAuCgD,EAAvC,CAA0C7E,IAAI,CAAC8E,SAAL,CAAeK,SAAzD,EAAoE,MAAM;AACzE;AAAA;AAAA,gDADyE,CAEzE;;AACAH,YAAAA,MAAM,CAACE,aAAP,CAAqB,KAAK5D,KAA1B;;AACA,gBAAI,KAAKC,SAAL,GAAiB,KAAKC,aAA1B,EAAyC,CACxC;AACA,aAFD,MAEO;AACN;AACA,mBAAK4D,QAAL,CAAc;AAAA;AAAA,gDAAa,CAAb,CAAd;AACA,mBAAKzB,MAAL,CAAYG,iBAAZ,CAA8B,IAA9B;AACA,kBAAI,CAAC,KAAKjB,KAAL,CAAWC,SAAhB,EAA2B,OAJrB,CAKN;AACA;;AACA,mBAAKa,MAAL,CAAYC,gBAAZ,GAPM,CAQN;AACA;;AACD,iBAAKrC,SAAL,GAAiB,CAAjB;AACA,WAjBD;AAoBA,eAAKK,YAAL,CAAkBG,mBAAlB,CAAsCsD,IAAtC,CAA2CR,EAA3C,CAA8C/E,MAAM,CAACgF,SAAP,CAAiBQ,KAA/D,EAAsE,MAAM;AAC3E;AAAA;AAAA;AACA,iBAAK3B,MAAL,CAAYK,aAAZ;AACA,WAHD,EAGG,IAHH;AAKA,eAAKpC,YAAL,CAAkBI,uBAAlB,CAA0CqD,IAA1C,CAA+CR,EAA/C,CAAkD/E,MAAM,CAACgF,SAAP,CAAiBQ,KAAnE,EAA0E,MAAM;AAC/E;AAAA;AAAA;AACA,gBAAI,KAAKC,KAAL,CAAWb,gBAAf,EAAiC;AACjC,gBAAMc,MAAM,GAAG,KAAKC,iBAAL,EAAf;AACA,gBAAIC,KAAK,GAAGF,MAAM,CAACG,OAAP,CAAe,KAAKJ,KAAL,CAAWd,mBAA1B,CAAZ;;AACA,gBAAIiB,KAAK,KAAK,CAAd,EAAiB;AAChB,qBADgB,CACT;;AACPA,cAAAA,KAAK,GAAGF,MAAM,CAACI,MAAP,GAAgB,CAAxB;AACA,aAHD,MAGO;AACNF,cAAAA,KAAK;AACL;;AACD,iBAAKG,QAAL,CAAc;AAAEpB,cAAAA,mBAAmB,EAAEe,MAAM,CAACE,KAAD;AAA7B,aAAd;AACA,WAZD,EAYG,IAZH;AAcA,eAAK9D,YAAL,CAAkBK,kBAAlB,CAAqCoD,IAArC,CAA0CR,EAA1C,CAA6C/E,MAAM,CAACgF,SAAP,CAAiBQ,KAA9D,EAAqE,MAAM;AAC1E;AAAA;AAAA;AACA,gBAAI,KAAKC,KAAL,CAAWb,gBAAf,EAAiC;AACjC,gBAAMc,MAAM,GAAG,KAAKC,iBAAL,EAAf;AACA,gBAAIC,KAAK,GAAGF,MAAM,CAACG,OAAP,CAAe,KAAKJ,KAAL,CAAWd,mBAA1B,CAAZ;;AACA,gBAAIiB,KAAK,KAAKF,MAAM,CAACI,MAAP,GAAgB,CAA9B,EAAiC;AAChC,qBADgC,CACzB;;AACPF,cAAAA,KAAK,GAAG,CAAR;AACA,aAHD,MAGO;AACNA,cAAAA,KAAK;AACL;;AACD,iBAAKG,QAAL,CAAc;AAAEpB,cAAAA,mBAAmB,EAAEe,MAAM,CAACE,KAAD;AAA7B,aAAd;AACA,WAZD,EAYG,IAZH;AAcA,eAAK9D,YAAL,CAAkBE,qBAAlB,CAAwCuD,IAAxC,CAA6CR,EAA7C,CAAgD/E,MAAM,CAACgF,SAAP,CAAiBQ,KAAjE,EAAwE,MAAM;AAC7E;AAAA;AAAA;AACA,gBAAI,KAAKC,KAAL,CAAWb,gBAAf,EAAiC;AACjC,gBAAMc,MAAM,GAAG,KAAKC,iBAAL,EAAf;AACA,iBAAKI,QAAL,CAAc;AAAEpB,cAAAA,mBAAmB,EAAEe,MAAM,CAACA,MAAM,CAACI,MAAP,GAAgB,CAAjB;AAA7B,aAAd;AACA,WALD;AAMA;;AACSE,QAAAA,QAAQ,CAACC,GAAD,EAAoB3B,KAApB,EAAmD;AACpE,cAAI2B,GAAG,KAAK,WAAZ,EAAyB;AACxBC,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwB7B,KAAK,CAAC8B,GAA9B;AACAF,YAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoC,KAAKpD,KAAL,CAAWa,UAA/C;AAEA,iBAAK9B,YAAL,CAAkBC,oBAAlB,CAAuCsE,YAAvC,CAAoDlG,MAApD,EAA4DmG,SAA5D,GAAwE,CAAChC,KAAK,CAAC8B,GAA/E;AACA,iBAAKL,QAAL,CAAc;AAAEnB,cAAAA,gBAAgB,EAAE,CAACN,KAAK,CAAC8B;AAA3B,aAAd;AACA,iBAAKtE,YAAL,CAAkBW,qBAAlB,CAAwC8D,MAAxC,GAAiDjC,KAAK,CAAC8B,GAAvD;AACA;;AACD,cAAIH,GAAG,KAAK,QAAZ,EAAsB;AACrBC,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqB7B,KAAK,CAAC8B,GAA3B;AAEA,iBAAKtE,YAAL,CAAkBQ,wBAAlB,CAA2CiE,MAA3C,GAAoD,KAAKxD,KAAL,CAAWE,MAAX,KAAsB,CAA1E;AACA,iBAAKnB,YAAL,CAAkBS,sBAAlB,CAAyCgE,MAAzC,GAAkD,KAAKxD,KAAL,CAAWE,MAAX,KAAsB,CAAxE,CAJqB,CAKrB;;AACA,gBAAIqB,KAAK,CAAC8B,GAAN,GAAY9B,KAAK,CAACkC,GAAtB,EAA2B;AAC1B;AACA,mBAAK1E,YAAL,CAAkBS,sBAAlB,CAAyC8D,YAAzC,CAAsDpG,KAAtD,EAA6DwG,MAA7D,GAAsEnC,KAAK,CAAC8B,GAA5E;AACA,aAHD,MAGO;AACN,mBAAKzE,aAAL,CAAmB+E,UAAnB,CAA8B;AAAA;AAAA,gCAAUC,IAAD,IAAU;AAChD,qBAAK/E,UAAL,IAAmB,KAAKA,UAAL,CAAgBgF,IAAhB,EAAnB;AACA,qBAAKhF,UAAL,GAAkB;AAAA;AAAA,8CAAe0C,KAAK,CAACkC,GAArB,EAA0BlC,KAAK,CAAC8B,GAAhC,EAAsCS,GAAD,IAAS;AAC/D,uBAAK/E,YAAL,IAAqB,KAAKA,YAAL,CAAkBS,sBAAvC,KAAkE,KAAKT,YAAL,CAAkBS,sBAAlB,CAAyC8D,YAAzC,CAAsDpG,KAAtD,EAA6DwG,MAA7D,GAAsE,CAAC,CAACI,GAAG,CAACC,OAAJ,CAAY,CAAZ,CAAF,EAAkBC,sBAAlB,EAAxI;AACA,iBAFiB,EAEf,MAAMJ,IAAI,EAFK,CAAlB;AAGA,qBAAK/E,UAAL,CAAgB6C,KAAhB;AACA,eAN6B,CAA9B;AAOA;AACD;;AACD,cAAIwB,GAAG,KAAK,cAAR,IAA0BA,GAAG,KAAK,oBAAtC,EAA4D;AAC3D,iBAAKnE,YAAL,CAAkBa,WAAlB,CAA8B0D,YAA9B,CAA2CpG,KAA3C,EAAkDwG,MAAlD,GAA8D,KAAK1D,KAAL,CAAWI,kBAAzE,WAAiG,KAAKJ,KAAL,CAAWG,YAA5G;AACA;;AACD,cAAI+C,GAAG,KAAK,cAAZ,EAA4B;AAC3B,iBAAKF,QAAL,CAAc;AAAEnB,cAAAA,gBAAgB,EAAEN,KAAK,CAAC8B,GAAN,KAAc;AAAA;AAAA,wCAASY;AAA3C,aAAd;AACA;;AACD,cAAIf,GAAG,KAAK,cAAZ,EAA4B;AAC3B;AACA,iBAAKgB,aAAL,GAF2B,CAG3B;AACA;AACA;AACA;;AACD,cAAIhB,GAAG,KAAK,kBAAZ,EAAgC;AAC/B,iBAAKpE,UAAL,GAAkB;AAAA;AAAA,wEAA0B,KAAKkB,KAAL,CAAWS,gBAArC,CAAlB;;AACA,gBAAI,KAAKT,KAAL,CAAWS,gBAAX,KAAgC;AAAA;AAAA,sDAAiB0D,KAArD,EAA4D;AAC3D,mBAAKrF,UAAL,GAAkB,GAAlB;AACA,aAFD,MAEO,IAAI,KAAKkB,KAAL,CAAWS,gBAAX,KAAgC;AAAA;AAAA,sDAAiB2D,UAArD,EAAiE;AACvE,mBAAKtF,UAAL,GAAkB,IAAlB;AACA;AACD;;AACD,cAAIoE,GAAG,KAAK,mBAAZ,EAAiC;AAChC,gBAAI,KAAKlD,KAAL,CAAWS,gBAAX,KAAgC;AAAA;AAAA,sDAAiBH,IAArD,EAA2D;AAC1D,mBAAKvB,YAAL,CAAkBc,sBAAlB,CAAyCyD,YAAzC,CAAsDpG,KAAtD,EAA6DwG,MAA7D,GAAyE,KAAK1D,KAAL,CAAWU,iBAApF,WAA2G,KAAK5B,UAAhH;AACA,aAFD,MAEO;AACN,mBAAKC,YAAL,CAAkBc,sBAAlB,CAAyCyD,YAAzC,CAAsDpG,KAAtD,EAA6DwG,MAA7D,YAA6E,KAAK5E,UAAlF;AACA;;AACD,iBAAKoF,aAAL;AACA;;AACD,cAAIhB,GAAG,KAAK,YAAZ,EAA0B;AACzB,iBAAKnE,YAAL,CAAkBgB,iBAAlB,CAAoC0B,SAApC,GAAgD,KAAKzB,KAAL,CAAWa,UAA3D;AACA;AACD;;AACOqD,QAAAA,aAAa,GAAG;AACvB,cAAI,KAAKlE,KAAL,CAAWK,YAAX,KAA4B;AAAA;AAAA,oCAAS4D,IAAzC,EAAgD;AAC/C,iBAAKlF,YAAL,CAAkBa,WAAlB,CAA8B4D,MAA9B,GAAuC,KAAvC;;AACA,gBAAI,KAAKxD,KAAL,CAAWS,gBAAX,KAAgC;AAAA;AAAA,sDAAiBH,IAArD,EAA2D;AAC1D,mBAAKvB,YAAL,CAAkBc,sBAAlB,CAAyC2D,MAAzC,GAAkD,IAAlD;AACA,mBAAKzE,YAAL,CAAkBY,qBAAlB,CAAwC6D,MAAxC,GAAiD,KAAjD;AACA,aAHD,MAGO;AACN,mBAAKzE,YAAL,CAAkBc,sBAAlB,CAAyC2D,MAAzC,GAAkD,KAAlD;AACA,mBAAKzE,YAAL,CAAkBY,qBAAlB,CAAwC6D,MAAxC,GAAiD,IAAjD;AACA;AACD,WATD,MAUK,IAAI,KAAKxD,KAAL,CAAWK,YAAX,KAA4B;AAAA;AAAA,oCAASgE,QAAzC,EAAmD;AACvD,iBAAKtF,YAAL,CAAkBa,WAAlB,CAA8B4D,MAA9B,GAAuC,IAAvC;AACA,iBAAKzE,YAAL,CAAkBc,sBAAlB,CAAyC2D,MAAzC,GAAkD,KAAlD;AACA,iBAAKzE,YAAL,CAAkBY,qBAAlB,CAAwC6D,MAAxC,GAAiD,KAAjD;AACA;AACD;AACD;;;AACOc,QAAAA,yBAAyB,GAAG;AAClC,iBAAO,KAAKvF,YAAL,CAAkBU,mBAAzB;AACA;;AACM8E,QAAAA,YAAY,GAAG;AACrB,iBAAO,KAAKxF,YAAL,CAAkBS,sBAAzB;AACA;AAED;;;AACQoD,QAAAA,iBAAiB,GAAG;AAC3B,cAAM4B,KAAK,GAAG,CAACC,IAAI,CAACC,KAAL,CAAWrH,GAAG,CAACsH,YAAJ,CAAiBC,OAAjB,CAAyB,MAAzB,CAAX,EAA6CC,EAA5D;AACA,cAAMC,OAAO,GAAG;AAAA;AAAA,gCAAOC,WAAP,CAAmBC,IAAnB,CAAwBC,IAAI,IAAKT,KAAK,IAAIS,IAAI,CAACT,KAAL,CAAW,CAAX,KAAiBA,KAAK,GAAGS,IAAI,CAACT,KAAL,CAAW,CAAX,CAAnE,CAAhB;AACA,iBAAOM,OAAO,GAAGA,OAAO,CAACI,MAAX,GAAoB,EAAlC;AACA;;AAESC,QAAAA,MAAM,GAAS;AACxB;AAAA;AAAA,gDAAeC,OAAf,CAAuB;AAAA;AAAA,4CAAaC,IAApC,EAA0C,QAA1C,EAAoD,MAAM;AACzD,gBAAM1C,MAAM,GAAG,KAAKC,iBAAL,EAAf;;AACA,gBAAI;AAAA;AAAA,8CAAa0C,QAAb,GAAwBC,MAAxB,CAA+BC,OAA/B,CAAuCC,IAAvC,IAA+C;AAAA;AAAA,8CAAaH,QAAb,GAAwBC,MAAxB,CAA+BC,OAA/B,CAAuCC,IAAvC,CAA4CC,SAA/F,EAA0G;AACzG,kBAAMC,CAAC,GAAGhD,MAAM,CAACqC,IAAP,CAAYY,CAAC,IAAIA,CAAC,CAACtE,UAAF,KAAiB;AAAA;AAAA,gDAAagE,QAAb,GAAwBC,MAAxB,CAA+BC,OAA/B,CAAuCC,IAAvC,CAA4CC,SAA5C,CAAsDpE,UAAxF,CAAV;AACA,mBAAK0B,QAAL,CAAc;AAAEpB,gBAAAA,mBAAmB,EAAE+D,CAAC,IAAIhD,MAAM,CAAC,CAAD;AAAlC,eAAd;AACA,aAHD,MAGO;AACN,mBAAKK,QAAL,CAAc;AAAEpB,gBAAAA,mBAAmB,EAAEe,MAAM,CAAC,CAAD;AAA7B,eAAd;AACA;AACD,WARD,EAQG,CARH;AASA;AAAA;AAAA,gDAAekD,GAAf,CAAmB;AAAA;AAAA,4CAAaC,YAAhC,EAA8C,QAA9C,EAAwD,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxE,iBAAKnH,UAAL,IAAmB,KAAKA,UAAL,CAAgBgF,IAAhB,EAAnB;AACA,WAFD,EAEG,EAFH;AAGA,eAAK9E,YAAL,CAAkBgB,iBAAlB,CAAoCyC,IAApC,CAAyCR,EAAzC,CAA4C,QAA5C,EAAuDiE,MAAD,IAA6B;AAClF;AAAA;AAAA;AACA,iBAAKnF,MAAL,CAAYU,mBAAZ,CAAgCyE,MAAM,CAACxE,SAAvC;AACA,WAHD,EAGG,IAHH,EAbwB,CAiBxB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAKyE,QAAL,CAAc,CAAChD,GAAD,EAAM3B,KAAN,KAAgB;AAC7B,iBAAKxC,YAAL,CAAkBM,uBAAlB,CAA0CqE,MAA1C,GAAsD;AAAA;AAAA,kCAAOyC,UAAP,CAAkBpD,MAAxE,cAAoFxB,KAAK,CAAC8B,GAAN,CAAU9B,KAA9F;AACA,iBAAKxC,YAAL,CAAkBO,wBAAlB,CAA2CoE,MAA3C,GAAoD,CAACnC,KAAK,CAAC8B,GAAN,CAAU9B,KAAV,GAAkB;AAAA;AAAA,kCAAO4E,UAAP,CAAkBpD,MAArC,EAA6CiB,sBAA7C,EAApD;AACA,iBAAKlD,MAAL,CAAYM,eAAZ,CAA4BG,KAAK,CAAC8B,GAAN,CAAU9B,KAAV,GAAkB;AAAA;AAAA,kCAAO4E,UAAP,CAAkBpD,MAAhE,EAAwExB,KAAK,CAAC8B,GAAN,CAAU/B,UAAlF,EAA8FC,KAAK,CAAC8B,GAAN,CAAU9B,KAAxG;AACA;AAAA;AAAA,8CAAa+D,QAAb,GAAwBc,aAAxB,CAAsC,MAAtC,EAA8C;AAAEV,cAAAA,SAAS,EAAEnE,KAAK,CAAC8B;AAAnB,aAA9C;AACA,iBAAKL,QAAL,CAAc;AAAE,8BAAgB,KAAKhD,KAAL,CAAWW,OAAX,GAAqBY,KAAK,CAAC8B,GAAN,CAAU9B,KAAV,GAAkB;AAAA;AAAA,oCAAO4E,UAAP,CAAkBpD;AAA3E,aAAd;AACA,iBAAKlB,gBAAL;AACA,WAPD,EAOG,CAAC,qBAAD,CAPH;AASA,eAAKqE,QAAL,CAAc,CAAChD,GAAD,EAAM3B,KAAN,KAAgB;AAC7B,iBAAKxC,YAAL,CAAkBE,qBAAlB,CAAwCqE,YAAxC,CAAqDlG,MAArD,EAA6DmG,SAA7D,GAAyEhC,KAAK,CAAC8B,GAA/E;AACA,iBAAKtE,YAAL,CAAkBI,uBAAlB,CAA0CmE,YAA1C,CAAuDlG,MAAvD,EAA+DmG,SAA/D,GAA2EhC,KAAK,CAAC8B,GAAjF;AACA,iBAAKtE,YAAL,CAAkBK,kBAAlB,CAAqCkE,YAArC,CAAkDlG,MAAlD,EAA0DmG,SAA1D,GAAsEhC,KAAK,CAAC8B,GAA5E;AACA,aAAC9B,KAAK,CAAC8B,GAAP,IAAc,KAAKxB,gBAAL,EAAd;AACA,WALD,EAKG,CAAC,kBAAD,CALH;AAOA,eAAKqE,QAAL,CAAc,CAAChD,GAAD,EAAM3B,KAAN,KAAgB;AAC7B,iBAAKxC,YAAL,CAAkBe,iBAAlB,CAAoC0D,MAApC,GAA6CjC,KAAK,CAAC8B,GAAnD;AACA,WAFD,EAEG,CAAC,cAAD,CAFH;AAGA;;AAEMgD,QAAAA,eAAe,GAAG;AACxB,iBAAO,KAAK3D,KAAL,CAAWd,mBAAlB;AACA;;AAEOC,QAAAA,gBAAgB,GAAG;AAC1B,cAAI,KAAKa,KAAL,CAAWb,gBAAf,EAAiC;AAAE;AAAQ;;AAAA;AAC3C,cAAMc,MAAM,GAAG,KAAKC,iBAAL,EAAf;AACA,cAAIC,KAAK,GAAGF,MAAM,CAACG,OAAP,CAAe,KAAKJ,KAAL,CAAWd,mBAA1B,CAAZ;AACA,eAAK7C,YAAL,CAAkBK,kBAAlB,CAAqCkE,YAArC,CAAkDlG,MAAlD,EAA0DmG,SAA1D,GAAuEV,KAAK,KAAKF,MAAM,CAACI,MAAP,GAAgB,CAAjG;AACA,eAAKhE,YAAL,CAAkBI,uBAAlB,CAA0CmE,YAA1C,CAAuDlG,MAAvD,EAA+DmG,SAA/D,GAA4EV,KAAK,KAAK,CAAtF;AACA;;AAESyD,QAAAA,eAAe,GAAG;AAC3B,eAAK1H,aAAL,CAAmB2H,YAAnB;AACA;AAAA;AAAA,gDAAeC,UAAf,CAA0B,QAA1B;AACA;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAnU+E,O","sourcesContent":["import { _decorator, Button, Component, EventMouse, Label, Node, Sprite, sys, Toggle, ToggleComponent } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport config from '../config';\r\nimport { SKT_MAG_TYPE, sktMsgListener } from '../socketConnect';\r\nimport { blessedWealthy_Audio, msgListener, NORMAL_MAG_TYPE, playMinCoin, playMaxCoin, playBtnClick } from '../index';\r\nimport { AutoLauncherType, GameType } from '../type';\r\nimport TaskScheduler, { Task } from '../../../utils/TaskScheduler';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { autoLauncherTypeWithTimes } from '../type';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nimport UseSetOption from '../../../utils/UseSetOption';\r\nimport { initToggle } from '../../../utils/tool';\r\nimport { setRollSpeed } from '../store/actions/roller';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\t/**是否显示自动下注面板 */\r\n\t// isShowAutoLancherPanel: boolean,\r\n\t/**基本的下注额度序号 */\r\n\tbaseBetAmountTarget: {\r\n\t\tpositionId: number;\r\n\t\tvalue: number;\r\n\t},\r\n\t/**是否禁用下注调整 */\r\n\tdisableBetSwitch: boolean\r\n\t/**是否显示金额不足提示框 */\r\n\tisShowNoGlod: boolean\r\n}\r\n\r\nexport interface IProps {\r\n\t/**转动是否停止 */\r\n\tisRollEnd: boolean,\r\n\t/**盈亏 */\r\n\tprofit: number,\r\n\t/**要执行的小游戏次数 */\r\n\tsubGameTimes: number,\r\n\t/**剩余的小游戏次数 */\r\n\tremainSubGameTimes: number,\r\n\t/**当前的游戏 */\r\n\tcurrGameType: GameType,\r\n\t/**当前界面所处的游戏 */\r\n\tviewGameType: GameType,\r\n\t/**自动执行显示状态 */\r\n\tisShowAutoLaunch: boolean,\r\n\t/**自动执行的类型 */\r\n\tautoLauncherType: AutoLauncherType,\r\n\t/**已经执行了多少次 */\r\n\tautoLaunchedTimes: number,\r\n\t/**玩家余额 */\r\n\tbalance: number,\r\n\t/**停止模式 */\r\n\tisJumpStop: boolean,\r\n\t/**是否序停 */\r\n\tisSortStop: boolean\r\n}\r\nexport interface IEvent {\r\n\t/**打开自动下注,isToggle：是否反向(如果开启窗台再调用则关闭)*/\r\n\topenAutoLauncher: () => void\r\n\t/**关闭自动下注框 */\r\n\tcloseAutoLauncher: (isClear: boolean) => void,\r\n\t/**手动下注 */\r\n\tmanualBetHandler: () => void,\r\n\t/**打开帮助框 */\r\n\topenHelpPanel: () => void,\r\n\t/**改变下注金额，总下注金额，下注档位positionId和下注档位额度 */\r\n\tchangeBetAmount: (betAmount: number, positionId: number, value: number) => void,\r\n\t/**改变下注档位 */\r\n\t// changePositionId: (positionId) => void\r\n\tchangeSpeedUpSwitch: (isChecked: boolean) => void\r\n}\r\n\r\n@ccclass('BlessedWealthy_footer')\r\nexport class BlessedWealthy_footer extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() { }\r\n\tprivate timer: number\r\n\t/**按下的时间 */\r\n\tprivate pressTime: number = 0\r\n\t/**按下触发时间 */\r\n\tprivate pressTimeDone: number = 50\r\n\tprivate taskScheduler: TaskScheduler = new TaskScheduler()\r\n\tprivate stepNumber: StepNumber\r\n\tprivate totalTimes: any\r\n\tprotected propertyNode = {\r\n\t\t/**主启动按钮 */\r\n\t\tprops_btn_down_putar: new Node(),\r\n\t\t/**最大下注按钮 */\r\n\t\tprops_btn_down_betMax: new Button(),\r\n\t\t/**帮助开启按钮 */\r\n\t\tprops_btn_down_help: new Button(),\r\n\t\t/**下注降档 */\r\n\t\tprops_btn_down_subtract: new Button(),\r\n\t\t/**下注升档 */\r\n\t\tprops_btn_down_add: new Button(),\r\n\t\t/**下注乘法 */\r\n\t\tprops_Label_down_oneBet: new Label(),\r\n\t\t/**下注金额显示 */\r\n\t\tprops_Label_down_goldNum: new Label(),\r\n\t\t/**goodLuck */\r\n\t\tprops_word_down_goodluck: new Node(),\r\n\t\t/**盈亏 */\r\n\t\tprops_word_down_winNum: new Node(),\r\n\t\t/**自动选择框底板 */\r\n\t\tprops_down_chooseBg: new Node(),\r\n\t\t/**按钮光效 */\r\n\t\tprops_spine_guangquan: new Node(),\r\n\t\t/**PUTAR */\r\n\t\tprops_word_down_pular: new Node(),\r\n\t\t/**次数 */\r\n\t\tprops_times: new Node(),\r\n\t\t/**自动执行的信息 */\r\n\t\tprops_autoLaunch_label: new Node(),\r\n\t\t/**缺钱提示 */\r\n\t\tprops_spr_nomoney: new Node(),\r\n\t\t/**加速Toggle */\r\n\t\tprops_toggle_fast: new Toggle(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tisRollEnd: true,\r\n\t\tprofit: null,\r\n\t\tsubGameTimes: 0,\r\n\t\tremainSubGameTimes: 0,\r\n\t\tcurrGameType: GameType.NONE,\r\n\t\tviewGameType: GameType.NONE,\r\n\t\tisShowAutoLaunch: false,\r\n\t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\tautoLaunchedTimes: 0,\r\n\t\tbalance: 0,\r\n\t\tisJumpStop: true,\r\n\t\tisSortStop: false\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tmanualBetHandler: () => { },\r\n\t\topenAutoLauncher: () => { },\r\n\t\tcloseAutoLauncher: (isClear: boolean) => { },\r\n\t\topenHelpPanel: () => { },\r\n\t\tchangeBetAmount: (betAmount: number, positionId: number, value: number) => { },\r\n\t\t// changePositionId: (positionId) => void\r\n\t\tchangeSpeedUpSwitch: (isChecked: boolean) => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t// isShowAutoLancherPanel: false,\r\n\t\t\tbaseBetAmountTarget: {\r\n\t\t\t\tpositionId: 0,\r\n\t\t\t\tvalue: 0\r\n\t\t\t},\r\n\t\t\tdisableBetSwitch: false,\r\n\t\t\tisShowNoGlod: false\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_down_putar.on(Node.EventType.TOUCH_START, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\t//鼠标按下\r\n\t\t\tthis.timer = window.setInterval(() => {\r\n\t\t\t\tthis.pressTime += 1\r\n\t\t\t\tif (this.pressTime > this.pressTimeDone) {\r\n\t\t\t\t\twindow.clearInterval(this.timer)\r\n\t\t\t\t\t//打开自动运行\r\n\t\t\t\t\t// this.setState({ isShowAutoLancherPanel: !this.state.isShowAutoLancherPanel })\r\n\t\t\t\t\tif (!this.props) return\r\n\t\t\t\t\tif (!this.props.isRollEnd) return\r\n\t\t\t\t\tthis.props.isShowAutoLaunch ? this.events.closeAutoLauncher(false) : this.events.openAutoLauncher()\r\n\t\t\t\t}\r\n\t\t\t}, 10)\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_down_putar.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\t//鼠标释放\r\n\t\t\twindow.clearInterval(this.timer)\r\n\t\t\tif (this.pressTime > this.pressTimeDone) {\r\n\t\t\t\t//长按完成\r\n\t\t\t} else {\r\n\t\t\t\t//滑槽不管是否是停止状态，都要停止自动\r\n\t\t\t\tthis.dispatch(setRollSpeed(1))\r\n\t\t\t\tthis.events.closeAutoLauncher(true)\r\n\t\t\t\tif (!this.props.isRollEnd) return\r\n\t\t\t\t//短按，下注启动，先关闭自动下注面板\r\n\t\t\t\t// this.setState({ isShowAutoLancherPanel: false })\r\n\t\t\t\tthis.events.manualBetHandler()\r\n\t\t\t\t// this.events.manualBetHandler(this.state.baseBetAmountTarget.positionId)\r\n\t\t\t}\r\n\t\t\tthis.pressTime = 0\r\n\t\t})\r\n\r\n\r\n\t\tthis.propertyNode.props_btn_down_help.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\tthis.events.openHelpPanel()\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_subtract.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayMinCoin()\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\t\tif (index === 0) {\r\n\t\t\t\treturn // 不循环\r\n\t\t\t\tindex = target.length - 1\r\n\t\t\t} else {\r\n\t\t\t\tindex--\r\n\t\t\t}\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[index] })\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_add.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayMaxCoin()\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\t\tif (index === target.length - 1) {\r\n\t\t\t\treturn // 不循环\r\n\t\t\t\tindex = 0\r\n\t\t\t} else {\r\n\t\t\t\tindex++\r\n\t\t\t}\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[index] })\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_betMax.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayMaxCoin()\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[target.length - 1] })\r\n\t\t})\r\n\t}\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"isRollEnd\") {\r\n\t\t\tconsole.log(\"isRollEnd\",value.cur);\r\n\t\t\tconsole.log(\"this.props.isSortStop\",this.props.isSortStop);\r\n\t\t\t\r\n\t\t\tthis.propertyNode.props_btn_down_putar.getComponent(Sprite).grayscale = !value.cur\r\n\t\t\tthis.setState({ disableBetSwitch: !value.cur })\r\n\t\t\tthis.propertyNode.props_spine_guangquan.active = value.cur\r\n\t\t}\r\n\t\tif (key === \"profit\") {\r\n\t\t\tconsole.log(\"profit\",value.cur);\r\n\t\t\t\r\n\t\t\tthis.propertyNode.props_word_down_goodluck.active = this.props.profit === 0\r\n\t\t\tthis.propertyNode.props_word_down_winNum.active = this.props.profit !== 0\r\n\t\t\t// console.log(value.pre, value.cur)\r\n\t\t\tif (value.cur < value.pre) {\r\n\t\t\t\t//如果数值减小，应该是恢复，直接变成目标值\r\n\t\t\t\tthis.propertyNode.props_word_down_winNum.getComponent(Label).string = value.cur\r\n\t\t\t} else {\r\n\t\t\t\tthis.taskScheduler.joinqQueue(new Task((done) => {\r\n\t\t\t\t\tthis.stepNumber && this.stepNumber.stop()\r\n\t\t\t\t\tthis.stepNumber = new StepNumber(value.pre, value.cur, (num) => {\r\n\t\t\t\t\t\tthis.propertyNode && this.propertyNode.props_word_down_winNum && (this.propertyNode.props_word_down_winNum.getComponent(Label).string = (+num.toFixed(0)).formatAmountWithCommas())\r\n\t\t\t\t\t}, () => done())\r\n\t\t\t\t\tthis.stepNumber.start()\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"subGameTimes\" || key === \"remainSubGameTimes\") {\r\n\t\t\tthis.propertyNode.props_times.getComponent(Label).string = `${this.props.remainSubGameTimes} / ${this.props.subGameTimes}`\r\n\t\t}\r\n\t\tif (key === \"currGameType\") {\r\n\t\t\tthis.setState({ disableBetSwitch: value.cur !== GameType.MAIN })\r\n\t\t}\r\n\t\tif (key === \"viewGameType\") {\r\n\t\t\t// console.log('viewGameType', this.props.viewGameType)\r\n\t\t\tthis.updateBtuFace()\r\n\t\t\t// this.propertyNode.props_word_down_pular.active = (this.props.viewGameType !== GameType.SUBGAME2 && this.props.autoLauncherType === AutoLauncherType.NONE)\r\n\t\t\t// this.propertyNode.props_times.active = this.props.viewGameType === GameType.SUBGAME2\r\n\t\t\t// this.propertyNode.props_autoLaunch_label.active = this.props.viewGameType !== GameType.SUBGAME2 && this.props.autoLauncherType !== AutoLauncherType.NONE\r\n\t\t}\r\n\t\tif (key === \"autoLauncherType\") {\r\n\t\t\tthis.totalTimes = autoLauncherTypeWithTimes[this.props.autoLauncherType]\r\n\t\t\tif (this.props.autoLauncherType === AutoLauncherType.LIMIT) {\r\n\t\t\t\tthis.totalTimes = \"∞\"\r\n\t\t\t} else if (this.props.autoLauncherType === AutoLauncherType.LAMIT_FAST) {\r\n\t\t\t\tthis.totalTimes = \"∞⁺\"\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"autoLaunchedTimes\") {\r\n\t\t\tif (this.props.autoLauncherType !== AutoLauncherType.NONE) {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `${this.props.autoLaunchedTimes} / ${this.totalTimes}`\r\n\t\t\t} else {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `1 / ${this.totalTimes}`\r\n\t\t\t}\r\n\t\t\tthis.updateBtuFace()\r\n\t\t}\r\n\t\tif (key === \"isJumpStop\") {\r\n\t\t\tthis.propertyNode.props_toggle_fast.isChecked = this.props.isSortStop\r\n\t\t}\r\n\t}\r\n\tprivate updateBtuFace() {\r\n\t\tif (this.props.currGameType === GameType.MAIN ) {\r\n\t\t\tthis.propertyNode.props_times.active = false\r\n\t\t\tif (this.props.autoLauncherType !== AutoLauncherType.NONE) {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.active = true\r\n\t\t\t\tthis.propertyNode.props_word_down_pular.active = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.active = false\r\n\t\t\t\tthis.propertyNode.props_word_down_pular.active = true\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (this.props.currGameType === GameType.SUBGAME1) {\r\n\t\t\tthis.propertyNode.props_times.active = true\r\n\t\t\tthis.propertyNode.props_autoLaunch_label.active = false\r\n\t\t\tthis.propertyNode.props_word_down_pular.active = false\r\n\t\t}\r\n\t}\r\n\t/**获取自动运行底板 */\r\n\tpublic getAutoLauncherBaseNBoard() {\r\n\t\treturn this.propertyNode.props_down_chooseBg\r\n\t}\r\n\tpublic getProfitBar() {\r\n\t\treturn this.propertyNode.props_word_down_winNum\r\n\t}\r\n\r\n\t/**根据用户级别获取下注金额列表 */\r\n\tprivate getBetListByLevel() {\r\n\t\tconst level = +JSON.parse(sys.localStorage.getItem(\"dfdc\")).lv\r\n\t\tconst betList = config.betSwitcher.find(item => (level => item.level[0] && level < item.level[1]))\r\n\t\treturn betList ? betList.amount : []\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tsktMsgListener.addOnce(SKT_MAG_TYPE.AUTH, \"footer\", () => {\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tif (UseSetOption.Instance().option.gameSet.dfdc && UseSetOption.Instance().option.gameSet.dfdc.betTarget) {\r\n\t\t\t\tconst t = target.find(i => i.positionId === UseSetOption.Instance().option.gameSet.dfdc.betTarget.positionId)\r\n\t\t\t\tthis.setState({ baseBetAmountTarget: t || target[0] })\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ baseBetAmountTarget: target[0] })\r\n\t\t\t}\r\n\t\t}, 2)\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.LAUNCHER_BET, \"footer\", (data, error) => {\r\n\t\t\tthis.stepNumber && this.stepNumber.stop()\r\n\t\t}, 10)\r\n\t\tthis.propertyNode.props_toggle_fast.node.on('toggle', (toggle: ToggleComponent) => {\r\n\t\t\tplayBtnClick()\r\n\t\t\tthis.events.changeSpeedUpSwitch(toggle.isChecked)\r\n\t\t}, this);\r\n\t\t// msgListener.add(NORMAL_MAG_TYPE.CHANGE_GAME, 'footer', ({ currGameType }) => {\r\n\t\t// \tthis.propertyNode.props_word_down_pular.active = currGameType !== GameType.SUBGAME2\r\n\t\t// \tthis.propertyNode.props_times.active = currGameType === GameType.SUBGAME2\r\n\t\t// })\r\n\r\n\t\t// this.useState((key, value) => {\r\n\t\t// \t// this.propertyNode.props_down_chooseBg.active = value.cur\r\n\t\t// \tif (value.cur === true) {\r\n\t\t// \t\tthis.events.openAutoLauncher()\r\n\t\t// \t} else {\r\n\t\t// \t\tthis.events.closeAutoLauncher()\r\n\t\t// \t}\r\n\t\t// }, [\"isShowAutoLancherPanel\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_Label_down_oneBet.string = `${config.linesQueue.length} × ${value.cur.value}`\r\n\t\t\tthis.propertyNode.props_Label_down_goldNum.string = (value.cur.value * config.linesQueue.length).formatAmountWithCommas()\r\n\t\t\tthis.events.changeBetAmount(value.cur.value * config.linesQueue.length, value.cur.positionId, value.cur.value)\r\n\t\t\tUseSetOption.Instance().setGameOption(\"dfdc\", { betTarget: value.cur })\r\n\t\t\tthis.setState({ \"isShowNoGlod\": this.props.balance < value.cur.value * config.linesQueue.length })\r\n\t\t\tthis.disableBetSwitch()\r\n\t\t}, [\"baseBetAmountTarget\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_btn_down_betMax.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = value.cur\r\n\t\t\t!value.cur && this.disableBetSwitch()\r\n\t\t}, [\"disableBetSwitch\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_spr_nomoney.active = value.cur\r\n\t\t}, [\"isShowNoGlod\"])\r\n\t}\r\n\r\n\tpublic getPositionData() {\r\n\t\treturn this.state.baseBetAmountTarget\r\n\t}\r\n\r\n\tprivate disableBetSwitch() {\r\n\t\tif (this.state.disableBetSwitch) { return };\r\n\t\tconst target = this.getBetListByLevel()\r\n\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = (index === target.length - 1)\r\n\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = (index === 0)\r\n\t}\r\n\r\n\tprotected destroyCallBack() {\r\n\t\tthis.taskScheduler.destoryQueue()\r\n\t\tsktMsgListener.removeById(\"footer\")\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}