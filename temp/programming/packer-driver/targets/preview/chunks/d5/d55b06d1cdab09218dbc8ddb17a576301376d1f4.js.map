{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/godWealthV2/components/GodWealthV2_Footer.ts"],"names":["_decorator","Button","Label","Node","Toggle","Color","BaseComponent","setAutoLauncherInfo","setBetDropDownList","updateDialogInfo","updatePositionId","updateSubGameAnimationPlayInfo","updateRollerStatus","updateSpeedStatus","AutoLauncherType","calBetAmount","DialogType","GameType","isAuto","RollerStatus","config","StepNumber","cacheData","godWealthV2_Audio","mainViewModel","SoundPathDefine","StepNumberV2","global","ccclass","property","GodWealthV2_Footer","isLongPress","longPressTime","executeEnding","stepNumberV2","propertyNode","props_startButton","props_toggle_fast","props_min_btn","props_max_btn","props_maxBet_btn","props_SZX_bz_btn","props_goodluck","props_bottom_score","props_word_down_menang","props_betAmount","props_lineCount","props_spr_nomoney","props_autoLaunch_label","props_btn_down_auto","props","rollerStatus","END","autoLauncherInfo","betDropDownlist","positionId","winloss","gameTypeInfo","lastGameType","MAIN","currGameType","viewGameType","leftCount","gold","events","onSendBet","openHelpPanel","longPressHandleCallback","start","initState","longPressHandle","node","isValid","unscheduleLong","dispatch","unschedule","undefined","bindEvent","on","EventType","TOUCH_START","isMain","bind","schedule","normalRollOption","startButtonLangTime","getComponent","TOUCH_END","getAutoLauncherType","NONE","comp","clearAuto","isBtnDisable","enabled","openAoutoPanl","TOUCH_CANCEL","isEnd","openShop","isSubGame","autoLauncherType","totalCount","isChangeGame","isSubGame2","RUNNING","rollerLaunchResult","ENDING","TOGGLE","e","playOneShot","BTN_CLICK","isChecked","amount","betSwitcher","MIN_COIN","updateSprMoney","MAX_COIN","length","getMaxBetPositionId","updateStartButtonAutoType","startBgNode","getChildByName","stopBgNode","autoNode","zi_AUTO","limitNode","props_sg_free","parent","auto","active","string","isLimit","isRoll","updateStartButtonDisable","updateBtnStatus","isNextSubGame","SUBGAME2","SUBGAME1","LIMIT","LAMIT_FAST","updateBtnDisableStatus","isDisable","btnNode","updateMaxMinBetDisableStatus","updateMaxBetStatus","maxBetPositionId","i","betAmount","isMaxBet","updateBetInfo","amountInfo","find","v","formatAmountWithCommas","value","updateScore","cur","pre","num","Number","toFixed","set","numberRollerTime","useProps","key","roundEndAutoHandle","scheduleOnce","changeGameHandle","gameType","param","dialogType","FREE_GAME_ENTRY","params","color","bindUI","setGoodLuckPos","worldPosition","setStartBtnPos","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Button, Label, Node, Sprite, Toggle, Animation, Color } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { setAutoLauncherInfo, setBetDropDownList, updateDialogInfo, updatePositionId, updateSubGameAnimationPlayInfo, updateWinloss } from '../store/actions/game';\r\nimport { updateRollerStatus, updateSpeedStatus } from '../store/actions/roller';\r\nimport { AutoLauncherInfo, AutoLauncherType, calBetAmount, DialogType, GameType, GameTypeInfo, isAuto, RollerStatus } from '../type';\r\nimport config from '../config';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { cacheData } from '../dataTransfer';\r\nimport { godWealthV2_Audio, mainViewModel } from '../index';\r\nimport { getNodeByNameDeep } from '../../../utils/tool';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nimport StepNumberV2 from '../../../utils/StepNumberV2';\r\nimport { global } from '../../../hall';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\t\r\n}\r\n\r\nexport interface IProps {\r\n\t/**滚动状态 */\r\n\trollerStatus: RollerStatus,\r\n\t/** 自动运行信息 */\r\n\tautoLauncherInfo: AutoLauncherInfo\r\n\t/** 是否显示下注下拉列表 */\r\n\tbetDropDownlist: boolean,\r\n\t/** 选择下注档次的线id */\r\n\tpositionId: number,\r\n\t/** 当前输赢 */\r\n\twinloss: number,\r\n\t/**游戏类型信息 */\r\n\tgameTypeInfo: GameTypeInfo,\r\n\t/**余额 */\r\n\tgold:number,\r\n}\r\nexport interface IEvent {\r\n\tonSendBet: () => void,\r\n\topenHelpPanel: () => void,\r\n\t\r\n}\r\n\r\n@ccclass('GodWealthV2_Footer')\r\nexport class GodWealthV2_Footer extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\t/**是否长按 */\r\n\tprivate isLongPress = false;\r\n\tprivate longPressTime = 0;\r\n\r\n\tprivate executeEnding = false;\r\n\tprivate stepNumberV2: StepNumberV2 = new StepNumberV2(this);\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_startButton: new Node(),\r\n\t\tprops_toggle_fast: new Node(),\r\n\t\tprops_min_btn: new Node(),\r\n\t\tprops_max_btn: new Node(),\r\n\t\tprops_maxBet_btn: new Node(),\r\n\t\tprops_SZX_bz_btn: new Node(),\r\n\t\tprops_goodluck: new Node(),\r\n\t\tprops_bottom_score: new Label(),\r\n\t\tprops_word_down_menang: new Node(),\r\n\t\tprops_betAmount: new Label(),\r\n\t\tprops_lineCount: new Label(),\r\n\t\tprops_spr_nomoney:new Node(),\r\n\t\tprops_autoLaunch_label:new Node(),\r\n\t\tprops_btn_down_auto:new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\t/**滚动状态 */\r\n\t\trollerStatus: RollerStatus.END,\r\n\t\tautoLauncherInfo: null,\r\n\t\tbetDropDownlist: false,\r\n\t\tpositionId: 1,\r\n\t\twinloss: -1,\r\n\t\tgameTypeInfo: {\r\n\t\t\tlastGameType: GameType.MAIN,\r\n\t\t\tcurrGameType: GameType.MAIN,\r\n\t\t\tviewGameType: GameType.MAIN,\r\n\t\t\tleftCount: 0\r\n\t\t},\r\n\t\tgold: -1,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonSendBet: () => { },\r\n\t\topenHelpPanel: () => { },\r\n\t\t\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\r\n\t\t}\r\n\t}\r\n\tprivate longPressHandleCallback;\r\n\tprivate longPressHandle() {\r\n\t\tif (this.node.isValid) {\r\n\t\t\tthis.unscheduleLong();\r\n\t\t\tthis.isLongPress = true;\r\n\t\t\tthis.dispatch(setBetDropDownList(true))\r\n\t\t}\r\n\t}\r\n\r\n\tprivate unscheduleLong() {\r\n\t\tthis.longPressHandleCallback && this.unschedule(this.longPressHandleCallback)\r\n\t\tthis.longPressHandleCallback = undefined;\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_startButton.on(Node.EventType.TOUCH_START, () => {\r\n\t\t\t// 自动状态下，长按无效\r\n\t\t\tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo) //自动状态长按无效\r\n\t\t\t|| this.isLongPress\r\n\t\t\t|| !this.isMain() //非主游戏中长按无效\r\n\t\t\t|| this.props.rollerStatus !== RollerStatus.END //未结束滚动长按无效\r\n\t\t\t|| this.longPressHandleCallback) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.longPressHandleCallback = this.longPressHandle.bind(this);\r\n\t\t\tthis.schedule(this.longPressHandleCallback, config.normalRollOption.startButtonLangTime / 1000);\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_down_auto.getComponent(Button).node.on(Node.EventType.TOUCH_END, () => { //打开自动弹框\r\n\t\t\tif(this.getAutoLauncherType()!== AutoLauncherType.NONE){\r\n\t\t\t\tmainViewModel.comp.clearAuto()\r\n\t\t\t}else{\r\n\t\t\t\tif (this.isBtnDisable() || !this.propertyNode.props_maxBet_btn.getComponent(Button).enabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if\r\n\t\t\t\t(this.isMain()){\r\n\t\t\t\t\tmainViewModel.comp.openAoutoPanl()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.propertyNode.props_startButton.on(Node.EventType.TOUCH_CANCEL, () => {\r\n\t\t\tthis.isLongPress = false;\r\n\t\t\tthis.unscheduleLong();\r\n\t\t})\r\n\t\tthis.propertyNode.props_startButton.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\t// this.stepNumberV2.stop();\r\n\t\t\tthis.unscheduleLong();\r\n\t\t\t// this.unscheduleAllCallbacks();\r\n\t\t\tif (this.isLongPress) {\r\n\t\t\t\tthis.isLongPress = false;\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tif (this.isMain() && this.isEnd() && this.props.gold < calBetAmount(this.props.positionId)) {\r\n\t\t\t\tglobal.openShop();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.props.betDropDownlist) {\r\n\t\t\t\t// 每次单击都要隐藏自动下注下拉列表\r\n\t\t\t\tthis.dispatch(setBetDropDownList(false))\r\n\t\t\t}\r\n\r\n\t\t\t// 如果是自动状态，点击就是取消自动状态\r\n\t\t\t// 小游戏中自动，所以这里不做任何处理\r\n\t\t\tif (this.isSubGame()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t\t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\t\t\t\ttotalCount: 0,\r\n\t\t\t\t\tleftCount: 0\r\n\t\t\t\t}))\r\n\t\t\t} else {\r\n\t\t\t\t// 游戏状态不为结束状态并且不切换游戏时，才能下注\r\n\t\t\t\tif (this.props.rollerStatus === RollerStatus.END && !this.isChangeGame()) {\r\n\t\t\t\t\tthis.events.onSendBet();\r\n\t\t\t\t} else if (!this.isSubGame2() && this.props.rollerStatus === RollerStatus.RUNNING && !this.executeEnding) {\r\n\t\t\t\t\tif (cacheData.rollerLaunchResult) {\r\n\t\t\t\t\t\tthis.dispatch(updateRollerStatus(RollerStatus.ENDING));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.executeEnding = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_toggle_fast.on(Toggle.EventType.TOGGLE, (e: Toggle) => {\r\n\t\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.BTN_CLICK)\r\n\t\t\tthis.dispatch(updateSpeedStatus(e.isChecked))\r\n\t\t})\r\n\r\n\t\tconst amount = config.betSwitcher[0].amount;\r\n\t\tthis.propertyNode.props_min_btn.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.MIN_COIN)\r\n\t\t\tif (this.isBtnDisable() || !this.propertyNode.props_min_btn.getComponent(Button).enabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.props.positionId <= amount[0].positionId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.dispatch(updatePositionId(this.props.positionId - 1));\r\n\t\t\tthis.updateSprMoney();\r\n\t\t})\r\n\t\tthis.propertyNode.props_max_btn.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t\tif (this.isBtnDisable() || !this.propertyNode.props_max_btn.getComponent(Button).enabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.props.positionId >= amount[amount.length - 1].positionId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.dispatch(updatePositionId(this.props.positionId + 1));\r\n\t\t\tthis.updateSprMoney();\r\n\t\t})\r\n\t\t// 最大下注\r\n\t\tthis.propertyNode.props_maxBet_btn.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t\tif (this.isBtnDisable() ||  !this.propertyNode.props_maxBet_btn.getComponent(Button).enabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.dispatch(updatePositionId(this.getMaxBetPositionId()));\r\n\t\t})\r\n\t\t// 帮助按钮\r\n\t\tthis.propertyNode.props_SZX_bz_btn.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.BTN_CLICK)\r\n\t\t\tthis.events.openHelpPanel();\r\n\t\t\t// this.dispatch(updateDialogInfo({\r\n\t\t\t// \tdialogType: DialogType.FREE_GAME_ENTRY,\r\n\t\t\t// \tparams: [10]\r\n\t\t\t// }));\r\n\t\t\t// mainViewModel.showDialogWin({\r\n\t\t\t// \tdialogType: DialogType.JACKPOT,\r\n\t\t\t// \tparams: [250],\r\n\t\t\t// }, () => { })\r\n\t\t})\r\n\t\tthis.propertyNode.props_spr_nomoney.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tglobal.openShop();\r\n\t\t})\r\n\t\r\n\r\n\t}\r\n\r\n\tprivate updateStartButtonAutoType() {\r\n\t\tconst startBgNode = this.propertyNode.props_startButton.getChildByName(\"STARTBG\");\r\n\t\tconst stopBgNode = this.propertyNode.props_startButton.getChildByName(\"scrollingThePicture\");\r\n\t\tconst autoNode = this.propertyNode.props_autoLaunch_label;\r\n\t\tconst zi_AUTO = this.propertyNode.props_btn_down_auto.getChildByName(\"zi_AUTO\");\r\n\t\tconst limitNode = this.propertyNode.props_btn_down_auto.getChildByName('Limit');\r\n\t\tconst props_sg_free = this.node.parent.getChildByName('props_sg_free')\r\n\t\tconst auto = isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\t\tif (!this.isMain()) {\r\n\t\t\tautoNode.active = false;\r\n\t\t\tlimitNode.active = false;\r\n\t\t\tstartBgNode.active = false;\r\n\t\t\tstopBgNode.active = false;\r\n\t\t\tprops_sg_free.active=true;\r\n\t\t\tprops_sg_free.getChildByName('props_label_sg_num').getComponent(Label).string = this.props.gameTypeInfo.leftCount + \"\";\r\n\t\t} else {\r\n\t\t\tprops_sg_free.active=false\r\n\t\t\t// 开始按钮背景，\r\n\t\t\tstartBgNode.active = !auto && this.props.rollerStatus === RollerStatus.END;\r\n\t\t\t// 停止滚动按钮背景\r\n\t\t\tstopBgNode.active = !auto && this.props.rollerStatus !== RollerStatus.END;\r\n\t\t\tif (auto) {\r\n\t\t\t\tautoNode.active = !this.isLimit();\r\n\t\t\t\tzi_AUTO.active = false;\r\n\t\t\t\tlimitNode.active = this.isLimit();\r\n\t\t\t\tif (!this.isLimit()) {\r\n\t\t\t\t\tautoNode.getComponent(Label).string = this.props.autoLauncherInfo.leftCount + \"/\" + this.props.autoLauncherInfo.totalCount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlimitNode.getChildByName('layout_limit').getChildByName('Number').getComponent(Label).string = this.props.autoLauncherInfo.leftCount + \"\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tautoNode.active = false;\r\n\t\t\t\tzi_AUTO.active = true;\r\n\t\t\t\tlimitNode.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\tprivate getAutoLauncherType() {\r\n\t\treturn this.props.autoLauncherInfo ? this.props.autoLauncherInfo.autoLauncherType : AutoLauncherType.NONE;\r\n\t}\r\n\r\n\t/**是否滚动中 */\r\n\tprivate isRoll() {\r\n\t\treturn this.props.rollerStatus !== RollerStatus.END;\r\n\t}\r\n\r\n\t/**\r\n\t * 更新开始按钮是否禁用\r\n\t */\r\n\tprivate updateStartButtonDisable() {\r\n\t\tconst auto = isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\t\t// 结束过程中和不是自动游戏时，开始按钮禁用\r\n\t\tif(auto){\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_startButton, true);\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif ((this.isMain() && this.props.rollerStatus === RollerStatus.ENDING) || (this.isChangeGame() && this.isNextSubGame())) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_startButton, true);\r\n\t\t\t// this.propertyNode.props_startButton.getComponent(Sprite).grayscale = true;\r\n\t\t} else {\r\n\t\t\tif(!this.isChangeGame()){\r\n\t\t\t\tthis.updateBtnStatus(this.propertyNode.props_startButton, false);\r\n\t\t\t}\r\n\t\t\t// this.propertyNode.props_startButton.getComponent(Sprite).grayscale = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**是否准备切换游戏 */\r\n\tprivate isChangeGame() {\r\n\t\treturn this.props.gameTypeInfo && this.props.gameTypeInfo.viewGameType !== this.props.gameTypeInfo.currGameType;\r\n\t}\r\n\r\n\tprivate isSubGame2() {\r\n\t\treturn this.props.gameTypeInfo && this.props.gameTypeInfo.viewGameType === GameType.SUBGAME2;\r\n\t}\r\n\r\n\tprivate isNextSubGame() {\r\n\t\treturn this.props.gameTypeInfo.currGameType === GameType.SUBGAME2 || this.props.gameTypeInfo.currGameType === GameType.SUBGAME1;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * 是否无限运行\r\n\t * @returns \r\n\t */\r\n\tprivate isLimit() {\r\n\t\tif (!this.props.autoLauncherInfo) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (this.props.autoLauncherInfo.autoLauncherType === AutoLauncherType.LIMIT ||\r\n\t\t\tthis.props.autoLauncherInfo.autoLauncherType === AutoLauncherType.LAMIT_FAST) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic isBtnDisable() {\r\n\t\t// 非主游戏和切换游戏时禁用按钮\r\n\t\tif (!this.isMain() || this.isChangeGame()) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn this.props.rollerStatus !== RollerStatus.END || isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\t}\r\n\r\n\r\n\t\r\n\t/**更新按钮禁用状态 */\r\n\tprivate updateBtnDisableStatus() {\r\n\t\tconst isDisable = this.isBtnDisable();\r\n\t\tthis.updateBtnStatus(this.propertyNode.props_max_btn, isDisable);\r\n\t\tthis.updateBtnStatus(this.propertyNode.props_min_btn, isDisable);\r\n\t\tthis.updateBtnStatus(this.propertyNode.props_maxBet_btn, isDisable);\r\n\t\tif (!isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_btn_down_auto,isDisable);\r\n\t\t} else {\r\n\t\t\tif (!this.isMain()) {\r\n\t\t\t\tthis.updateBtnStatus(this.propertyNode.props_btn_down_auto,true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateBtnStatus(this.propertyNode.props_btn_down_auto,false);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// this.propertyNode.props_max_btn.getComponent(Sprite).grayscale = isDisable;\r\n\t\t// this.propertyNode.props_min_btn.getComponent(Sprite).grayscale = isDisable;\r\n\t\t// this.propertyNode.props_maxBet_btn.getComponent(Sprite).grayscale = isDisable;\r\n\t\t// this.propertyNode.props_SZX_bz_btn.getComponent(Sprite).grayscale = isDisable;\r\n\t\tthis.propertyNode.props_max_btn.getComponent(Button).enabled = !isDisable;\r\n\t\tthis.propertyNode.props_min_btn.getComponent(Button).enabled = !isDisable;\r\n\t\tthis.propertyNode.props_maxBet_btn.getComponent(Button).enabled = !isDisable;\r\n\t\tthis.propertyNode.props_btn_down_auto.getComponent(Button).enabled = !isDisable;\r\n\t\t// this.propertyNode.props_SZX_bz_btn.getComponent(Button).enabled = !isDisable;\r\n\r\n\t}\r\n\r\n\tprivate updateBtnStatus(btnNode: Node, isDisable: boolean) {\r\n\t\tbtnNode.getChildByName(\"disable\").active = isDisable;\r\n\t}\r\n\r\n\t/**更新最大最小状态 */\r\n\tprivate updateMaxMinBetDisableStatus() {\r\n\t\tconst amount = config.betSwitcher[0].amount;\r\n\r\n\t\tconst isDisable = this.isBtnDisable();\r\n\r\n\r\n\t\tif (isDisable || amount[amount.length - 1].positionId === this.props.positionId) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_max_btn, true);\r\n\t\t\t// this.propertyNode.props_max_btn.getComponent(Sprite).grayscale = true;\r\n\t\t\tthis.propertyNode.props_max_btn.getComponent(Button).enabled = false;\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_max_btn, false);\r\n\t\t\t// this.propertyNode.props_max_btn.getComponent(Sprite).grayscale = false;\r\n\t\t\tthis.propertyNode.props_max_btn.getComponent(Button).enabled = true;\r\n\t\t}\r\n\r\n\r\n\t\tif (isDisable || this.props.positionId === amount[0].positionId) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_min_btn, true);\r\n\t\t\t// this.propertyNode.props_min_btn.getComponent(Sprite).grayscale = true;\r\n\t\t\tthis.propertyNode.props_min_btn.getComponent(Button).enabled = false;\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_min_btn, false);\r\n\t\t\t// this.propertyNode.props_min_btn.getComponent(Sprite).grayscale = false;\r\n\t\t\tthis.propertyNode.props_min_btn.getComponent(Button).enabled = true;\r\n\t\t}\r\n\r\n\t\tthis.updateMaxBetStatus();\r\n\t}\r\n\r\n\tprivate getMaxBetPositionId() {\r\n\t\tconst amount = config.betSwitcher[0].amount;\r\n\t\tlet maxBetPositionId = 1;\r\n\t\tfor (let i = amount.length - 1; i >= 0; i--) {\r\n\t\t\tconst positionId = amount[i].positionId;\r\n\t\t\tconst betAmount = calBetAmount(positionId)\r\n\t\t\tif (this.props.gold >= betAmount) {\r\n\t\t\t\tmaxBetPositionId = positionId;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxBetPositionId;\r\n\t}\r\n\r\n\tprivate updateMaxBetStatus() {\r\n\t\tconst isMaxBet = this.props.positionId >= this.getMaxBetPositionId();\r\n\r\n\t\tif (this.isBtnDisable()) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_maxBet_btn, true);\r\n\t\t\t// this.propertyNode.props_maxBet_btn.getComponent(Sprite).grayscale = true;\r\n\t\t\tthis.propertyNode.props_maxBet_btn.getComponent(Button).enabled = false;\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_maxBet_btn, false);\r\n\t\t\t// this.propertyNode.props_maxBet_btn.getComponent(Sprite).grayscale = false;\r\n\t\t\tthis.propertyNode.props_maxBet_btn.getComponent(Button).enabled = true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateBetInfo() {\r\n\t\tconst amountInfo = config.betSwitcher[0].amount.find(v => v.positionId === this.props.positionId);\r\n\t\tthis.propertyNode.props_betAmount.string = calBetAmount(this.props.positionId).formatAmountWithCommas();\r\n\t\tthis.propertyNode.props_lineCount.string = config.betAmount + \"x\" + amountInfo.value;\r\n\t}\r\n\r\n\tprivate updateScore(value: { pre: any, cur: any }) {\r\n\t\tthis.propertyNode.props_goodluck.active = value.cur === 0;\r\n\t\tthis.propertyNode.props_word_down_menang.active = value.cur > 0;\r\n\t\tthis.propertyNode.props_bottom_score.node.active = value.cur > 0;\r\n        \r\n\t\tnew StepNumber(value.pre, value.cur, (num) => {\r\n\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\tconst value = Number(num.toFixed(0));\r\n\t\t\t\tthis.propertyNode.props_bottom_score.string = value.formatAmountWithCommas();\r\n\t\t\t}\r\n\t\t}).set(config.normalRollOption.numberRollerTime).start();\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps | '_setDone', value: { pre: any, cur: any }) {\r\n\t\tif (this.node && this.node.isValid) { \r\n\r\n\t\t\tif (key === 'rollerStatus') {\r\n\t\t\t\tthis.updateStartButtonDisable();\r\n\t\t\t\tthis.updateStartButtonAutoType();\r\n\t\t\t\tthis.updateBtnDisableStatus();\r\n\t\t\t\tthis.roundEndAutoHandle();\r\n\t\t\t} else if (key === 'autoLauncherInfo') {\r\n\t\t\t\tthis.updateStartButtonAutoType();\r\n\t\t\t\tthis.updateStartButtonDisable();\r\n\t\t\t\tthis.updateBtnDisableStatus();\r\n\t\t\t} else if (key === 'gameTypeInfo') {\r\n\t\t\t\tthis.updateStartButtonAutoType();\r\n\t\t\t\tthis.updateStartButtonDisable();\r\n\t\t\t\tthis.updateBtnDisableStatus();\r\n\t\t\t} else if (key === 'positionId') {\r\n\t\t\t\tthis.updateBetInfo();\r\n\t\t\t} else if (key === 'gold') {\r\n\t\t\t\tthis.updateSprMoney();\r\n\t\t\t} else if (key === 'winloss') {\r\n\t\t\t\tthis.updateScore(value);\r\n\t\t\t} else if (key === '_setDone') {\r\n\t\t\t\t// this.updateSprMoney();\r\n\t\t\t\tthis.updateMaxMinBetDisableStatus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate isMain() {\r\n\t\treturn this.props.gameTypeInfo.viewGameType === GameType.MAIN;\r\n\t}\r\n\r\n\tprivate isEnd() {\r\n\t\treturn this.props.rollerStatus === RollerStatus.END;\r\n\t}\r\n\r\n\tprivate isSubGame() {\r\n\t\treturn this.props.gameTypeInfo.viewGameType !== GameType.MAIN;\r\n\t}\r\n\r\n\tprivate roundEndAutoHandle() {\r\n\t\tif (RollerStatus.END === this.props.rollerStatus) {\r\n\t\t\t// if (this.isChangeGame()) {\r\n\t\t\t// \tthis.changeGameHandle();\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t\tif (this.isMain()) {\r\n\t\t\t\t\tconst leftCount = this.isLimit() ? this.props.autoLauncherInfo.leftCount + 1 : this.props.autoLauncherInfo.leftCount - 1;\r\n\t\t\t\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t\t\t\tautoLauncherType: this.props.autoLauncherInfo.autoLauncherType,\r\n\t\t\t\t\t\ttotalCount: this.props.autoLauncherInfo.totalCount,\r\n\t\t\t\t\t\tleftCount\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\t\tthis.node && this.node.isValid && this.events.onSendBet();\r\n\t\t\t\t}, 0.5)\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.isMain()) {\r\n\t\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\t\tthis.node && this.node.isValid && this.events.onSendBet();\r\n\t\t\t\t}, 0.5)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate changeGameHandle() {\r\n\t\tif (this.props.gameTypeInfo.currGameType === GameType.MAIN) {\r\n\t\t\t// 从小游戏切换到主游戏，关门动画\r\n\t\t\tthis.dispatch(updateSubGameAnimationPlayInfo({\r\n\t\t\t\tgameType: this.props.gameTypeInfo.viewGameType,\r\n\t\t\t\tparam: 1\r\n\t\t\t}))\r\n\t\t} else if (this.props.gameTypeInfo.currGameType === GameType.SUBGAME1) {\r\n\t\t\tthis.dispatch(updateDialogInfo({\r\n\t\t\t\tdialogType: DialogType.FREE_GAME_ENTRY,\r\n\t\t\t\tparams: [this.props.gameTypeInfo.leftCount],\r\n\t\t\t}))\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateSprMoney() {\r\n\t\tif (this.props.gold < calBetAmount(this.props.positionId)) {\r\n\t\t\tif (!this.propertyNode.props_spr_nomoney.active) {\r\n\t\t\t\tthis.propertyNode.props_spr_nomoney.active = true;\r\n\t\t\t\tthis.propertyNode.props_betAmount.getComponent(Label).color = new Color(144, 144, 134);\r\n\t\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\t\tthis.propertyNode.props_spr_nomoney.active = false;\r\n\t\t\t\t}, 4)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.propertyNode.props_spr_nomoney.active = false;\r\n\t\t\tthis.propertyNode.props_betAmount.getComponent(Label).color = new Color(255, 255, 255);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tmainViewModel.setGoodLuckPos(this.propertyNode.props_bottom_score.node.worldPosition);\r\n\t\tmainViewModel.setStartBtnPos(this.propertyNode.props_startButton.worldPosition);\r\n\t\tthis.propertyNode.props_spr_nomoney.active = false;\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\t\tif (this.executeEnding && cacheData.rollerLaunchResult) {\r\n\t\t\tthis.executeEnding = false;\r\n\t\t\tthis.dispatch(updateRollerStatus(RollerStatus.ENDING));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n"]}