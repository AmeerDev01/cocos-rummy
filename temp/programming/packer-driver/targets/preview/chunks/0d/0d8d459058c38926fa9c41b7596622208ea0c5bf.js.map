{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandarQiuQiu/components/BandarQiuQiu_heGuan.ts"],"names":["_decorator","Node","sp","BaseComponent","SkeletonAnimationPlayer","global","BANKER_ID","GameType","gameCacheData","SKT_MAG_TYPE","sktInstance","ccclass","property","BandarQiuQiu_heGuan","propertyNode","props_croupier","props","events","start","initState","bindEvent","on","EventType","TOUCH_END","showGiftWindow","BANDAR_QIU_QIU","undefined","value","data","roomId","interactionId","toSitId","num","sendSktMessage","GIVE_GIFT","useProps","key","playFaPaiAni","getComponent","Skeleton","playAnimation","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,E,OAAAA,E;;AAClBC,MAAAA,a,iBAAAA,a;;AAEFC,MAAAA,uB;;AACEC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,S,iBAAAA,S;AAAWC,MAAAA,Q,iBAAAA,Q;;AACXC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,W,iBAAAA,W;;;;;;;;;OACjB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBZ,U;;qCAiBjBa,mB,WADZF,OAAO,CAAC,qBAAD,C,gBAAR,MACaE,mBADb;AAAA;AAAA,0CAC+E;AAAA;AAAA;AAAA,eAKpEC,YALoE,GAKrD;AACxBC,YAAAA,cAAc,EAAE,IAAId,IAAJ;AADQ,WALqD;AAAA,eASvEe,KATuE,GASvD,EATuD;AAAA,eAavEC,MAbuE,GAatD,EAbsD;AAAA;;AAC9EC,QAAAA,KAAK,GAAG,CAEP;;AAcSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS;AAC3B,eAAKN,YAAL,CAAkBC,cAAlB,CAAiCM,EAAjC,CAAoCpB,IAAI,CAACqB,SAAL,CAAeC,SAAnD,EAA8D,MAAM;AACnE;AAAA;AAAA,kCAAOC,cAAP,CAAsB;AAAA;AAAA,sCAASC,cAA/B,EAA+CC,SAA/C,EAA2DC,KAAD,IAAmB;AAC5E,kBAAMC,IAAe,GAAG;AACvBC,gBAAAA,MAAM,EAAE;AAAA;AAAA,oDAAcA,MADC;;AAEvB;AACAC,gBAAAA,aAAa,EAAEH,KAHQ;;AAIvB;AACAI,gBAAAA,OAAO;AAAA;AAAA,0CALgB;;AAMvB;AACAC,gBAAAA,GAAG,EAAE;AAPkB,eAAxB;AASA;AAAA;AAAA,8CAAYC,cAAZ,CAA2B;AAAA;AAAA,gDAAaC,SAAxC,EAAmDN,IAAnD;AAEA,aAZD;AAaA,WAdD;AAgBA;;AAESO,QAAAA,QAAQ,CAACC,GAAD,EAAoBT,KAApB,EAAmD,CAEpE;;AAEMU,QAAAA,YAAY,GAAG;AACrB;AAEA;AAAA;AAAA,kEAA4B,KAAKvB,YAAL,CAAkBC,cAAlB,CAAiCuB,YAAjC,CAA8CpC,EAAE,CAACqC,QAAjD,CAA5B,EAAwF,OAAxF,EAAiG,KAAjG,EAAwGC,aAAxG;AACA;;AAESC,QAAAA,MAAM,GAAS,CAGxB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA3D6E,O","sourcesContent":["import { _decorator, Node, sp } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { getNodePositionInCanvas, initToggle } from '../../../utils/tool';\r\nimport SkeletonAnimationPlayer from '../SkeletonPlay';\r\nimport { global } from '../../../hall';\r\nimport { BANKER_ID, GameType } from '../../../common/viewModel/GiftUserViewModel';\r\nimport { gameCacheData, ReqGiftSo } from '../type';\r\nimport { SKT_MAG_TYPE, sktInstance } from '../socketConnect';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\r\n}\r\nexport interface IEvent {\r\n\r\n}\r\n\r\n\r\n@ccclass('BandarQiuQiu_heGuan')\r\nexport class BandarQiuQiu_heGuan extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_croupier: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_croupier.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tglobal.showGiftWindow(GameType.BANDAR_QIU_QIU, undefined, (value: number) => {\r\n\t\t\t\tconst data: ReqGiftSo = {\r\n\t\t\t\t\troomId: gameCacheData.roomId,\r\n\t\t\t\t\t/**道具Id */\r\n\t\t\t\t\tinteractionId: value,\r\n\t\t\t\t\t/**获赠玩家 */\r\n\t\t\t\t\ttoSitId: BANKER_ID,\r\n\t\t\t\t\t/** 总共需要花费的金币 */\r\n\t\t\t\t\tnum: 0\r\n\t\t\t\t}\r\n\t\t\t\tsktInstance.sendSktMessage(SKT_MAG_TYPE.GIVE_GIFT, data)\r\n\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\r\n\t}\r\n\r\n\tpublic playFaPaiAni() {\r\n\t\t// console.log(\"111111111,fapai\");\r\n\r\n\t\tnew SkeletonAnimationPlayer(this.propertyNode.props_croupier.getComponent(sp.Skeleton), \"fapai\", false).playAnimation();\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}