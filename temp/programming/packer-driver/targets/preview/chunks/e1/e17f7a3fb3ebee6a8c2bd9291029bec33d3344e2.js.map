{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/fruit777/components/Fruit777_Footer.ts"],"names":["_decorator","Button","Label","Node","Sprite","sys","Toggle","BaseComponent","config","SKT_MAG_TYPE","sktMsgListener","fruit777_Audio","gameBoardViewModel","AutoLauncherType","GameType","TaskScheduler","Task","StepNumber","autoLauncherTypeWithTimes","SoundPathDefine","UseSetOption","setRollSpeed","ccclass","property","Fruit777_Footer","timer","pressTime","pressTimeDone","taskScheduler","stepNumber","totalTimes","propertyNode","props_btn_down_putar","props_btn_down_betMax","props_btn_down_help","props_btn_down_subtract","props_btn_down_add","props_Label_down_oneBet","props_Label_down_goldNum","props_word_down_goodluck","props_word_down_winNum","props_down_chooseBg","props_spine_guangquan","props_word_down_pular","props_times","props_autoLaunch_label","props_word_down_auto","props_spr_nomoney","props_toggle_fast","props_spr_sg","props_btn_down_auto","props","isRollEnd","profit","subGameTimes","remainSubGameTimes","currGameType","NONE","viewGameType","isShowAutoLaunch","autoLauncherType","autoLaunchedTimes","balance","isJumpStop","isSortStop","events","manualBetHandler","openAutoLauncher","closeAutoLauncher","isClear","openHelpPanel","changeBetAmount","betAmount","positionId","value","changeSpeedUpSwitch","isChecked","start","initState","baseBetAmountTarget","disableBetSwitch","isShowNoGlod","pressHandler","unschedule","bindEvent","on","EventType","TOUCH_START","schedule","node","TOUCH_END","getComponent","grayscale","dispatch","CLICK","playOneShot","MIN_COIN","state","target","getBetListByLevel","index","indexOf","length","setState","MAX_COIN","useProps","key","cur","active","pre","string","formatAmountWithCommas","joinqQueue","done","stop","num","toFixed","MAIN","setFlyNode","parent","updateBtuFace","LIMIT","LAMIT_FAST","SUBGAME1","SUBGAME2","getAutoLauncherBaseNBoard","getProfitBar","level","JSON","parse","localStorage","getItem","lv","betList","betSwitcher","find","item","amount","bindUI","addOnce","AUTH","Instance","option","gameSet","fruit777","betTarget","t","i","add","LAUNCHER_BET","data","error","toggle","useState","linesQueueNum","setGameOption","currentGameViewModel","comp","doJectpot","getPositionData","destroyCallBack","destoryQueue","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Button, Component, EventMouse, Label, Node, Sprite, sys, Toggle, ToggleComponent } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport config from '../config';\r\nimport { SKT_MAG_TYPE, sktInstance, sktMsgListener } from '../socketConnect';\r\nimport { fruit777_Audio, gameBoardViewModel, headerViewModel, msgListener, NORMAL_MAG_TYPE } from '../index';\r\nimport { AutoLauncherType, GameType } from '../type';\r\nimport TaskScheduler, { Task } from '../../../utils/TaskScheduler';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { autoLauncherTypeWithTimes } from '../viewModel/AutoLauncherViewModel';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nimport UseSetOption from '../../../utils/UseSetOption';\r\nimport { setRollSpeed } from '../store/actions/roller';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\t/**是否显示自动下注面板 */\r\n\t// isShowAutoLancherPanel: boolean,\r\n\t/**基本的下注额度序号 */\r\n\tbaseBetAmountTarget: {\r\n\t\tpositionId: number;\r\n\t\tvalue: number;\r\n\t},\r\n\t/**是否禁用下注调整 */\r\n\tdisableBetSwitch: boolean\r\n\t/**是否显示金额不足提示框 */\r\n\tisShowNoGlod: boolean\r\n}\r\n\r\nexport interface IProps {\r\n\t/**转动是否停止 */\r\n\tisRollEnd: boolean,\r\n\t/**盈亏 */\r\n\tprofit: number,\r\n\t/**要执行的小游戏次数 */\r\n\tsubGameTimes: number,\r\n\t/**剩余的小游戏次数 */\r\n\tremainSubGameTimes: number,\r\n\t/**当前的游戏 */\r\n\tcurrGameType: GameType,\r\n\t/**当前界面所处的游戏 */\r\n\tviewGameType: GameType,\r\n\t/**自动执行显示状态 */\r\n\tisShowAutoLaunch: boolean,\r\n\t/**自动执行的类型 */\r\n\tautoLauncherType: AutoLauncherType,\r\n\t/**已经执行了多少次 */\r\n\tautoLaunchedTimes: number,\r\n\t/**玩家余额 */\r\n\tbalance: number,\r\n\t/**停止模式 */\r\n\tisJumpStop: boolean,\r\n\t/**是否序停 */\r\n\tisSortStop: boolean\r\n}\r\nexport interface IEvent {\r\n\t/**打开自动下注,isToggle：是否反向(如果开启窗台再调用则关闭)*/\r\n\topenAutoLauncher: () => void\r\n\t/**关闭自动下注框 */\r\n\tcloseAutoLauncher: (isClear: boolean) => void,\r\n\t/**手动下注 */\r\n\tmanualBetHandler: () => void,\r\n\t/**打开帮助框 */\r\n\topenHelpPanel: () => void,\r\n\t/**改变下注金额，总下注金额，下注档位positionId和下注档位额度 */\r\n\tchangeBetAmount: (betAmount: number, positionId: number, value: number) => void,\r\n\t/**改变下注档位 */\r\n\t// changePositionId: (positionId) => void\r\n\tchangeSpeedUpSwitch: (isChecked: boolean) => void\r\n}\r\n\r\n@ccclass('Fruit777_Footer')\r\nexport class Fruit777_Footer extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() { }\r\n\tprivate timer: number\r\n\t/**按下的时间 */\r\n\tprivate pressTime: number = 0\r\n\t/**按下触发时间 */\r\n\tprivate pressTimeDone: number = 50\r\n\tprivate taskScheduler: TaskScheduler = new TaskScheduler()\r\n\tprivate stepNumber: StepNumber\r\n\tprivate totalTimes: any\r\n\tprotected propertyNode = {\r\n\t\t/**主启动按钮 */\r\n\t\tprops_btn_down_putar: new Node(),\r\n\t\t/**最大下注按钮 */\r\n\t\tprops_btn_down_betMax: new Button(),\r\n\t\t/**帮助开启按钮 */\r\n\t\tprops_btn_down_help: new Button(),\r\n\t\t/**下注降档 */\r\n\t\tprops_btn_down_subtract: new Button(),\r\n\t\t/**下注升档 */\r\n\t\tprops_btn_down_add: new Button(),\r\n\t\t/**下注乘法 */\r\n\t\tprops_Label_down_oneBet: new Label(),\r\n\t\t/**下注金额显示 */\r\n\t\tprops_Label_down_goldNum: new Label(),\r\n\t\t/**goodLuck */\r\n\t\tprops_word_down_goodluck: new Node(),\r\n\t\t/**盈亏 */\r\n\t\tprops_word_down_winNum: new Node(),\r\n\t\t/**自动选择框底板 */\r\n\t\tprops_down_chooseBg: new Node(),\r\n\t\t/**按钮光效 */\r\n\t\tprops_spine_guangquan: new Node(),\r\n\t\t/**PUTAR */\r\n\t\tprops_word_down_pular: new Node(),\r\n\t\t/**次数 */\r\n\t\tprops_times: new Node(),\r\n\t\t/**自动执行的信息 */\r\n\t\tprops_autoLaunch_label: new Node(),\r\n\t\tprops_word_down_auto: new Node(),\r\n\t\t/**缺钱提示 */\r\n\t\tprops_spr_nomoney: new Node(),\r\n\t\t/**加速Toggle */\r\n\t\tprops_toggle_fast: new Toggle(),\r\n\t\t/**小游戏次数外框 */\r\n\t\tprops_spr_sg: new Node(),\r\n\t\t/**调起自动运行框 */\r\n\t\tprops_btn_down_auto: new Button()\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tisRollEnd: true,\r\n\t\tprofit: 0,\r\n\t\tsubGameTimes: 0,\r\n\t\tremainSubGameTimes: 0,\r\n\t\tcurrGameType: GameType.NONE,\r\n\t\tviewGameType: GameType.NONE,\r\n\t\tisShowAutoLaunch: false,\r\n\t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\tautoLaunchedTimes: 0,\r\n\t\tbalance: 0,\r\n\t\tisJumpStop: true,\r\n\t\tisSortStop: false\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tmanualBetHandler: () => { },\r\n\t\topenAutoLauncher: () => { },\r\n\t\tcloseAutoLauncher: (isClear: boolean) => { },\r\n\t\topenHelpPanel: () => { },\r\n\t\tchangeBetAmount: (betAmount: number, positionId: number, value: number) => { },\r\n\t\t// changePositionId: (positionId) => void\r\n\t\tchangeSpeedUpSwitch: (isChecked: boolean) => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t// isShowAutoLancherPanel: false,\r\n\t\t\tbaseBetAmountTarget: {\r\n\t\t\t\tpositionId: 0,\r\n\t\t\t\tvalue: 0\r\n\t\t\t},\r\n\t\t\tdisableBetSwitch: false,\r\n\t\t\tisShowNoGlod: false\r\n\t\t}\r\n\t}\r\n\tprivate pressHandler() {\r\n\t\tthis.pressTime += 1\r\n\t\tif (this.pressTime > this.pressTimeDone) {\r\n\t\t\tthis.unschedule(this.pressHandler)\r\n\t\t\t//打开自动运行\r\n\t\t\t// this.setState({ isShowAutoLancherPanel: !this.state.isShowAutoLancherPanel })\r\n\t\t\tif (!this.props) return\r\n\t\t\tif (!this.props.isRollEnd) return\r\n\t\t\tthis.props.isShowAutoLaunch ? this.events.closeAutoLauncher(false) : this.events.openAutoLauncher()\r\n\t\t}\r\n\t}\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_down_putar.on(Node.EventType.TOUCH_START, () => {\r\n\t\t\t//鼠标按下\r\n\t\t\tthis.unschedule(this.pressHandler)\r\n\t\t\tthis.schedule(this.pressHandler, 0.01)\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_down_auto.node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tif (this.propertyNode.props_btn_down_auto.getComponent(Sprite).grayscale) return\r\n\t\t\tthis.props.autoLauncherType !== AutoLauncherType.NONE ? this.events.closeAutoLauncher(true) : this.events.openAutoLauncher()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_down_putar.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\t//鼠标释放\r\n\t\t\t// window.clearInterval(this.timer)\r\n\t\t\tthis.unschedule(this.pressHandler)\r\n\t\t\tif (this.pressTime > this.pressTimeDone) {\r\n\t\t\t\t//长按完成\r\n\t\t\t} else {\r\n\t\t\t\t//滑槽不管是否是停止状态，都要停止自动\r\n\t\t\t\tthis.dispatch(setRollSpeed(1))\r\n\t\t\t\tthis.events.closeAutoLauncher(true)\r\n\t\t\t\tif (!this.props.isRollEnd) return\r\n\t\t\t\tthis.events.manualBetHandler()\r\n\t\t\t}\r\n\t\t\tthis.pressTime = 0\r\n\t\t})\r\n\r\n\r\n\t\tthis.propertyNode.props_btn_down_help.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tthis.events.openHelpPanel()\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_subtract.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tfruit777_Audio.playOneShot(SoundPathDefine.MIN_COIN)\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\t\tif (index === 0) {\r\n\t\t\t\treturn // 不循环\r\n\t\t\t\tindex = target.length - 1\r\n\t\t\t} else {\r\n\t\t\t\tindex--\r\n\t\t\t}\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[index] })\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_add.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tfruit777_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\t\tif (index === target.length - 1) {\r\n\t\t\t\treturn // 不循环\r\n\t\t\t\tindex = 0\r\n\t\t\t} else {\r\n\t\t\t\tindex++\r\n\t\t\t}\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[index] })\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_betMax.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tfruit777_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[target.length - 1] })\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"isRollEnd\") {\r\n\t\t\tthis.propertyNode.props_btn_down_putar.getComponent(Sprite).grayscale = !value.cur\r\n\t\t\t// this.setState({ disableBetSwitch: !value.cur })\r\n\t\t\tthis.propertyNode.props_spine_guangquan.active = value.cur\r\n\t\t}\r\n\t\tif (key === \"profit\") {\r\n\t\t\tthis.propertyNode.props_word_down_goodluck.active = this.props.profit === 0\r\n\t\t\tthis.propertyNode.props_word_down_winNum.active = this.props.profit !== 0\r\n\t\t\t// console.log(value.pre, value.cur)\r\n\t\t\tif (value.cur < value.pre) {\r\n\t\t\t\t//如果数值减小，应该是恢复，直接变成目标值\r\n\t\t\t\tthis.propertyNode.props_word_down_winNum.getComponent(Label).string = value.cur.formatAmountWithCommas()\r\n\t\t\t} else {\r\n\t\t\t\tthis.taskScheduler.joinqQueue(new Task((done) => {\r\n\t\t\t\t\tthis.stepNumber && this.stepNumber.stop()\r\n\t\t\t\t\tthis.stepNumber = new StepNumber(value.pre, value.cur, (num) => {\r\n\t\t\t\t\t\tthis.propertyNode && this.propertyNode.props_word_down_winNum && (this.propertyNode.props_word_down_winNum.getComponent(Label).string = (+num.toFixed(0)).formatAmountWithCommas())\r\n\t\t\t\t\t}, () => done())\r\n\t\t\t\t\t// if (dataTransfer(DataKeyType.GAME_TYPE) !== GameType.MAIN) {\r\n\t\t\t\t\tif (this.props.viewGameType !== GameType.MAIN) {\r\n\t\t\t\t\t\tthis.stepNumber.setFlyNode(this.propertyNode.props_word_down_winNum.parent, this.propertyNode.props_word_down_winNum, 40)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.stepNumber.start()\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"subGameTimes\" || key === \"remainSubGameTimes\") {\r\n\t\t\t// this.propertyNode.props_times.getComponent(Label).string = `${this.props.remainSubGameTimes} / ${this.props.subGameTimes}`\r\n\t\t\tthis.propertyNode.props_times.getComponent(Label).string = `${this.props.remainSubGameTimes}`\r\n\t\t}\r\n\t\tif (key === \"currGameType\") {\r\n\t\t\t// this.setState({ disableBetSwitch: value.cur !== GameType.MAIN })\r\n\t\t}\r\n\t\tif (key === \"viewGameType\") {\r\n\t\t\t// console.log('viewGameType', this.props.viewGameType)\r\n\t\t\tthis.updateBtuFace()\r\n\t\t\tthis.setState({ disableBetSwitch: value.cur !== GameType.MAIN })\r\n\t\t\t// this.propertyNode.props_word_down_pular.active = (this.props.viewGameType !== GameType.SUBGAME2 && this.props.autoLauncherType === AutoLauncherType.NONE)\r\n\t\t\t// this.propertyNode.props_times.active = this.props.viewGameType === GameType.SUBGAME2\r\n\t\t\t// this.propertyNode.props_autoLaunch_label.active = this.props.viewGameType !== GameType.SUBGAME2 && this.props.autoLauncherType !== AutoLauncherType.NONE\r\n\t\t}\r\n\t\tif (key === \"autoLauncherType\") {\r\n\t\t\tthis.totalTimes = autoLauncherTypeWithTimes[this.props.autoLauncherType]\r\n\t\t\tif (this.props.autoLauncherType === AutoLauncherType.LIMIT) {\r\n\t\t\t\tthis.totalTimes = \"∞\"\r\n\t\t\t} else if (this.props.autoLauncherType === AutoLauncherType.LAMIT_FAST) {\r\n\t\t\t\tthis.totalTimes = \"∞⁺\"\r\n\t\t\t}\r\n\t\t\tthis.propertyNode.props_autoLaunch_label.active = this.props.autoLauncherType !== AutoLauncherType.NONE\r\n\t\t\tthis.propertyNode.props_word_down_auto.active = this.props.autoLauncherType === AutoLauncherType.NONE\r\n\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `${this.props.autoLaunchedTimes} / ${this.totalTimes}`\r\n\t\t}\r\n\t\tif (key === \"autoLaunchedTimes\") {\r\n\t\t\tif (this.props.autoLauncherType !== AutoLauncherType.NONE) {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `${this.props.autoLaunchedTimes} / ${this.totalTimes}`\r\n\t\t\t} else {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `1 / ${this.totalTimes}`\r\n\t\t\t}\r\n\t\t\tthis.updateBtuFace()\r\n\t\t}\r\n\t\tif (key === \"isJumpStop\") {\r\n\t\t\tthis.propertyNode.props_toggle_fast.isChecked = this.props.isSortStop\r\n\t\t}\r\n\t}\r\n\tprivate updateBtuFace() {\r\n\r\n\t\tif (this.props.currGameType === GameType.MAIN || this.props.currGameType === GameType.SUBGAME1) {\r\n\t\t\tthis.propertyNode.props_spr_sg.active = false\r\n\t\t\tif (this.props.autoLauncherType !== AutoLauncherType.NONE) {\r\n\t\t\t\t// this.propertyNode.props_autoLaunch_label.active = true\r\n\t\t\t\t// this.propertyNode.props_word_down_pular.active = false\r\n\t\t\t} else {\r\n\t\t\t\t// this.propertyNode.props_autoLaunch_label.active = false\r\n\t\t\t\t// this.propertyNode.props_word_down_pular.active = true\r\n\t\t\t}\r\n\t\t\t// this.propertyNode.props_autoLaunch_label.active = this.props.autoLauncherType !== AutoLauncherType.NONE\r\n\t\t\t// this.propertyNode.props_word_down_pular.active = this.props.autoLauncherType === AutoLauncherType.NONE\r\n\t\t\t// this.propertyNode.props_times.active = this.props.autoLauncherType !== AutoLauncherType.NONE\r\n\t\t} else if (this.props.currGameType === GameType.SUBGAME2) {\r\n\t\t\tthis.propertyNode.props_spr_sg.active = true\r\n\t\t\t// this.propertyNode.props_autoLaunch_label.active = false\r\n\t\t\t// this.propertyNode.props_word_down_pular.active = false\r\n\t\t}\r\n\t\t// this.setState({ disableBetSwitch: this.props.currGameType !== GameType.MAIN })\r\n\t}\r\n\t/**获取自动运行底板 */\r\n\tpublic getAutoLauncherBaseNBoard() {\r\n\t\treturn this.propertyNode.props_down_chooseBg\r\n\t}\r\n\tpublic getProfitBar() {\r\n\t\treturn this.propertyNode.props_word_down_winNum\r\n\t}\r\n\r\n\t/**根据用户级别获取下注金额列表 */\r\n\tprivate getBetListByLevel() {\r\n\t\tconst level = +JSON.parse(sys.localStorage.getItem(\"fruit777\")).lv\r\n\t\tconst betList = config.betSwitcher.find(item => (level => item.level[0] && level < item.level[1]))\r\n\t\treturn betList ? betList.amount : []\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tsktMsgListener.addOnce(SKT_MAG_TYPE.AUTH, \"footer\", () => {\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tif (UseSetOption.Instance().option.gameSet.fruit777 && UseSetOption.Instance().option.gameSet.fruit777.betTarget) {\r\n\t\t\t\tconst t = target.find(i => i.positionId === UseSetOption.Instance().option.gameSet.fruit777.betTarget.positionId)\r\n\t\t\t\tthis.setState({ baseBetAmountTarget: t || target[0] })\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ baseBetAmountTarget: target[0] })\r\n\t\t\t}\r\n\t\t}, 2)\r\n\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.LAUNCHER_BET, \"footer\", (data, error) => {\r\n\t\t\tthis.stepNumber && this.stepNumber.stop()\r\n\t\t}, 10)\r\n\t\tthis.propertyNode.props_toggle_fast.node.on('toggle', (toggle: ToggleComponent) => {\r\n\t\t\tfruit777_Audio.playOneShot(SoundPathDefine.CLICK)\r\n\t\t\tthis.events.changeSpeedUpSwitch(toggle.isChecked)\r\n\t\t}, this);\r\n\t\t// msgListener.add(NORMAL_MAG_TYPE.CHANGE_GAME, 'footer', ({ currGameType }) => {\r\n\t\t// \tthis.propertyNode.props_word_down_pular.active = currGameType !== GameType.SUBGAME2\r\n\t\t// \tthis.propertyNode.props_times.active = currGameType === GameType.SUBGAME2\r\n\t\t// })\r\n\r\n\t\t// this.useState((key, value) => {\r\n\t\t// \t// this.propertyNode.props_down_chooseBg.active = value.cur\r\n\t\t// \tif (value.cur === true) {\r\n\t\t// \t\tthis.events.openAutoLauncher()\r\n\t\t// \t} else {\r\n\t\t// \t\tthis.events.closeAutoLauncher()\r\n\t\t// \t}\r\n\t\t// }, [\"isShowAutoLancherPanel\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_Label_down_oneBet.string = `${value.cur.value} × ${config.linesQueueNum}`\r\n\t\t\tthis.propertyNode.props_Label_down_goldNum.string = (value.cur.value * config.linesQueueNum).formatAmountWithCommas()\r\n\t\t\tthis.events.changeBetAmount(value.cur.value * config.linesQueueNum, value.cur.positionId, value.cur.value)\r\n\t\t\tUseSetOption.Instance().setGameOption(\"fruit777\", { betTarget: value.cur })\r\n\t\t\tthis.setState({ \"isShowNoGlod\": this.props.balance < value.cur.value * config.linesQueueNum })\r\n\t\t\tthis.disableBetSwitch()\r\n\t\t\tgameBoardViewModel.currentGameViewModel && gameBoardViewModel.currentGameViewModel.comp.doJectpot && gameBoardViewModel.currentGameViewModel.comp.doJectpot()\r\n\t\t}, [\"baseBetAmountTarget\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_btn_down_betMax.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_auto.getComponent(Sprite).grayscale = value.cur\r\n\t\t\t!value.cur && this.disableBetSwitch()\r\n\t\t}, [\"disableBetSwitch\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_spr_nomoney.active = value.cur\r\n\t\t}, [\"isShowNoGlod\"])\r\n\t}\r\n\r\n\r\n\r\n\tpublic getPositionData() {\r\n\t\treturn this.state.baseBetAmountTarget\r\n\t}\r\n\r\n\tprivate disableBetSwitch() {\r\n\t\tconst target = this.getBetListByLevel()\r\n\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\tif (this.props.currGameType !== GameType.MAIN) {\r\n\t\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = true\r\n\t\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = true\r\n\t\t} else {\r\n\t\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = (index === target.length - 1)\r\n\t\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = (index === 0)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tprotected destroyCallBack() {\r\n\t\tthis.taskScheduler.destoryQueue()\r\n\t\t// fruit777WebSocketDriver.sktMsgListener.removeById(\"footer\")\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n"]}