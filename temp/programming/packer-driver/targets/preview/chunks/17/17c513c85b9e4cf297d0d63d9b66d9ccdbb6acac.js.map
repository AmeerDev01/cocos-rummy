{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/godWealthV2/components/GodWealthV2_DialogWin.ts"],"names":["_decorator","Label","Node","BaseComponent","StepNumber","DialogType","GameType","isAuto","getNodeByNameDeep","config","godWealthV2_Audio","SoundPathDefine","StepNumberV2","ccclass","property","GodWealthV2_DialogWin","stepNumberV2","propertyNode","props_bigWin","props_jackpot","props_megaWin","props_superWin","props_smallGame_win","props_free_spins","props_freeGame_win","props_baohe_box","props_baoHeGame_win","props","dialogInfo","gameTypeInfo","lastGameType","MAIN","currGameType","viewGameType","leftCount","autoLauncherInfo","events","onWindowCloseHandler","dialogType","start","initState","bindEvent","node","on","EventType","TOUCH_END","isFreeGameEntry","isBaoHeGameEntry","isFreeGameSettlement","isBaoHeGameSettlement","destroy","console","log","getChildByName","FREE_GAME_ENTRY","BAO_HE_GAME_ENTRY","FREE_GAME_SETTLEMENT","BAO_HE_GAME_SETTLEMENT","useProps","key","value","isValid","hideAll","cur","active","showFreeEntry","showBaoHeEntry","BIG_WIN","showBigWin","JACKPOT","showJackpot","MEGA_WIN","showMegaWin","SUPER_WIN","showSuperWin","showFreeSettlement","showBaoHeSettlement","labelNode","getComponent","string","params","detryCloseWindow","playOneShot","GET_COIN","numberLabel","startStepNumber","GAME1_OVER_BG","label","end","done","num","Number","toFixed","formatAmountWithCommas","set","normalRollOption","numberRollerTime","scheduleOnce","dialogWinShowTime","onDestroy","longStop","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Label, Node } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { global } from '../../../hall';\r\nimport { BuyType } from '../../../hall/components/Hall_ShopPanel';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { AutoLauncherInfo, DialogInfo, DialogType, GameType, GameTypeInfo, isAuto } from '../type';\r\nimport { getNodeByNameDeep } from '../../../utils/tool';\r\nimport config from '../config';\r\nimport { godWealthV2_Audio } from '../index';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nimport StepNumberV2 from '../../../utils/StepNumberV2';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tdialogInfo?: DialogInfo,\r\n\tgameTypeInfo?: GameTypeInfo,\r\n\t/** 自动运行信息 */\r\n\tautoLauncherInfo?: AutoLauncherInfo\r\n}\r\nexport interface IEvent {\r\n\tonWindowCloseHandler: (dialogType: DialogType) => void\r\n}\r\n\r\n@ccclass('GodWealthV2_DialogWin')\r\nexport class GodWealthV2_DialogWin extends BaseComponent<IState, IProps, IEvent> {\r\n\tprivate stepNumberV2: StepNumberV2 = new StepNumberV2(this);\r\n\r\n\tstart() {\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_bigWin: new Node(),\r\n\t\tprops_jackpot: new Node(),\r\n\t\tprops_megaWin: new Node(),\r\n\t\tprops_superWin: new Node(),\r\n\t\tprops_smallGame_win: new Node(),\r\n\t\tprops_free_spins: new Node(),\r\n\t\tprops_freeGame_win:new Node(),\r\n\t\tprops_baohe_box:new Node(),\r\n\t\tprops_baoHeGame_win:new Node(),\r\n\t\t\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tdialogInfo: null,\r\n\t\tgameTypeInfo: {\r\n\t\t\tlastGameType: GameType.MAIN,\r\n\t\t\tcurrGameType: GameType.MAIN,\r\n\t\t\tviewGameType: GameType.MAIN,\r\n\t\t\tleftCount: 0\r\n\t\t},\r\n\t\tautoLauncherInfo: null,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonWindowCloseHandler: (dialogType: DialogType) => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tif (this.isFreeGameEntry()|| this.isBaoHeGameEntry() || this.isFreeGameSettlement() || this.isBaoHeGameSettlement()) {\r\n\t\t\t\t\r\n\t\t\t\tthis.node.destroy();\r\n\t\t\t\tthis.events.onWindowCloseHandler(this.props.dialogInfo.dialogType);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"00000000 this.props.dialogInfo111111111\",this.props.dialogInfo);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.node.getChildByName('SpriteSplash').on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tif (this.isFreeGameEntry()|| this.isBaoHeGameEntry() || this.isFreeGameSettlement() || this.isBaoHeGameSettlement()) {\r\n\t\t\t\t\r\n\t\t\t\tthis.node.destroy();\r\n\t\t\t\tthis.events.onWindowCloseHandler(this.props.dialogInfo.dialogType);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"00000000 this.props.dialogInfo111111111\",this.props.dialogInfo);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tprivate isFreeGameEntry() {\r\n\t\treturn this.props.dialogInfo && this.props.dialogInfo.dialogType === DialogType.FREE_GAME_ENTRY ;\r\n\t}\r\n\r\n\tprivate isBaoHeGameEntry() {\r\n\t\treturn this.props.dialogInfo &&  this.props.dialogInfo.dialogType === DialogType.BAO_HE_GAME_ENTRY;\r\n\t}\r\n\r\n\tprivate isFreeGameSettlement() {\r\n\t\treturn this.props.dialogInfo && this.props.dialogInfo.dialogType === DialogType.FREE_GAME_SETTLEMENT ;\r\n\t}\r\n\r\n\tprivate isBaoHeGameSettlement() {\r\n\t\treturn this.props.dialogInfo && this.props.dialogInfo.dialogType === DialogType.BAO_HE_GAME_SETTLEMENT;\r\n\t}\r\n\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\r\n\t\t\tif (key === 'dialogInfo') {\r\n\t\t\t\tthis.hideAll();\r\n\t\t\t\t\r\n\t\t\t\tif (value.cur) {\r\n\t\t\t\t\tthis.node.active = true;\r\n\t\t\t\t\tif (this.props.dialogInfo.dialogType === DialogType.FREE_GAME_ENTRY) {\r\n\t\t\t\t\t\tthis.showFreeEntry();\r\n\t\t\t\t\t} else if (this.props.dialogInfo.dialogType === DialogType.BAO_HE_GAME_ENTRY) {\r\n\t\t\t\t\t\tthis.showBaoHeEntry();\r\n\t\t\t\t\t} else if (this.props.dialogInfo.dialogType === DialogType.BIG_WIN) {\r\n\t\t\t\t\t\tthis.showBigWin();\r\n\t\t\t\t\t} else if (this.props.dialogInfo.dialogType === DialogType.JACKPOT) {\r\n\t\t\t\t\t\tthis.showJackpot();\r\n\t\t\t\t\t} else if (this.props.dialogInfo.dialogType === DialogType.MEGA_WIN) {\r\n\t\t\t\t\t\tthis.showMegaWin();\r\n\t\t\t\t\t} else if (this.props.dialogInfo.dialogType === DialogType.SUPER_WIN) {\r\n\t\t\t\t\t\tthis.showSuperWin();\r\n\t\t\t\t\t} else if (this.props.dialogInfo.dialogType === DialogType.FREE_GAME_SETTLEMENT) {\r\n\t\t\t\t\t\tconsole.log(\"this.props.dialogInfo.dialogType\",this.props.dialogInfo.dialogType);\r\n\t\t\t\t\t\tthis.showFreeSettlement();\r\n\t\t\t\t\t}else if (this.props.dialogInfo.dialogType === DialogType.BAO_HE_GAME_SETTLEMENT) {\r\n\t\t\t\t\t\tthis.showBaoHeSettlement();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.node.active = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate hideAll() {\r\n\t\tfor (const key in this.propertyNode) {\r\n\t\t\tthis.propertyNode[key].active = false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate showFreeEntry() {\r\n\t\tthis.propertyNode.props_smallGame_win.active = true;\r\n\t\tthis.propertyNode.props_free_spins.active = true;\r\n\t\tconst labelNode = getNodeByNameDeep(\"Label_Number\", this.propertyNode.props_free_spins)\r\n\t\tlabelNode.getComponent(Label).string = this.props.dialogInfo.params[0];\r\n\t\t// 如果是自动模式，就等待关闭窗口\r\n\t\tconsole.log(this.props.gameTypeInfo,this.props.autoLauncherInfo);\r\n\t\t\r\n\t\t// console.log(\"isAuto\",isAuto(this.props.autoLauncherInfo,this.props.gameTypeInfo));\r\n\t\t\r\n\t\tif (isAuto(this.props.autoLauncherInfo,this.props.gameTypeInfo)) {\r\n\t\t\tthis.detryCloseWindow();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tprivate showBaoHeEntry() {\r\n\t\tthis.propertyNode.props_smallGame_win.active = true;\r\n\t\tthis.propertyNode.props_baohe_box.active = true;\r\n\r\n\t\t// 如果是自动模式，就等待关闭窗口\r\n\t\tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\tthis.detryCloseWindow();\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\tprivate showBigWin() {\r\n\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.GET_COIN);\r\n\t\tthis.propertyNode.props_bigWin.active = true;\r\n\t\tconst numberLabel = getNodeByNameDeep(\"number\", this.propertyNode.props_bigWin)\r\n\t\tthis.startStepNumber(numberLabel.getComponent(Label), 0, this.props.dialogInfo.params[0], () => {\r\n\t\t\tthis.detryCloseWindow();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate showJackpot() {\r\n\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.GET_COIN);\r\n\t\tthis.propertyNode.props_jackpot.active = true;\r\n\t\tconst numberLabel = getNodeByNameDeep(\"number\", this.propertyNode.props_jackpot)\r\n\t\tthis.startStepNumber(numberLabel.getComponent(Label), 0, this.props.dialogInfo.params[0], () => {\r\n\t\t\tthis.detryCloseWindow();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate showMegaWin() {\r\n\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.GET_COIN);\r\n\t\tthis.propertyNode.props_megaWin.active = true;\r\n\t\tconst numberLabel = getNodeByNameDeep(\"number\", this.propertyNode.props_megaWin)\r\n\t\tthis.startStepNumber(numberLabel.getComponent(Label), 0, this.props.dialogInfo.params[0], () => {\r\n\t\t\tthis.detryCloseWindow();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate showSuperWin() {\r\n\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.GET_COIN);\r\n\t\tthis.propertyNode.props_superWin.active = true;\r\n\t\tconst numberLabel = getNodeByNameDeep(\"number\", this.propertyNode.props_superWin)\r\n\t\tthis.startStepNumber(numberLabel.getComponent(Label), 0, this.props.dialogInfo.params[0], () => {\r\n\t\t\tthis.detryCloseWindow();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate showFreeSettlement() {\r\n\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.GAME1_OVER_BG)\r\n\t\tthis.propertyNode.props_smallGame_win.active = true;\r\n\t\tthis.propertyNode.props_freeGame_win.active = true;\r\n\t\tconst numberLabel = getNodeByNameDeep(\"Label_Number\", this.propertyNode.props_freeGame_win)\r\n\r\n\t\tthis.startStepNumber(numberLabel.getComponent(Label), 0, this.props.dialogInfo.params[0], () => {\r\n\t\t\t// 如果是自动模式，就等待关闭窗口\r\n\t\t\tif (this.node && this.node.isValid && isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t\tthis.detryCloseWindow();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\t\r\n\tprivate showBaoHeSettlement() {\r\n\t\tgodWealthV2_Audio.playOneShot(SoundPathDefine.GAME1_OVER_BG)\r\n\r\n\t\tthis.propertyNode.props_smallGame_win.active = true;\r\n\t\tthis.propertyNode.props_baoHeGame_win.active = true;\r\n\r\n\t\tconst numberLabel = getNodeByNameDeep(\"Label_Number\", this.propertyNode.props_baoHeGame_win)\r\n\t\tthis.startStepNumber(numberLabel.getComponent(Label), 0, this.props.dialogInfo.params[0], () => {\r\n\t\t\t// 如果是自动模式，就等待关闭窗口\r\n\t\t\tif (this.node && this.node.isValid && isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t\tthis.detryCloseWindow();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate startStepNumber(label: Label, start, end, done) {\r\n\t\tnew StepNumber(start, end, (num) => {\r\n\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\tlabel.string = Number(num.toFixed(0)).formatAmountWithCommas();\r\n\t\t\t}\r\n\t\t}, () => this.node && this.node.isValid && done()).set(config.normalRollOption.numberRollerTime).start();\r\n\t}\r\n\r\n\tprivate detryCloseWindow() {\r\n\t\tthis.scheduleOnce(() => {\r\n\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\tthis.node.destroy();\r\n\t\t\t\tthis.events.onWindowCloseHandler(this.props.dialogInfo.dialogType);\r\n\t\t\t}\r\n\t\t}, config.normalRollOption.dialogWinShowTime)\r\n\t}\r\n\r\n\tprotected onDestroy(): void {\r\n\t\tgodWealthV2_Audio.longStop();\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}