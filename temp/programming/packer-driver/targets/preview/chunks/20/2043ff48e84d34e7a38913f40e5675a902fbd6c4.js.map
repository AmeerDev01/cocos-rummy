{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/thorV2/components/ThorV2_AuthLauncher.ts"],"names":["_decorator","Node","Toggle","BaseComponent","AutoLauncherType","getAutoCount","isLimit","setAutoLauncherInfo","ccclass","property","ThorV2_AuthLauncher","autoType","TIME_10","propertyNode","props_btn_confirm","props_btn_off","props_btn_auto","props","buyAmount","events","onClose","onSendBet","start","initState","bindEvent","on","EventType","TOUCH_END","count","dispatch","autoLauncherType","totalCount","leftCount","children","forEach","v","TOGGLE","e","isChecked","node","name","useProps","key","value","isValid","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAClBC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,gB,iBAAAA,gB;AAAkBC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,O,iBAAAA,O;;AAChCC,MAAAA,mB,iBAAAA,mB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;qCAcjBU,mB,WADZF,OAAO,CAAC,qBAAD,C,gBAAR,MACaE,mBADb;AAAA;AAAA,0CAC+E;AAAA;AAAA;AAAA,eAKtEC,QALsE,GAKzC;AAAA;AAAA,oDAAiBC,OALwB;AAAA,eAOpEC,YAPoE,GAOrD;AACxBC,YAAAA,iBAAiB,EAAE,IAAIb,IAAJ,EADK;AAExBc,YAAAA,aAAa,EAAE,IAAId,IAAJ,EAFS;AAGxBe,YAAAA,cAAc,EAAE,IAAIf,IAAJ;AAHQ,WAPqD;AAAA,eAavEgB,KAbuE,GAavD;AACtBC,YAAAA,SAAS,EAAE;AADW,WAbuD;AAAA,eAiBvEC,MAjBuE,GAiBtD;AACvBC,YAAAA,OAAO,EAAE,MAAM,CAAG,CADK;AAEvBC,YAAAA,SAAS,EAAE,MAAM,CAAG;AAFG,WAjBsD;AAAA;;AAC9EC,QAAAA,KAAK,GAAG,CAEP;;AAmBSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AACA;;AAESC,QAAAA,SAAS,GAAS;AAC3B,eAAKX,YAAL,CAAkBE,aAAlB,CAAgCU,EAAhC,CAAmCxB,IAAI,CAACyB,SAAL,CAAeC,SAAlD,EAA6D,MAAM;AAClE,iBAAKR,MAAL,CAAYC,OAAZ;AACA,WAFD;AAGA,eAAKP,YAAL,CAAkBC,iBAAlB,CAAoCW,EAApC,CAAuCxB,IAAI,CAACyB,SAAL,CAAeC,SAAtD,EAAiE,MAAM;AACtE,gBAAMC,KAAK,GAAG;AAAA;AAAA,8CAAa,KAAKjB,QAAlB,CAAd;AACA,iBAAKkB,QAAL,CAAc;AAAA;AAAA,4DAAoB;AACjCC,cAAAA,gBAAgB,EAAE,KAAKnB,QADU;AAEjCoB,cAAAA,UAAU,EAAEH,KAFqB;AAGjCI,cAAAA,SAAS,EAAE;AAAA;AAAA,sCAAQ,KAAKrB,QAAb,IAAyB,CAAzB,GAA6BiB,KAAK,GAAG;AAHf,aAApB,CAAd,EAFsE,CAOtE;AACA;;AACA,iBAAKT,MAAL,CAAYE,SAAZ;AACA,iBAAKF,MAAL,CAAYC,OAAZ;AACA,WAXD;AAYA,eAAKP,YAAL,CAAkBG,cAAlB,CAAiCiB,QAAjC,CAA0CC,OAA1C,CAAkDC,CAAC,IAAI;AACtDA,YAAAA,CAAC,CAACV,EAAF,CAAKvB,MAAM,CAACwB,SAAP,CAAiBU,MAAtB,EAA+BC,CAAD,IAAe;AAC5C,kBAAIA,CAAC,CAACC,SAAN,EAAiB;AAChB,qBAAK3B,QAAL,GAAgB0B,CAAC,CAACE,IAAF,CAAOC,IAAvB;AACA;AACD,aAJD;AAKA,WAND;AAOA;;AAESC,QAAAA,QAAQ,CAACC,GAAD,EAAiCC,KAAjC,EAAgE;AACjF,cAAI,KAAKJ,IAAL,IAAa,KAAKA,IAAL,CAAUK,OAA3B,EAAoC,CACnC;AACD;;AAESC,QAAAA,MAAM,GAAS,CACxB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA7D6E,O","sourcesContent":["import { _decorator, Node, Toggle } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { AutoLauncherType, getAutoCount, isLimit } from '../type';\r\nimport { setAutoLauncherInfo } from '../store/actions/game';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n}\r\nexport interface IEvent {\r\n\tonClose: () => void,\r\n\tonSendBet: () => void,\r\n}\r\n\r\n@ccclass('ThorV2_AuthLauncher')\r\nexport class ThorV2_AuthLauncher extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprivate autoType: AutoLauncherType = AutoLauncherType.TIME_10;\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_btn_confirm: new Node(),\r\n\t\tprops_btn_off: new Node(),\r\n\t\tprops_btn_auto: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tbuyAmount: 0,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonClose: () => { },\r\n\t\tonSendBet: () => { },\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_off.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.onClose();\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_confirm.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tconst count = getAutoCount(this.autoType);\r\n\t\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t\tautoLauncherType: this.autoType,\r\n\t\t\t\ttotalCount: count,\r\n\t\t\t\tleftCount: isLimit(this.autoType) ? 1 : count - 1,\r\n\t\t\t}))\r\n\t\t\t// egyptv2_Audio.playOneShot(SoundPathDefine.biu)\r\n\t\t\t// this.dispatch(setBetDropDownList(false));\r\n\t\t\tthis.events.onSendBet();\r\n\t\t\tthis.events.onClose();\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_auto.children.forEach(v => {\r\n\t\t\tv.on(Toggle.EventType.TOGGLE, (e: Toggle) => {\r\n\t\t\t\tif (e.isChecked) {\r\n\t\t\t\t\tthis.autoType = e.node.name as AutoLauncherType;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps | '_setDone', value: { pre: any, cur: any }) {\r\n\t\tif (this.node && this.node.isValid) {\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}