{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandarQiuQiu/components/BandarQiuQiu_footer.ts"],"names":["_decorator","Label","Node","sp","Sprite","Toggle","tween","Vec3","BaseComponent","config","initBetData","changeSelectChipAction","setMemberBetAction","getNodeByNameDeep","getUUID","initToggle","omitStr","playBtnClick","playChooseChip","sourceManageSelector","betAreaViewModel","SKT_MAG_TYPE","sktInstance","gameCacheData","GameStatus","global","lang","addToastAction","ccclass","property","BandarQiuQiu_footer","repeatArr","newLastArr","propertyNode","props_layout_lock","props_btn_auto","props_animation_auto","props_ToggleGroup","props_user_avatar","props_label_user_goldNum","props_label_gold_up","props_btn_add","props_btn_shop","props_skeleton_win","props_label_users_num","props_tips_vip","props_tips_gold","props_label_userName","props_remind_noBet","props_remind_repeat","props","gold","gameStatus","myInfo","onlineNum","tips","events","start","initState","bindEvent","on","EventType","TOUCH_END","repeatBet","openShop","node","EventHandler","useProps","key","value","judgeCoin","cur","updateLockBetState","undefined","getComponent","string","parseInt","formatAmountWithCommas","comp","lastArr","memberName","loadHeadSprite","icon","length","updateTipsShow","active","STOP_BET","clearCacheData","channelToggleCallback","event","customEventData","toggleArr","target","children","i","isChecked","num","chipTypes","dispatch","forEach","item","Label_chips","amountNum","charAt","String","Number","substring","getChildByName","grayscale","font","getFile","fontUrl","source","interactable","getFontSpriteFrame","isBetStatus","BET","clearRepeatBet","delay","call","total","type1Total","type2Total","type3Total","type4Total","type5Total","type6Total","type7Total","type8Total","type9Total","betType","betData1","typeTotal","type","betId","betData2","betData3","betData4","betData5","betData6","betData7","betData8","betData9","lastBetArr","chips","splitChip","chip","sendBet","roomId","memberId","isMe","sendSktMessage","BET_ALL","betData","index","isMyBet","flyChip","hallDispatch","content","write","k","palyingModule","RechangeGlod","placeStr","totalBetAmount","element","push","palyAddUp","betInfo","formatAmountWithLetter","startPosition","position","x","y","by","scheduleOnce","setPosition","playWinAni","Skeleton","animation","isLockBet","updateTipsValue","name","toLowerCase","getSpriteFrame","result","fileName","fileUrl","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Label, Node, sp, Sprite, SpriteFrame, Toggle, tween, Vec3 } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport config, { initBetData } from '../config';\r\nimport { changeSelectChipAction, setMemberBetAction } from '../store/actions/bet';\r\nimport { getNodeByNameDeep, getNodePositionInCanvas, getUUID, initToggle, omitStr } from '../../../utils/tool';\r\nimport { playBtnClick, playChooseChip, sourceManageSelector } from '../index';\r\nimport { betAreaViewModel } from '../viewModel/BandarQiuQiuGameBoardViewModel';\r\nimport { SKT_MAG_TYPE, sktInstance } from '../socketConnect';\r\nimport { gameCacheData, GameStatus, HeadType, SendBet, TipsVo } from '../type';\r\nimport { global, lang } from '../../../hall';\r\nimport { addToastAction } from '../../../hall/store/actions/baseBoard';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\t/**用户金币 */\r\n\tgold:number,\r\n\tgameStatus:GameStatus,\r\n\tmyInfo: HeadType,\r\n\tonlineNum: number,\r\n\ttips:TipsVo[]\r\n}\r\nexport interface IEvent {\r\n\r\n}\r\n\r\n@ccclass('BandarQiuQiu_footer')\r\nexport class BandarQiuQiu_footer extends BaseComponent<IState, IProps, IEvent> {\r\n\tprivate repeatArr:SendBet[]=[];\r\n\tpublic newLastArr:SendBet[]=[];\r\n\t// public isRepeat:boolean=true;\r\n\r\n\tstart() {\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\t/**金币不足弹框提示 */\r\n\t\tprops_layout_lock: new Node(),\r\n\t\t/** 重复下注按钮 */\r\n\t\tprops_btn_auto: new Node(),\r\n\t\t/**重复按钮动画 */\r\n\t\tprops_animation_auto: new Node(),\r\n\t\t/**金币组 */\r\n\t\tprops_ToggleGroup: new Node(),\r\n\t\t/**用户头像 */\r\n\t\tprops_user_avatar: new Node(),\r\n\t\tprops_label_user_goldNum: new Node(),\r\n\t\tprops_label_gold_up: new Node(),\r\n\t\tprops_btn_add: new Node(),\r\n\t\tprops_btn_shop: new Node(),\r\n\t\tprops_skeleton_win: new Node(),\r\n\t\tprops_label_users_num: new Label(),\r\n\t\tprops_tips_vip: new Node(),\r\n\t\tprops_tips_gold:new Node(),\r\n\t\t\r\n\t\tprops_label_userName: new Label(),\r\n\t\tprops_remind_noBet: new Node(),\r\n\t\tprops_remind_repeat:new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tgold:null,\r\n\t\tgameStatus:null,\r\n\t\tmyInfo: null,\r\n\t\tonlineNum: null,\r\n\t\ttips:null,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_auto.on(Node.EventType.TOUCH_END,()=>{\r\n\t\t\tplayBtnClick()\r\n             this.repeatBet()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_add.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\tglobal.openShop()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_shop.on(Node.EventType.TOUCH_END,()=>{\r\n\t\t\tplayBtnClick()\r\n\t\t\tglobal.openShop()\r\n\t\t})\r\n\r\n\t\tinitToggle( this.propertyNode.props_ToggleGroup,this.node,new BandarQiuQiu_footer.EventHandler(),\"BandarQiuQiu_footer\",\"channelToggleCallback\" );\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"gold\") {\r\n\t\t\tthis.judgeCoin(value.cur);\r\n\t\t\tthis.updateLockBetState();\r\n\t\t\t// this.propertyNode.props_layout_lock.active = value.cur <= 5000 || value.cur === undefined;\r\n\t\t\tif( value.cur <= 0 || value.cur == undefined){\r\n\t\t\t\tthis.propertyNode.props_label_user_goldNum.getComponent(Label).string = \"0\";\r\n\t\t\t}else{\r\n\t\t\t\tthis.propertyNode.props_label_user_goldNum.getComponent(Label).string = parseInt(value.cur).formatAmountWithCommas();\r\n\t\t\t}\r\n\t\t\tthis.repeatArr = betAreaViewModel.comp.lastArr;\r\n\r\n\t\t}\r\n\t\tif (key === \"myInfo\") {\r\n\t\t\tthis.propertyNode.props_label_userName.string = omitStr(value.cur.memberName + \"\", 12);\r\n\t\t\tglobal.loadHeadSprite(value.cur.icon,this.propertyNode.props_user_avatar.getComponent(Sprite));//加载头像\r\n\t\t}\r\n\r\n\t\tif(key===\"onlineNum\"){\r\n\t\t\tthis.propertyNode.props_label_users_num.string = value.cur + \"\";\r\n\t\t}\r\n\t\tif (key === 'tips') {\r\n\t\t\tif (value.cur && value.cur.length > 0) {\r\n\t\t\t\t// this.updateLockBetState();\r\n\t\t\t\tthis.updateTipsShow();\r\n\t\t\t}else {\r\n\t\t\t\tthis.propertyNode.props_layout_lock.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(key === \"gameStatus\"){\r\n\t\t\tif(value.cur === GameStatus.STOP_BET){\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthis.newLastArr = [];\r\n\t\t\t\tthis.judgeCoin(this.props.gold);\r\n\t\t\t\tthis.updateLockBetState();\r\n\t\t\t\tthis.clearCacheData()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**Toggle选中金币的回调 效果切换*/ \r\n\tprotected channelToggleCallback(event: Event, customEventData: string) {\r\n\t\tplayChooseChip()\r\n\t\tconst toggleArr: Node[] = event.target[\"parent\"].children;\r\n\t\tfor (let i = 0; i < toggleArr.length; i++) {       \r\n\t\t\tif (toggleArr[i].getComponent(Toggle).isChecked) {\r\n\t\t\t\tlet num=config.chipTypes[i].value;\r\n\t\t\t\tthis.dispatch(changeSelectChipAction(num));//更新选中的金币值\r\n\t\t\t\ttoggleArr[i].children[0].active = false;\r\n\t\t\t\ttoggleArr[i].children[1].active = true;\r\n\t\t\t} else {\r\n\t\t\t\ttoggleArr[i].children[0].active = true;\r\n\t\t\t\ttoggleArr[i].children[1].active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**金币不足*/\r\n\tprotected judgeCoin(gold){\r\n\t\t// 当用户的金币值小于下注的金币值时，下注金币呈现灰度，不可点击\r\n\t\tthis.propertyNode.props_ToggleGroup.children.forEach(item=>{\r\n\t\t\tlet Label_chips = getNodeByNameDeep(\"Label_chips\", item).getComponent(Label);\r\n\t\t\tlet amountNum: string = Label_chips.string;\r\n\t\t\tif(amountNum.charAt(amountNum.length-1)==\"K\"){   \r\n\t\t\t\tamountNum = String(Number(amountNum.substring(0, amountNum.length - 1)) * 1000);\r\n\t\t\t}else if(amountNum.charAt(amountNum.length-1)==\"M\"){\r\n\t\t\t\tamountNum = String(Number(amountNum.substring(0, amountNum.length - 1)) * 1000000);\r\n\t\t\t}\r\n\t\t\tif(gold<Number(amountNum) ){\r\n\t\t\t\titem.getChildByName(\"spr_chips\").getComponent(Sprite).grayscale=true;\r\n\t\t\t\tLabel_chips.font=sourceManageSelector().getFile(config.chipTypes[6].fontUrl).source\r\n\t\t\t\titem.getComponent(Toggle).interactable=false;\r\n\t\t\t\t// item.getComponent(Toggle).isChecked=false;\r\n\t\t\t\titem.children[0].active=true;\r\n\t\t\t\titem.children[1].active=false;\r\n\t\t\t}else{\r\n\t\t\t\titem.getChildByName(\"spr_chips\").getComponent(Sprite).grayscale=false;\r\n\t\t\t\titem.getComponent(Toggle).interactable=true;\r\n\r\n\t\t\t\tlet font=this.getFontSpriteFrame(Number(amountNum))\r\n\r\n\t\t\t\tLabel_chips.font=font          \r\n\t\t\t\titem.getComponent(Toggle).isChecked=false;\r\n\t\t\t\t// 默认选中上一局最后下注的金币\r\n\t\t\t\tif(item.getComponent(Toggle).isChecked){\r\n\t\t\t\t\titem.children[0].active=false;\r\n\t\t\t\t\titem.children[1].active=true;\r\n\t\t\t\t}\r\n\t\t\t}  \r\n\t\t})\r\n\t\r\n\t\r\n\t}\r\n\t\t\r\n\tprivate isBetStatus(): boolean {\r\n\t\t// console.log(\"footer  this.props.gameStatus\",this.props.gameStatus);\r\n\t\t\r\n\t\treturn this.props.gameStatus === GameStatus.BET;\r\n\t}\r\n\r\n\t/**重复下注按钮*/ \r\n\tprotected repeatBet() { \r\n\t\tthis.clearRepeatBet();\r\n\t\t\t\r\n\t\tif (!this.isBetStatus()) {\r\n\t\t\tif (!this.propertyNode && !this.propertyNode.props_remind_noBet) { return };\r\n\t\t\tthis.propertyNode.props_remind_noBet.active = true;\r\n\t\t\ttween(this.propertyNode.props_remind_noBet)\r\n\t\t\t.delay(2)\r\n\t\t\t.call(() => { \r\n\t\t\t\tthis.propertyNode.props_remind_noBet.active  = false;\r\n\t\t\t})\r\n\t\t\t.start()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.props.tips && this.props.tips.length > 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.repeatArr = betAreaViewModel.comp.lastArr;\r\n\t\tif (this.repeatArr.length === 0) {\r\n\t\t\tif (!this.propertyNode && !this.propertyNode.props_remind_repeat) { return };\r\n\t\t\tthis.propertyNode.props_remind_repeat.active = true;\r\n\t\t\ttween(this.propertyNode.props_remind_repeat)\r\n\t\t\t.delay(2)\r\n\t\t\t.call(() => { \r\n\t\t\t\tthis.propertyNode.props_remind_repeat.active  = false;\r\n\t\t\t})\r\n\t\t\t.start()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet total: number = 0;\r\n\t\tlet type1Total: number = 0;\r\n\t\tlet type2Total: number = 0;\r\n\t\tlet type3Total: number = 0;\r\n\t\tlet type4Total: number = 0;\r\n\t\tlet type5Total: number = 0;\r\n\t\tlet type6Total: number = 0;\r\n\t\tlet type7Total: number = 0;\r\n\t\tlet type8Total: number = 0;\r\n\t\tlet type9Total: number = 0;\r\n\t\tfor (var i = 0; i < this.repeatArr.length; i++) { \r\n\t\t\ttotal += this.repeatArr[i].gold;\r\n\t\t\t\r\n\t\t\tif (this.repeatArr[i].betType === 1) {\r\n\t\t\t\ttype1Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 2) {\r\n\t\t\t\ttype2Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 3) {\r\n\t\t\t\ttype3Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 4) {\r\n\t\t\t\ttype4Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 5) {\r\n\t\t\t\ttype5Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 6) {\r\n\t\t\t\ttype6Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 7) {\r\n\t\t\t\ttype7Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 8) {\r\n\t\t\t\ttype8Total += this.repeatArr[i].gold;\r\n\t\t\t}else if (this.repeatArr[i].betType === 9) {\r\n\t\t\t\ttype9Total += this.repeatArr[i].gold;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet betData1 = { typeTotal: type1Total, type: 1, betId:\"\" };\r\n\t\tlet betData2 = { typeTotal: type2Total, type: 2, betId:\"\" };\r\n\t\tlet betData3 = { typeTotal: type3Total, type: 3, betId:\"\" };\r\n\t\tlet betData4 = { typeTotal: type4Total, type: 4, betId: \"\" };\r\n\t\tlet betData5 = { typeTotal: type5Total, type: 5, betId:\"\" };\r\n\t\tlet betData6 = { typeTotal: type6Total, type: 6, betId:\"\" };\r\n\t\tlet betData7 = { typeTotal: type7Total, type: 7, betId:\"\" };\r\n\t\tlet betData8 = { typeTotal: type8Total, type: 8, betId: \"\" };\r\n\t\tlet betData9 = { typeTotal: type9Total, type: 9, betId:\"\" };\r\n\t\t\r\n\t\tlet lastBetArr = [betData1,betData2,betData3,betData4,betData5,betData6,betData7,betData8,betData9];\r\n        \r\n\t\tif(this.props.gold >= total){//只有用户总金额大于所有重复下注的金币额之和 才可以下注\r\n\t\t\tfor (let i = 0; i < lastBetArr.length; i++){\t\r\n\t\t\t\tlastBetArr[i].betId = getUUID();\r\n\r\n\t\t\t\tconst chips: number[] = [];\r\n\t\t\t\tthis.splitChip(lastBetArr[i].typeTotal, chips);\r\n\r\n\t\t\t\tchips.forEach(chip => {\r\n\t\t\t\t\tconst sendBet: SendBet = {\r\n\t\t\t\t\t\troomId: gameCacheData.roomId,\r\n\t\t\t\t\t\tmemberId: this.props.myInfo.memberId,\r\n\t\t\t\t\t\tmemberName: this.props.myInfo.memberName,\r\n\t\t\t\t\t\tgold: chip,\r\n\t\t\t\t\t\tbetType: lastBetArr[i].type,\r\n\t\t\t\t\t\tisMe: true,\r\n\t\t\t\t\t\tbetId: lastBetArr[i].betId,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsktInstance.sendSktMessage(SKT_MAG_TYPE.BET_ALL, sendBet)\r\n\t\t\t\t\tconst betData = initBetData(this.props.myInfo.index, this.props.myInfo.memberId, lastBetArr[i].type, chip);\r\n\t\t\t\t\tbetData.isMyBet = true;\r\n\t\t\t\t\tbetAreaViewModel.comp.flyChip(betData);\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t// betAreaViewModel.comp.amountArr.push(...betAreaViewModel.comp.lastArr)\r\n\t\t\t\t\r\n\t\t}else{//禁止下注\r\n\t\t\t// 提示用户余额不足\r\n\t\t\tglobal.hallDispatch(addToastAction({ content: lang.write(k => k.palyingModule.RechangeGlod, {}, { placeStr: \"对不起，您的金币不足，请充值!\" }) }))\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t/**\r\n   * 根据下注拆分筹码\r\n   * @param totalBetAmount \r\n   */\r\n\tprivate splitChip(totalBetAmount: number, chips: number[]) {\r\n\t\tif (totalBetAmount < config.chipTypes[0].value) {\r\n\t\t  return;\r\n\t\t}\r\n\t\tfor (let i = config.chipTypes.length - 2; i >= 0; i--) {\r\n\t\t\tconst element = config.chipTypes[i];\r\n\r\n\t\t\tif (totalBetAmount >= element.value) {\r\n\r\n\t\t\tchips.push(element.value);\r\n\t\t\ttotalBetAmount -= element.value;\r\n\t\t\tbreak;\r\n\t\t  }\r\n\t\t}\r\n\t\tthis.splitChip(totalBetAmount, chips);\r\n\t}\r\n\r\n\t\t\r\n\t/**清除重复下注按钮的数据*/ \r\n\tprotected clearRepeatBet() {\r\n\t\tthis.repeatArr = [];\r\n\t}\r\n\t/**清除缓存 */\r\n\tprivate clearCacheData() {\r\n\t\tthis.dispatch(setMemberBetAction(null));\r\n\t\t\r\n\t}\r\n\r\n\tpublic palyAddUp(betInfo){\r\n\t\tlet node=this.propertyNode.props_label_gold_up\r\n\t\tnode.getComponent(Label).string=\"+\"+betInfo.gold.formatAmountWithLetter()\r\n\t\tconst startPosition = new Vec3(node.position.x, node.position.y);\r\n\t\tnode.active=true;\r\n\t\ttween(node).by(1, { position: new Vec3(0, 30) }).call(() => {\r\n\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\tnode.active = false;\r\n\t\t\t\tnode.setPosition(startPosition);\r\n\t\t\t}, 0.5);\r\n\t\t}).start();\r\n\t}\r\n\t\r\n\t/** 播放其他玩家赢 动画 */\r\n\tpublic playWinAni(){\r\n\t\t// console.log(\"playWinAni\");\r\n\t\t\r\n\t\tthis.propertyNode.props_skeleton_win.active=true;\r\n\t\tthis.propertyNode.props_skeleton_win.getComponent(sp.Skeleton).animation=\"animation\";\r\n\t}\r\n\r\n\t/**更新锁定下注区域状态 */\r\n\tprivate updateLockBetState() { \r\n\t\t// 是否锁定下注  金币不足5千时出现充值弹框\r\n\t\t\tlet isLockBet = this.props.gold <= 5000 || this.props.gold == undefined || this.props.gold == 0;\r\n\t\t\tif (this.props.tips && this.props.tips.length > 0) {\r\n\t\t\t\tisLockBet = true;\r\n\t\t\t} else {\r\n\t\t\t\tisLockBet = false;\r\n\t\t\t}\r\n\t\t\tif (isLockBet) {\r\n\t\t\t\tthis.updateTipsValue(this.propertyNode.props_tips_gold, String(5000));\r\n\t\t\t\tthis.updateTipsShow();\r\n\t\r\n\t\t\t} \r\n\t\t\tthis.propertyNode.props_layout_lock.active = isLockBet;\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tprivate updateTipsShow() {\r\n\t\t\tthis.propertyNode.props_tips_vip.active = false;\r\n\t\t\tthis.propertyNode.props_tips_gold.active = false;\r\n\t\r\n\t\t\tif (this.props.tips && this.props.tips.length > 0) {\r\n\t\t\t\tconst tips = this.props.tips[0]\r\n\t\t\t\tlet node;\r\n\t\t\t\tif ('vip' === tips.name.toLowerCase()) {\r\n\t\t\t\t\tnode = this.propertyNode.props_tips_vip;\r\n\t\t\t\t} else if ('gold' === tips.name.toLowerCase()) {\r\n\t\t\t\t\tnode = this.propertyNode.props_tips_gold;\r\n\t\t\t\t}else if ('level' === tips.name.toLowerCase()) {\r\n\t\t\t\t\tnode = this.propertyNode.props_tips_vip;\r\n\t\t\t\t} \r\n\t\t\t\tnode && this.updateTipsValue(node, tips.num);\r\n\t\t\t}\r\n\t\r\n\t\t} \r\n\t  \r\n\t\tprivate updateTipsValue(node: Node, num: string) {\r\n\t\t\tnode.active = true;\r\n\t\t\tnode.getChildByName('Label_lock_num').getComponent(Label).string = Number(num).formatAmountWithCommas();\r\n\t\t\tthis.propertyNode.props_layout_lock.active = true;\r\n\t\t}\r\n\r\n\tprivate getSpriteFrame(result:number): SpriteFrame {\r\n\t\t\tlet fileName = '';\r\n\t\t\tif (result === 0) {\r\n\t\t\t\tfileName = config.chipTypes[0].fileUrl;\r\n\t\t\t}else if (result === 1) {\r\n\t\t\t\tfileName = config.chipTypes[1].fileUrl;\r\n\t\t\t} else if (result === 2) {\r\n\t\t\t\tfileName = config.chipTypes[2].fileUrl;\r\n\t\t\t}else if (result === 3) {\r\n\t\t\t\tfileName = config.chipTypes[3].fileUrl;\r\n\t\t\t} else if (result === 4) {\r\n\t\t\t\tfileName = config.chipTypes[4].fileUrl;\r\n\t\t\t} else if (result === 5) {\r\n\t\t\t\tfileName = config.chipTypes[5].fileUrl;\r\n\t\t\t} else if (result === 6) {\r\n\t\t\t\tfileName = config.chipTypes[6].fileUrl;\r\n\t\t\t} \r\n\t\t\treturn sourceManageSelector().getFile(fileName).source;\r\n\t}\r\n\r\n\tprivate getFontSpriteFrame(result: number): SpriteFrame {\r\n\t\tlet fileName = '';\r\n\t\tif (result === 1000) {\r\n\t\t\tfileName = config.chipTypes[0].fontUrl;\r\n\t\t}else if (result === 2000) {\r\n\t\t\tfileName = config.chipTypes[1].fontUrl;\r\n\t\t} else if (result === 5000) {\r\n\t\t\tfileName = config.chipTypes[2].fontUrl;\r\n\t\t}else if (result === 10000) {\r\n\t\t\tfileName = config.chipTypes[3].fontUrl;\r\n\t\t} else if (result === 20000) {\r\n\t\t\tfileName = config.chipTypes[4].fontUrl;\r\n\t\t} else if (result === 50000) {\r\n\t\t\tfileName = config.chipTypes[5].fontUrl;\r\n\t\t} else if (result === 0) {\r\n\t\t\tfileName = config.chipTypes[6].fontUrl;\r\n\t\t} \r\n\t\treturn sourceManageSelector().getFile(fileName).source;\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tthis.propertyNode.props_skeleton_win.active = false;\r\n\t\tthis.propertyNode.props_layout_lock.active = false;\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}