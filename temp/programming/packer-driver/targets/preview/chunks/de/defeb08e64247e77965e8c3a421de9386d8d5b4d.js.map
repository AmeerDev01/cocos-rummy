{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dragon/Slot/Component/BaseComponent.ts"],"names":["_decorator","Component","Facade","ProxyDefine","ccclass","property","BaseComponent","root","facade","Instance","_nodes","_init","dealChilds","node","children","i","length","child","name","onLoad","bindUI","bindEvent","start","update","deltaTime","getRollProxy","retrieveProxy","SLOT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AAEdC,MAAAA,M;;AAEEC,MAAAA,W,iBAAAA,W;;;;;;;;;OAHH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;yBAMAM,a,WAD7BF,OAAO,CAAC,eAAD,C,gBAAR,MAC8BE,aAD9B,SACoDL,SADpD,CAC8D;AAAA;AAAA;AAAA,eACnDM,IADmD;AAAA,eAEhDC,MAFgD,GAEvC;AAAA;AAAA,gCAAOC,QAFgC;;AAK1D;AAL0D,eAMhDC,MANgD,GAMnC,EANmC;AAAA;AAG1D;;;AAKUC,QAAAA,KAAK,GAAS;AACpB,cAAIC,UAAU,GAAIC,IAAD,IAAgB;AAC7B,gBAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACE,MAA7B,EAAqC,EAAED,CAAvC,EAA0C;AACtC,kBAAIE,KAAK,GAAGH,QAAQ,CAACC,CAAD,CAApB;AACA,mBAAKL,MAAL,CAAYO,KAAK,CAACC,IAAlB,IAA0BD,KAA1B;AACAL,cAAAA,UAAU,CAACK,KAAD,CAAV;AACH;AACJ,WAPD;;AAQAL,UAAAA,UAAU,CAAC,KAAKC,IAAN,CAAV;AACH;;AACDM,QAAAA,MAAM,GAAG;AACL,eAAKZ,IAAL,GAAY,KAAKM,IAAjB;;AACA,eAAKF,KAAL;;AACA,eAAKS,MAAL;AACA,eAAKC,SAAL;AACH;;AACDC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEMC,QAAAA,YAAY,GAAG;AAClB,iBAAkB,KAAKjB,MAAL,CAAYkB,aAAZ,CAA0B;AAAA;AAAA,0CAAYC,IAAtC,CAAlB;AACH;;AAnCyD,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport Facade from \"../../Framework/care/Facade\";\r\nimport { SlotProxy } from '../Proxy/SlotProxy';\r\nimport { ProxyDefine } from '../Const/ProxyDefine';\r\n\r\n@ccclass('BaseComponent')\r\nexport default abstract class BaseComponent extends Component {\r\n    public root: Node;\r\n    protected facade = Facade.Instance\r\n    /**只做页面的初始化 */\r\n    protected abstract bindUI(): void\r\n    /**完成效果级别的事件绑定，只完成效果，不处理数据 */\r\n    protected _nodes: {} = {};\r\n    protected abstract bindEvent(): void\r\n    protected _init(): void {\r\n        let dealChilds = (node: Node) => {\r\n            let children = node.children;\r\n            for (let i = 0; i < children.length; ++i) {\r\n                let child = children[i];\r\n                this._nodes[child.name] = child;\r\n                dealChilds(child);\r\n            }\r\n        }\r\n        dealChilds(this.node);\r\n    }\r\n    onLoad() {\r\n        this.root = this.node;\r\n        this._init()\r\n        this.bindUI()\r\n        this.bindEvent()\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n\r\n    public getRollProxy() {\r\n        return <SlotProxy>this.facade.retrieveProxy(ProxyDefine.SLOT);\r\n    }\r\n}\r\n\r\n"]}