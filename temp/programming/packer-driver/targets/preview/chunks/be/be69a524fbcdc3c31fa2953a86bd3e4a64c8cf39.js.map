{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/egypt/Slot/Component/Egypt_Icon.ts"],"names":["_decorator","Label","Node","sp","UITransform","Widget","BaseComponent","iconConfig","ccclass","property","Egypt_Icon","SkeletonData","iconId","iconDir","iconSize","iconConfigData","bindUI","rootUi","root","getComponent","anchorY","setFace","icon","find","item","id","node","getChildByName","active","face","Skeleton","skeletonData","name","premultipliedAlpha","animation","animationArr","left","distance","top","setScale","scale","destroy","hiddenAmounts","amountNum","amount","string","setEffect","animationIndex","borderHeight","length","iseff","effectBorder","effectBorder2","effectBorder3","bindEvent","start","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Label, Node, SkelAnimDataHub, Skeleton, sp, Sprite, SpriteAtlas, SpriteFrame, UITransform, Vec3, Widget } from 'cc';\r\nimport BaseComponent from './BaseComponent';\r\nimport iconConfig from '../config'\r\nconst { ccclass, property } = _decorator;\r\n\r\ntype ConfigType = {\r\n\tid: number\r\n\tname: string\r\n\tfileName: string\r\n\tanimationArr?: string[]\r\n\tdistance: number[],\r\n\tscale: number[]\r\n}\r\n\r\n@ccclass('Egypt_Icon')\r\nexport class Egypt_Icon extends BaseComponent {\r\n\t@property(Node)\r\n\tface: Node = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonA: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonB: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonC: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonD: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonE: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonF: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonG: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonH: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonI: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\ticonJ: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\tscatter: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\twild: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\tbettle: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\tsunGod: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\twild1: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\twild2: sp.SkeletonData = null\r\n\r\n\t@property(sp.SkeletonData)\r\n\twild3: sp.SkeletonData = null\r\n\r\n\t@property(Node)\r\n\teffectBorder: Node = null\r\n\r\n\t@property(Node)\r\n\teffectBorder2: Node = null\r\n\r\n\t@property(Node)\r\n\teffectBorder3: Node = null\r\n\r\n\t// private iconDir = {\r\n\t// \ticon_1: this.apple,\r\n\t// \ticon_2: this.banana,\r\n\t// \ticon_3: this.strawberry,\r\n\t// \ticon_4: this.watermelon,\r\n\t// \ticon_5: this.grape,\r\n\t// \ticon_6: this.bell,\r\n\t// \ticon_7: this.wild,\r\n\t// \ticon_8: this.icon777,\r\n\t// \ticon_9: this.bar1,\r\n\t// \ticon_10: this.bar2,\r\n\t// \ticon_11: this.bar3\r\n\t// }\r\n\r\n\tpublic iconId: number = 0\r\n\r\n\tprivate iconDir: ConfigType[]\r\n\tprivate iconSize: 'normal' | 'large' = 'normal'\r\n\tprivate iconConfigData: ConfigType\r\n\r\n\tprotected bindUI(): void {\r\n\t\tconst rootUi = this.root.getComponent(UITransform) as UITransform\r\n\t\trootUi.anchorY = 1\r\n\r\n\t\t// rootUi.anchorX = 0\r\n\t}\r\n\t/**传入图标的ID */\r\n\tpublic setFace(iconId: number) {\r\n\t\tthis.iconId = iconId\r\n\t\tthis.iconDir = iconConfig.icon\r\n\t\tthis.iconConfigData = this.iconDir.find(item => item.id === iconId)\r\n\t\tthis.node.getChildByName(\"face\").active = true\r\n\t\tthis.face.getComponent(sp.Skeleton).skeletonData = this[this.iconConfigData.name]\r\n\t\tthis.face.getComponent(sp.Skeleton).premultipliedAlpha = false\r\n\t\tthis.node.getChildByName(\"face\").getComponent(sp.Skeleton).animation = this.iconConfigData.animationArr[0]\r\n\t\tthis.node.getChildByName(\"face\").getComponent(Widget).left = this.iconConfigData.distance[0]\r\n\t\tthis.node.getChildByName(\"face\").getComponent(Widget).top = this.iconConfigData.distance[1]\r\n\t\tthis.face.setScale(this.iconConfigData.scale[0], this.iconConfigData.scale[1])\r\n        if(this.iconConfigData.name === 'scatter'){\r\n            this.node.getChildByName('focusBorder').destroy()\r\n        }\r\n\t\tif (this.iconConfigData.name === 'scatter' || this.iconConfigData.name === 'wild') {\r\n\r\n\t\t}\r\n\t\t// this.effectBorder.active = true\r\n\t}\r\n    public hiddenAmounts(amountNum){\r\n        let amount=this.node.getChildByName('amount')\r\n        amount.getComponent(Label).string=amountNum+''\r\n    }\r\n\t/**启动或停止效果\r\n\t * animationIndex设置为0，或不设置的话，就停止效果\r\n\t */\r\n\tpublic setEffect(animationIndex: number, borderHeight: 1 | 2 | 3 = 1) {\r\n\t\t// this.face.getComponent(sp.Skeleton).setAnimation(1, this.iconConfig.animationArr[animationIndex], true)\r\n\t\tif (this.iconSize === 'large') return\r\n\t\tif (animationIndex > this.iconConfigData.animationArr.length - 1) {\r\n\t\t\tanimationIndex = this.iconConfigData.animationArr.length - 1\r\n\t\t}\r\n\t\tthis.node.getChildByName(\"face\").getComponent(sp.Skeleton).animation = this.iconConfigData.animationArr[animationIndex]\r\n\t\tconst iseff = animationIndex === 0 ? false : true\r\n\t\tif (!iseff) {\r\n\t\t\tthis.effectBorder.active = false\r\n\t\t\tthis.effectBorder2.active = false\r\n\t\t\tthis.effectBorder3.active = false\r\n\t\t} else {\r\n\t\t\tif (borderHeight === 1) {\r\n\t\t\t\tthis.effectBorder.active = true\r\n\t\t\t} else if (borderHeight === 2) {\r\n\t\t\t\tthis.effectBorder2.active = true\r\n\t\t\t} else if (borderHeight === 3) {\r\n\t\t\t\tthis.effectBorder3.active = true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tprotected bindEvent(): void {\r\n\r\n\t}\r\n\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}