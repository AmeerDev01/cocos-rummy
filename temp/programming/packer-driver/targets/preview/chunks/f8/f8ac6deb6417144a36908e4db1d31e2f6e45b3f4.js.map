{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/starlight/components/Starlight_HelpPanel.ts"],"names":["_decorator","Button","Label","Node","PageView","BaseComponent","starlight_Audio","SoundPathDefine","ccclass","property","Starlight_HelpPanel","basicMagnification","yellow_gem","blue_green_gem","green_gem","blue_gem","red_gem","star","moon","heart","sun","scatter","propertyNode","props_btn_insst5roduce_close","props_btn_introduce_next","props_btn_introduce_last","props_PageView_instroduce_banner","props_spr_page1","props","ante","events","closeHandler","start","initState","bindEvent","useProps","key","value","renderingRules","cur","num","children","forEach","item","name","i","getChildByName","getComponent","string","formatAmountWithLetter","bindUI","node","on","EventType","CLICK","interactable","TOUCH_END","playOneShot","DRAGANDDROPTOTURNTHEPAGE","index","getCurrentPageIndex","scrollToPage","getPages","length","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Button, Component, Label, log, Node, PageView } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { starlight_Audio } from '../index';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tante:number\r\n}\r\nexport interface IEvent {\r\n\tcloseHandler: () => void\r\n}\r\n\r\n@ccclass('Starlight_HelpPanel')\r\nexport class Starlight_HelpPanel extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\tprivate basicMagnification={\r\n\t\tyellow_gem:[5,15,40],\r\n\t\tblue_green_gem:[8,18,80],\r\n\t\tgreen_gem:[10,20,100],\r\n\t\tblue_gem:[16,24,160],\r\n\t\tred_gem:[20,30,200],\r\n\t\tstar:[30,40,240],\r\n\t\tmoon:[40,100,300],\r\n\t\theart:[50,200,500],\r\n\t\tsun:[200,500,1000],\r\n\t\tscatter:[60,100,2000],\r\n\t }\r\n\tprotected propertyNode = {\r\n\t\tprops_btn_insst5roduce_close: new Button(),\r\n\t\tprops_btn_introduce_next: new Button(),\r\n\t\tprops_btn_introduce_last: new Button(),\r\n\t\tprops_PageView_instroduce_banner: new PageView(),\r\n\t\tprops_spr_page1: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tante:0\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tcloseHandler: () => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif(key === 'ante'){\r\n\t\t\tthis.renderingRules(value.cur)\r\n\t\t}\r\n\t}\r\n\trenderingRules(num:number){\r\n\t\tthis.basicMagnification\r\n\t\tfor(let i in this.basicMagnification){\r\n\t\t\tthis.propertyNode.props_spr_page1.children.forEach(item=>{\r\n\t\t\t\tif(item.name===i){\r\n\t\t\t\t\titem.getChildByName('Label_rate_num1').getChildByName('label_num').getComponent(Label).string=(this.basicMagnification[i][0] * num).formatAmountWithLetter()\r\n\t\t\t\t\titem.getChildByName('Label_rate_num2').getChildByName('label_num').getComponent(Label).string=(this.basicMagnification[i][1] * num).formatAmountWithLetter()\r\n\t\t\t\t\titem.getChildByName('Label_rate_num3').getChildByName('label_num').getComponent(Label).string=(this.basicMagnification[i][2] * num).formatAmountWithLetter()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tprotected bindUI(): void {\r\n\t\tthis.propertyNode.props_btn_insst5roduce_close.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tthis.events.closeHandler()\r\n\t\t}, true)\r\n\t\tthis.propertyNode.props_btn_introduce_last.interactable=false\r\n\t\tthis.propertyNode.props_btn_introduce_last.node.on(Node.EventType.TOUCH_END,()=>{\r\n\t\t\tstarlight_Audio.playOneShot(SoundPathDefine.DRAGANDDROPTOTURNTHEPAGE)\r\n            const index = this.propertyNode.props_PageView_instroduce_banner.getCurrentPageIndex();\r\n            if (index > 0) {\r\n                this.propertyNode.props_PageView_instroduce_banner.scrollToPage(index - 1, 0.5); // 切换到上一页，可设置切换动画时间\r\n            }\r\n\t\t\tthis.propertyNode.props_btn_introduce_last.interactable=index > 1\r\n\t\t\tthis.propertyNode.props_btn_introduce_next.interactable=true\r\n        })\r\n        this.propertyNode.props_btn_introduce_next.node.on(Node.EventType.TOUCH_END,()=>{\r\n\t\t\tstarlight_Audio.playOneShot(SoundPathDefine.DRAGANDDROPTOTURNTHEPAGE)\r\n            const index = this.propertyNode.props_PageView_instroduce_banner.getCurrentPageIndex();\r\n            if (index < this.propertyNode.props_PageView_instroduce_banner.getPages().length - 1) {\r\n                this.propertyNode.props_PageView_instroduce_banner.scrollToPage(index + 1, 0.5); // 切换到下一页，可设置切换动画时间\r\n            }\r\n\t\t\tthis.propertyNode.props_btn_introduce_last.interactable=true\r\n\t\t\tthis.propertyNode.props_btn_introduce_next.interactable=index < this.propertyNode.props_PageView_instroduce_banner.getPages().length - 2\r\n        })\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}