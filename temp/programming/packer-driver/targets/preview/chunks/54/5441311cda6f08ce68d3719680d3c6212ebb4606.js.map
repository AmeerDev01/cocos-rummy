{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/yxx/serverType.ts"],"names":["config","initBetData","initHeadType","BetType","GameStatus","convertBetType","betType","DEER","GOURD","CHOOK","FISH","SHRIMP","CRAB","convertToServerBetType","convertGameStatus","value","BET","STOP_BET","convertResult","result","betTypes","num1","num2","num3","time","convertHeadType","headType","gameOption","lookOnIndex","gold","name","memberName","userId","memberId","winloss","winGold","icon","convertUserInfo","userInfo","head","convertBetData","mebmerBet","index","type","gameCacheData","roomId","leftUsers","rightUsers","winList"],"mappings":"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","sourcesContent":["import config, { initBetData, initHeadType } from \"./config\";\r\nimport { BetData, BetType, GameStatus, HeadType, Result, UserInfo } from \"./type\";\r\n\r\n/**\r\n * 玩家详情的参数\r\n */\r\nexport type FishPrawnCrabMemberInfoVo = {\r\n  memberName: string,\r\n  memberId: string,\r\n  /**玩家头像 */\r\n  icon: number,\r\n  /**玩家金币 */\r\n  gold: number,\r\n  /**输赢类型 */\r\n  winType: number,\r\n  /**赢的总额 */\r\n  winGold: number,\r\n  /**下注 */\r\n  memberBet: any\r\n}\r\n\r\n/**\r\n * 进入游戏详细数据\r\n */\r\nexport type FishPrawnCrabJoinGameRoomInfoVo = {\r\n  /**下注金额 */\r\n  betList: number[],\r\n  /**自己信息 */\r\n  myInfo: FishPrawnCrabMemberInfoVo;\r\n  /**左边用户 */\r\n  leftMember: FishPrawnCrabMemberInfoVo[];\r\n  /**右边用户 */\r\n  rightMember: FishPrawnCrabMemberInfoVo[];\r\n  /**房间玩家总人数 */\r\n  memberNum: number;\r\n  /**开奖结果 */\r\n  results: FishPrawnCrabLotteryVo[];\r\n  /**用户下注详情 */\r\n  memberBetDetail: MebmerBet[];\r\n  /**游戏阶段 */\r\n  gameType: number;\r\n  /**剩余秒数 */\r\n  seconds: number;\r\n  roomId: string;\r\n}\r\n\r\n/**用户下注 */\r\nexport type MemberBet = {\r\n  gold: number;\r\n  memberId: string;\r\n  type: number\r\n}\r\n\r\n/**\r\n * 开奖结果\r\n */\r\nexport type FishPrawnCrabLotteryVo = {\r\n  num1: number;\r\n  num2: number;\r\n  num3: number;\r\n}\r\n\r\nexport type FishPrawnCrabResultVo = {\r\n  lotteryVo: FishPrawnCrabLotteryVo;\r\n}\r\n\r\n/**游戏状态 */\r\nexport type FishPrawnCrabGameTypeVo = {\r\n  gameType: number,\r\n  seconds: number,\r\n  prawnCrabMemberDrawPrizeVo: FishPrawnCrabResultVo,\r\n  fishPrawnCrabWinMemberVo: FishPrawnCrabBalanceVo,\r\n  fishPrawnCrabSettlementVo: FishPrawnCrabBalanceVo,\r\n}\r\nexport type MebmerBet = {\r\n  memberId: string;\r\n  gold: number;\r\n  type: number;\r\n}\r\n/**推送下注结构 */\r\nexport type FishPrawnCrabPushBetVo = {\r\n  goldData: any;\r\n  memberData: MebmerBet;\r\n}\r\n/**发送下注信息 */\r\nexport type SendBet = {\r\n  roomId: string,\r\n  memberId: string,\r\n  memberName: string,\r\n  gold: number,\r\n  betType: number,\r\n  betId: string\r\n}\r\n\r\nexport type FishPrawnCrabWinVo = {\r\n  memberId: string,\r\n  memberName: string,\r\n  gold: number,\r\n}\r\n\r\n/**结算数据 */\r\nexport type FishPrawnCrabBalanceVo = {\r\n  /**赢的用户 */\r\n  list: FishPrawnCrabWinVo[];\r\n  /**最新左边用户 */\r\n  roomLeftInfoVos: FishPrawnCrabMemberInfoVo[];\r\n  /**最新右边用户 */\r\n  roomRightInfoVos: FishPrawnCrabMemberInfoVo[];\r\n  /**本局左边用户 */\r\n  lastRoomLeftInfoVos: FishPrawnCrabMemberInfoVo[];\r\n  /**本局右边用户 */\r\n  lastRoomRightInfoVos: FishPrawnCrabMemberInfoVo[];\r\n  /**自己的下注信息 */\r\n  myInfo: FishPrawnCrabMemberInfoVo;\r\n  /**4个大赢家 */\r\n  roomWinInfo: FishPrawnCrabMemberInfoVo[];\r\n  /**房间里面的玩家数量 */\r\n  roomInfoSize: number;\r\n}\r\n\r\n/**转换下注类型 */\r\nexport const convertBetType = (betType: number) => {\r\n  if (betType === 1) {\r\n    return BetType.DEER;\r\n  } else if (betType === 2) {\r\n    return BetType.GOURD;\r\n  } else if (betType === 3) {\r\n    return BetType.CHOOK;\r\n  } else if (betType === 4) {\r\n    return BetType.FISH;\r\n  } else if (betType === 5) {\r\n    return BetType.SHRIMP;\r\n  } else if (betType === 6) {\r\n    return BetType.CRAB;\r\n  }\r\n}\r\n\r\n/**转换为服务器的下注类型 */\r\nexport const convertToServerBetType = (betType: BetType) => {\r\n  if (BetType.DEER === betType) {\r\n    return 1;\r\n  } else if (BetType.GOURD === betType) {\r\n    return 2;\r\n  } else if (BetType.CHOOK === betType) {\r\n    return 3;\r\n  } else if (BetType.FISH === betType) {\r\n    return 4;\r\n  } else if (BetType.SHRIMP === betType) {\r\n    return 5;\r\n  } else if (BetType.CRAB === betType) {\r\n    return 6;\r\n  }\r\n}\r\n/**转换游戏状态 */\r\nexport const convertGameStatus = (value: number) => {\r\n  if (value === 1) {\r\n    return GameStatus.BET;\r\n  } {\r\n    return GameStatus.STOP_BET;\r\n  }\r\n}\r\n\r\n/**转换游戏结果 */\r\nexport const convertResult = (value: FishPrawnCrabLotteryVo): Result => {\r\n  const result: Result = {\r\n    betTypes: [\r\n      convertBetType(value.num1),\r\n      convertBetType(value.num2),\r\n      convertBetType(value.num3),\r\n    ],\r\n    time: 0\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * 转换头像数据\r\n * @param value \r\n * @returns \r\n */\r\nexport const convertHeadType = (value: FishPrawnCrabMemberInfoVo): HeadType => {\r\n  const headType = initHeadType(config.gameOption.lookOnIndex);\r\n  headType.gold = value.gold;\r\n  headType.name = value.memberName;\r\n  headType.userId = value.memberId + \"\";\r\n  headType.winloss = value.winGold;\r\n  headType.icon = value.icon;\r\n\r\n  return headType;\r\n}\r\n\r\nexport const convertUserInfo = (value: FishPrawnCrabMemberInfoVo): UserInfo => {\r\n  const userInfo: UserInfo = {\r\n    userId: value.memberId,\r\n    gold: value.gold,\r\n    name: value.memberName,\r\n    icon: value.icon,\r\n    head: \"\",\r\n  }\r\n  return userInfo;\r\n}\r\n\r\nexport const convertBetData = (mebmerBet: MebmerBet, index: number) => {\r\n  return initBetData(index, mebmerBet.memberId, convertBetType(mebmerBet.type), mebmerBet.gold);\r\n}\r\n\r\nexport type GameCacheData = {\r\n  roomId: string,\r\n  memberId: string,\r\n  leftUsers: FishPrawnCrabMemberInfoVo[],\r\n  rightUsers: FishPrawnCrabMemberInfoVo[],\r\n  /**每局结算前4位赢得最多的玩家 */\r\n  winList: FishPrawnCrabMemberInfoVo[],\r\n}\r\n\r\n/**802下注返回数据 */\r\nexport type BetReturnData = {\r\n  resultCode: number,\r\n  betAmount: number,\r\n  betType: number,\r\n  gold: number,\r\n  betId: string,\r\n}\r\n\r\n/**游戏缓存数据 */\r\nexport const gameCacheData: GameCacheData = {\r\n  roomId: \"\",\r\n  memberId: \"\",\r\n  leftUsers: [],\r\n  rightUsers: [],\r\n  winList: [],\r\n}"]}