{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/common/fish/utils/skills/SkillItemRotationScore.ts"],"names":["SkillItemRotationScore","Node","constructor","sourceManage","prefabName","parentNode","info","textureConfig","uiRoot","ui","addChild","init","destroy"],"mappings":";;;qFAgBaA,sB;;;;;;;;;;;;;;;AAJGC,MAAAA,I,OAAAA,I;;;;;;AAZhB;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;wCAMaD,sB,GAAN,MAAMA,sBAAN,CAA6B;AAKlCE,QAAAA,WAAW,CAACC,YAAD,EAA6BC,UAA7B,EAAiDC,UAAjD,EAAmEC,IAAnE,EAAyEC,aAAzE,EAAwF;AAAA,eAJ5FC,MAI4F;AAAA,eAH3FL,YAG2F;AAAA,eAF3FC,UAE2F;AAAA,eAD3FK,EAC2F;AACjG,eAAKN,YAAL,GAAoBA,YAApB;AACA,eAAKC,UAAL,GAAkBA,UAAlB;AACA,eAAKI,MAAL,GAAc,IAAIP,IAAJ,EAAd;AACAI,UAAAA,UAAU,CAACK,QAAX,CAAoB,KAAKF,MAAzB;AACA,eAAKG,IAAL,CAAUL,IAAV,EAAgBC,aAAhB;AACD;;AAEMI,QAAAA,IAAI,CAACL,IAAD,EAAOC,aAAP,EAAsB,CAC/B;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACD;;AAEMK,QAAAA,OAAO,GAAG;AACf,eAAKJ,MAAL,CAAYI,OAAZ;AACA,eAAKT,YAAL,GAAoB,IAApB;AACA,eAAKM,EAAL,GAAU,IAAV;AACD;;AAnCiC,O","sourcesContent":["/**\r\n  分数旋转效果\r\n*/\r\n/**\r\n  info = {\r\n    beishu,\r\n    score,\r\n    spr_name,\r\n    src_id\r\n  }\r\n  */\r\n\r\nimport { Label, Node, instantiate, tween } from \"cc\";\r\nimport { addAnimation, setSpriteFrame } from \"../../FishTool\";\r\nimport SourceManage from \"../../../../base/SourceManage\";\r\n\r\nexport class SkillItemRotationScore {\r\n  public uiRoot: Node;\r\n  private sourceManage: SourceManage;\r\n  private prefabName: string;\r\n  private ui: Node;\r\n  constructor(sourceManage: SourceManage, prefabName: string, parentNode: Node, info, textureConfig) {\r\n    this.sourceManage = sourceManage\r\n    this.prefabName = prefabName\r\n    this.uiRoot = new Node();\r\n    parentNode.addChild(this.uiRoot)\r\n    this.init(info, textureConfig)\r\n  }\r\n\r\n  public init(info, textureConfig) {\r\n    // this.ui = instantiate(this.sourceManage.getFile(this.prefabName).source)\r\n    // this.uiRoot.addChild(this.ui)\r\n    // this.ui.setPosition(0, 0)\r\n\r\n    // let ani_cfg = textureConfig[info.src_id]\r\n\r\n    // addAnimation(this.sourceManage, this.ui.getChildByName('spr_bk'), ani_cfg, true, true);\r\n\r\n    // setSpriteFrame(this.sourceManage, this.ui.getChildByName('spr_fish'), info.spr_name)\r\n    // this.ui.getChildByName('fnt_beishu').getComponent(Label).string = (\"x\" + info.beishu)\r\n    // this.ui.getChildByName('fnt_score').getComponent(Label).string = (`${info.score}`)\r\n\r\n    // tween(this.uiRoot).delay(2.5).call(() => {\r\n    //   this.destroy();\r\n    // }).start();\r\n  }\r\n\r\n  public destroy() {\r\n    this.uiRoot.destroy();\r\n    this.sourceManage = null;\r\n    this.ui = null;\r\n  }\r\n}\r\n"]}