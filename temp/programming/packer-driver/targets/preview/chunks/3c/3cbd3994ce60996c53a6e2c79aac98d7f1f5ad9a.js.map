{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/egypt/Slot/Command/StartupCommand.ts"],"names":["StartupCommand","Command","CommandDefine","ProxyDefine","LocalCacheDataProxy","MainBgMediator","MediatorDefine","ApplicationGlobal","SlotProxy","SocketProxy","BgCommand","RollerMediator","RollerCommand","LoaderCommand","LoaderMediator","LoaderViewType","BgProxy","execute","notification","facade","registerProxy","LOCAL_CACHE_DATA","SLOT","WEBSOCKET","BG","registerMediator","mainPanel","ROLLER_PANEL","LOADER_PANEL","registerCommand","LOADER","ROLLER","sendNotification","INIT_LOADER_PANEL"],"mappings":";;;qQAmBaA,c;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlBNC,MAAAA,O;;AACEC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,mB,iBAAAA,mB;;AACFC,MAAAA,c;;AACEC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,W,kBAAAA,W;;AACAC,MAAAA,S,kBAAAA,S;;AACFC,MAAAA,c;;AACEC,MAAAA,a,kBAAAA,a;;AACAC,MAAAA,a,kBAAAA,a;;AACFC,MAAAA,c;AAAkBC,MAAAA,c,kBAAAA,c;;AAEhBC,MAAAA,O,kBAAAA,O;;;;;;;gCAGIhB,c,GAAN,MAAMA,cAAN;AAAA;AAAA,8BAAqC;AACjCiB,QAAAA,OAAO,CAACC,YAAD,EAAoC;AAC9C,gBAAMD,OAAN,CAAcC,YAAd;AACA,eAAKC,MAAL,CAAYC,aAAZ,CAA0B;AAAA;AAAA,0DAAwB;AAAA;AAAA,0CAAYC,gBAApC,EAAsD,EAAtD,CAA1B;AACA,eAAKF,MAAL,CAAYC,aAAZ,CAA0B;AAAA;AAAA,sCAAc;AAAA;AAAA,0CAAYE,IAA1B,CAA1B;AACA,eAAKH,MAAL,CAAYC,aAAZ,CAA0B;AAAA;AAAA,0CAAgB;AAAA;AAAA,0CAAYG,SAA5B,CAA1B;AACA,eAAKJ,MAAL,CAAYC,aAAZ,CAA0B;AAAA;AAAA,kCAAY;AAAA;AAAA,0CAAYI,EAAxB,CAA1B,EAL8C,CAM9C;;AAEA,eAAKL,MAAL,CAAYM,gBAAZ,CAA6B;AAAA;AAAA,gDAAmB;AAAA;AAAA,gDAAeD,EAAlC,EAAsC;AAAA;AAAA,sDAAkBE,SAAxD,CAA7B;AACA,eAAKP,MAAL,CAAYM,gBAAZ,CAA6B;AAAA;AAAA,gDAAmB;AAAA;AAAA,gDAAeE,YAAlC,EAAgD;AAAA;AAAA,sDAAkBD,SAAlE,CAA7B;AACA,eAAKP,MAAL,CAAYM,gBAAZ,CAA6B;AAAA;AAAA,gDAAmB;AAAA;AAAA,gDAAeG,YAAlC,EAAgD;AAAA;AAAA,sDAAkBF,SAAlE,CAA7B,EAV8C,CAW9C;;AAEA,eAAKP,MAAL,CAAYU,eAAZ,CAA4B;AAAA;AAAA,8CAAcC,MAA1C;AAAA;AAAA;AACA,eAAKX,MAAL,CAAYU,eAAZ,CAA4B;AAAA;AAAA,8CAAcL,EAA1C;AAAA;AAAA;AACA,eAAKL,MAAL,CAAYU,eAAZ,CAA4B;AAAA;AAAA,8CAAcE,MAA1C;AAAA;AAAA,8CAf8C,CAiB9C;;AACA,eAAKC,gBAAL,CAAsB;AAAA;AAAA,8CAAcF,MAApC,EAA4C,EAA5C,EAAgD;AAAA;AAAA,gDAAeG,iBAA/D,EAlB8C,CAmB9C;AACA;AACA;AACH;;AAvBuC,O","sourcesContent":["import { INotification } from \"../../Framework/interfaces/INotification\"\r\nimport Command from \"../../Framework/patterns/command/Command\"\r\nimport { CommandDefine } from \"../Const/CommandDefine\"\r\nimport { ProxyDefine } from \"../Const/ProxyDefine\"\r\nimport { LocalCacheDataProxy } from '../Proxy/LocalCacheDataProxy'\r\nimport MainBgMediator from \"../Mediator/BgMediator\"\r\nimport { MediatorDefine } from \"../Const/MediatorDefine\"\r\nimport { ApplicationGlobal } from \"../Const/ApplicationGlobal\"\r\nimport { SlotProxy } from \"../Proxy/SlotProxy\"\r\nimport { SocketProxy } from \"../Proxy/SocketProxy\"\r\nimport { BgCommand } from \"./BgCommand\"\r\nimport RollerMediator from \"../Mediator/RollerMediator\"\r\nimport { RollerCommand } from \"./RollerCommand\"\r\nimport { LoaderCommand } from \"./LoaderCommand\"\r\nimport LoaderMediator, { LoaderViewType } from \"../Mediator/LoaderMediator\"\r\nimport { SubGameProxy } from \"../Proxy/SubGameProxy\"\r\nimport { BgProxy } from \"../Proxy/BgProxy\"\r\n\r\n\r\nexport class StartupCommand extends Command {\r\n    public execute(notification: INotification): void {\r\n        super.execute(notification)\r\n        this.facade.registerProxy(new LocalCacheDataProxy(ProxyDefine.LOCAL_CACHE_DATA, ''))\r\n        this.facade.registerProxy(new SlotProxy(ProxyDefine.SLOT))\r\n        this.facade.registerProxy(new SocketProxy(ProxyDefine.WEBSOCKET))\r\n        this.facade.registerProxy(new BgProxy(ProxyDefine.BG))\r\n        // this.facade.registerProxy(new SubGameProxy(ProxyDefine.SUB_GAME))\r\n\r\n        this.facade.registerMediator(new MainBgMediator(MediatorDefine.BG, ApplicationGlobal.mainPanel))\r\n        this.facade.registerMediator(new RollerMediator(MediatorDefine.ROLLER_PANEL, ApplicationGlobal.mainPanel))\r\n        this.facade.registerMediator(new LoaderMediator(MediatorDefine.LOADER_PANEL, ApplicationGlobal.mainPanel))\r\n        // this.facade.registerMediator(new SubGameMediator(MediatorDefine.SUB_GAME_PANEL, ApplicationGlobal.mainPanel))\r\n        \r\n        this.facade.registerCommand(CommandDefine.LOADER, LoaderCommand)\r\n        this.facade.registerCommand(CommandDefine.BG, BgCommand)\r\n        this.facade.registerCommand(CommandDefine.ROLLER, RollerCommand)\r\n\r\n        //初始化主界面（标准做法，调用command，command调用mediator）\r\n        this.sendNotification(CommandDefine.LOADER, {}, LoaderViewType.INIT_LOADER_PANEL)\r\n        // this.sendNotification(CommandDefine.BG, {}, LoaderViewType.INIT_LOADER_PANEL)\r\n        // this.login()\r\n        //this.sendNotification(CommandDefine.InitDeskPanel, {});\r\n    }\r\n    \r\n}"]}