{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/PHOENIX111/components/phoenix_authLauncher.ts"],"names":["_decorator","Node","BaseComponent","EffectType","getEffectByType","changeAutoLauncherType","setShowAuthLaunch","AutoLauncherType","setRollSpeed","playBiu","ccclass","property","phoenix_authLauncher","propertyNode","props_btn_down10","props_btn_down20","props_btn_down50","props_btn_down100","props_btn_down500","props_btn_downMax","props","isShowAutoLaunch","isWaiting","autoLauncherType","NONE","events","start","initState","bindEvent","on","EventType","TOUCH_END","setType","TIME_10","TIME_20","TIME_50","TIME_100","TIME_500","LIMIT","useProps","key","value","show","hide","cur","dispatch","LAMIT_FAST","node","active","EFFECT1","enter","then","out","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { EffectType, getEffectByType } from '../../../utils/NodeIOEffect';\r\nimport { changeAutoLauncherType, setShowAuthLaunch } from '../store/actions/game';\r\nimport { AutoLauncherType } from '../type';\r\nimport { setRollSpeed } from '../store/actions/roller';\r\nimport { playBiu } from '../index';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tisShowAutoLaunch: boolean\r\n\tisWaiting: boolean\r\n\tautoLauncherType: AutoLauncherType\r\n}\r\nexport interface IEvent {\r\n\r\n}\r\n\r\n@ccclass('phoenix_authLauncher')\r\nexport class phoenix_authLauncher extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\tprotected propertyNode = {\r\n\t\tprops_btn_down10: new Node(),\r\n\t\tprops_btn_down20: new Node(),\r\n\t\tprops_btn_down50: new Node(),\r\n\t\tprops_btn_down100: new Node(),\r\n\t\tprops_btn_down500: new Node(),\r\n\t\t// props_btn_downFast: new Node(),\r\n\t\tprops_btn_downMax: new Node()\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tisShowAutoLaunch: false,\r\n\t\tisWaiting: true,\r\n\t\tautoLauncherType: AutoLauncherType.NONE\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_down10.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.TIME_10))\r\n\t\tthis.propertyNode.props_btn_down20.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.TIME_20))\r\n\t\tthis.propertyNode.props_btn_down50.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.TIME_50))\r\n\t\tthis.propertyNode.props_btn_down100.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.TIME_100))\r\n\t\tthis.propertyNode.props_btn_down500.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.TIME_500))\r\n\t\t// this.propertyNode.props_btn_downFast.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.LAMIT_FAST))\r\n\t\tthis.propertyNode.props_btn_downMax.on(Node.EventType.TOUCH_END, () => this.setType(AutoLauncherType.LIMIT))\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"isWaiting\") {\r\n\t\t\t// console.log(\"isWaiting\", this.props.isWaiting)\r\n\t\t}\r\n\t\tif (key === \"isShowAutoLaunch\") {\r\n\t\t\tif (this.props.isShowAutoLaunch) {\r\n\t\t\t\tthis.show()\r\n\t\t\t} else {\r\n\t\t\t\tthis.hide()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"autoLauncherType\") {\r\n\t\t\tif (value.cur === \"none\") {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tplayBiu()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tprivate setType(autoLauncherType: AutoLauncherType) {\r\n\t\tthis.dispatch(changeAutoLauncherType(autoLauncherType))\r\n\t\tthis.dispatch(setShowAuthLaunch(false))\r\n\t\tif (autoLauncherType === AutoLauncherType.LAMIT_FAST) {\r\n\t\t\tthis.dispatch(setRollSpeed(1.5))\r\n\t\t} else {\r\n\t\t\tthis.dispatch(setRollSpeed(1))\r\n\t\t}\r\n\t}\r\n\tprivate show() {\r\n\t\tthis.node.active = true;\r\n\t\tgetEffectByType(EffectType.EFFECT1)(this.node).enter().then(() => { })\r\n\t}\r\n\tprivate hide() {\r\n\t\tgetEffectByType(EffectType.EFFECT1)(this.node).out(false).then(() => {\r\n\t\t\tthis.node.active = false;\r\n\t\t})\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tthis.node.active = false\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}