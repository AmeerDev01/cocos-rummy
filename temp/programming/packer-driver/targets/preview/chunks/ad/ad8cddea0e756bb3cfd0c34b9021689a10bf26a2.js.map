{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/node_modules/redux-act/lib/createAction.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","createAction","_types","id","identity","arg","normalize","dispatchOrStore","dispatch","normalizeAll","dispatchOrStores","Array","isArray","map","description","payloadReducer","metaReducer","undefined","isSerializable","test","check","add","type","concat","dispatchFunctions","makeAction","payload","apply","arguments","error","Error","meta","makeAndDispatch","dispatchs","isError","payloadedAction","actionCreator","asError","getType","toString","raw","assignTo","assigned","bound","dispatched","bindTo","boundActionCreator","_cjsExports","___esModule","__esModule","_default","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from './types';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = createAction;\n\n var _types = require(\"./types\");\n\n var id = 0;\n\n var identity = function identity(arg) {\n   return arg;\n };\n\n var normalize = function normalize(dispatchOrStore) {\n   if (dispatchOrStore && typeof dispatchOrStore.dispatch === 'function') {\n     return dispatchOrStore.dispatch;\n   } else {\n     return dispatchOrStore;\n   }\n };\n\n var normalizeAll = function normalizeAll(dispatchOrStores) {\n   if (Array.isArray(dispatchOrStores)) {\n     return dispatchOrStores.map(normalize);\n   } else {\n     return normalize(dispatchOrStores);\n   }\n };\n\n function createAction(description, payloadReducer, metaReducer) {\n   if (typeof description === 'function') {\n     metaReducer = payloadReducer;\n     payloadReducer = description;\n     description = undefined;\n   }\n\n   if (typeof payloadReducer !== 'function') {\n     payloadReducer = identity;\n   }\n\n   if (typeof metaReducer !== 'function') {\n     metaReducer = undefined;\n   }\n\n   var isSerializable = typeof description === 'string' && /^[0-9A-Z_]+$/.test(description);\n\n   if (isSerializable) {\n     (0, _types.check)(description);\n     (0, _types.add)(description);\n   } else {\n     ++id;\n   }\n\n   var type = isSerializable ? description : \"[\".concat(id, \"]\").concat(description ? ' ' + description : '');\n   var dispatchFunctions = undefined;\n\n   function makeAction() {\n     var payload = payloadReducer.apply(void 0, arguments);\n\n     if (metaReducer) {\n       return {\n         type: type,\n         payload: payload,\n         error: payload instanceof Error,\n         meta: metaReducer.apply(void 0, arguments)\n       };\n     }\n\n     return {\n       type: type,\n       payload: payload,\n       error: payload instanceof Error\n     };\n   }\n\n   var makeAndDispatch = function makeAndDispatch(dispatchs, isError) {\n     return function () {\n       var payloadedAction = makeAction.apply(void 0, arguments);\n\n       if (!payloadedAction.error) {\n         payloadedAction.error = isError;\n       }\n\n       if (Array.isArray(dispatchs)) {\n         return dispatchs.map(function (dispatch) {\n           return dispatch(payloadedAction);\n         });\n       } else if (dispatchs) {\n         return dispatchs(payloadedAction);\n       } else {\n         return payloadedAction;\n       }\n     };\n   };\n\n   function actionCreator() {\n     return makeAndDispatch(dispatchFunctions, false).apply(void 0, arguments);\n   }\n\n   actionCreator.asError = function () {\n     return makeAndDispatch(dispatchFunctions, true).apply(void 0, arguments);\n   };\n\n   actionCreator.getType = function () {\n     return type;\n   };\n\n   actionCreator.toString = function () {\n     return type;\n   };\n\n   actionCreator.raw = makeAction;\n\n   actionCreator.assignTo = function (dispatchOrStores) {\n     dispatchFunctions = normalizeAll(dispatchOrStores);\n     return actionCreator;\n   };\n\n   actionCreator.assigned = function () {\n     return !!dispatchFunctions;\n   };\n\n   actionCreator.bound = function () {\n     return false;\n   };\n\n   actionCreator.dispatched = actionCreator.assigned;\n\n   actionCreator.bindTo = function (dispatchOrStores) {\n     var boundActionCreator = makeAndDispatch(normalizeAll(dispatchOrStores, false));\n     boundActionCreator.asError = makeAndDispatch(normalizeAll(dispatchOrStores, true));\n     boundActionCreator.raw = makeAction;\n     boundActionCreator.getType = actionCreator.getType;\n     boundActionCreator.toString = actionCreator.toString;\n\n     boundActionCreator.assignTo = function () {\n       return boundActionCreator;\n     };\n\n     boundActionCreator.bindTo = function () {\n       return boundActionCreator;\n     };\n\n     boundActionCreator.assigned = function () {\n       return false;\n     };\n\n     boundActionCreator.bound = function () {\n       return true;\n     };\n\n     boundActionCreator.dispatched = boundActionCreator.bound;\n     return boundActionCreator;\n   };\n\n   return actionCreator;\n }\n\n ;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  './types': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}