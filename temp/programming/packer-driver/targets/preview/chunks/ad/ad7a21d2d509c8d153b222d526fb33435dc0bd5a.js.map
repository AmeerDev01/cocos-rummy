{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/hall/components/login_v2/Hall_LoginPageV2.ts"],"names":["_decorator","Button","Node","BaseComponent","config","ccclass","property","Hall_LoginPageV2","loginViewModel","propertyNode","props_btn_loginAkun","props_btn_login_service","props_btn_login_situs","props_btn_login_pengumuman","props_btn_loginReturn","props_public_wrap","props_fb_btn_off","props","isAutoLogin","events","onOpenLoginDialog","onLoginSuccess","openService","openHomePage","openActivity","retryHndler","start","initState","bindEvent","on","EventType","TOUCH_END","node","active","showRetryButton","useProps","key","value","bindUI","maintenanceStatus","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Button, Component, Node, sys } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport LoginViewModel from '../../viewModel/LoginViewDialogModel';\r\nimport { config } from '../../config';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n}\r\n\r\nexport interface IProps {\r\n\tisAutoLogin?: boolean\r\n}\r\n\r\nexport interface IEvent {\r\n\t/**打开登录框 */\r\n\tonOpenLoginDialog?: () => void\r\n\t/**登录完成之后的操作 */\r\n\tonLoginSuccess?: () => void\r\n\t/**打开客服 */\r\n\topenService: () => void\r\n\t/**打开落地页 */\r\n\topenHomePage: () => void\r\n\t/**打开活动页 */\r\n\topenActivity: () => void\r\n\t/**重试 */\r\n\tretryHndler: () => void\r\n}\r\n\r\n@ccclass('Hall_LoginPageV2')\r\nexport class Hall_LoginPageV2 extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() { }\r\n\tprivate loginViewModel: LoginViewModel\r\n\tprotected propertyNode = {\r\n\t\t// props_guestBtu: new Node(),\r\n\t\tprops_btn_loginAkun: new Node(),\r\n\t\tprops_btn_login_service: new Node(),\r\n\t\tprops_btn_login_situs: new Node(),\r\n\t\tprops_btn_login_pengumuman: new Node(),\r\n\t\tprops_btn_loginReturn: new Button(),\r\n\t\tprops_public_wrap: new Node(),\r\n\t\t/**关闭发版框 */\r\n\t\tprops_fb_btn_off: new Button()\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tisAutoLogin: false\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonOpenLoginDialog: () => { },\r\n\t\tonLoginSuccess: () => { },\r\n\t\topenService: () => { },\r\n\t\topenHomePage: () => { },\r\n\t\topenActivity: () => { },\r\n\t\tretryHndler: () => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_loginAkun.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.onOpenLoginDialog()\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_login_service.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\t// sys.openURL(`${config.customerUrl}`)\r\n\t\t\tthis.events.openService()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_login_situs.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.openHomePage()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_login_pengumuman.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.openActivity()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_loginReturn.node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.retryHndler()\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_fb_btn_off.node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.propertyNode.props_public_wrap.active = false\r\n\t\t})\r\n\t}\r\n\r\n\t/**显示重试按钮 */\r\n\tpublic showRetryButton() {\r\n\t\tthis.propertyNode.props_btn_loginReturn.node.active = true\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\t/**传入的props变更触发的函数 */\r\n\t\t// console.log(key, \"change\", value.cur)\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tthis.propertyNode.props_public_wrap.active = config.maintenanceStatus\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}