{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/thorV2/components/ThorV2_DialogWin.ts"],"names":["_decorator","Label","Node","sp","tween","BaseComponent","StepNumber","config","thorv2_Audio","GameType","SoundPathDefine","ccclass","property","ThorV2_DialogWin","stepNumber","isStepNumberOver","propertyNode","props_layout_goldMax","props_layout_goldMin","props_bigWin","props_number","props","winningConfig","amount","gameTypeInfo","lastGameType","NONE","currGameType","viewGameType","leftCount","autoLauncherInfo","events","onUnMount","onWindowCloseHandler","start","initState","bindEvent","node","on","EventType","TOUCH_END","stop","useProps","key","value","isValid","handle","winType","wintype","defaultSkin","playBigSound","active","gameGoldNode","startName","titleSkeleton","getComponent","Skeleton","setCompleteListener","e","animation","name","startStepNumber","timeScale","setAnimation","playBigEndSound","showOrHideNode","children","forEach","v","sk","setSkin","setGoldSkeleton","animationName","loop","playOneShot","BIGWIN","SUPERWIN","EPICWIN","ULTIMATEWIN","longStop","BIGWIN_OV","SUPERWIN_OV","EPICWIN_OV","ULTIMATEWIN_OV","nodePanel","isShow","hideOp","color","a","delay","to","label","end","done","num","string","Number","toFixed","formatAmountWithCommas","set","detryCloseWindow","scheduleOnce","normalRollOption","dialogWinShowTime","onDestroy","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Label, Node, sp, tween, UIOpacity } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport config from '../config';\r\nimport { thorv2_Audio } from '../index';\r\nimport { AutoLauncherInfo, GameType, GameTypeInfo } from '../type';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\t/**大奖配置 */\r\n\twinningConfig?: any,\r\n\tamount?: number,\r\n\tgameTypeInfo?: GameTypeInfo,\r\n\t/** 自动运行信息 */\r\n\tautoLauncherInfo?: AutoLauncherInfo\r\n}\r\nexport interface IEvent {\r\n\tonUnMount: () => void,\r\n\tonWindowCloseHandler: () => void\r\n}\r\n\r\n@ccclass('ThorV2_DialogWin')\r\nexport class ThorV2_DialogWin extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprivate stepNumber: StepNumber;\r\n\tprivate isStepNumberOver: boolean = false;\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_layout_goldMax: new Node(),\r\n\t\tprops_layout_goldMin: new Node(),\r\n\t\tprops_bigWin: new Node(),\r\n\t\tprops_number: new Label(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\twinningConfig: null,\r\n\t\tamount: 0,\r\n\t\tgameTypeInfo: {\r\n\t\t\tlastGameType: GameType.NONE,\r\n\t\t\tcurrGameType: GameType.NONE,\r\n\t\t\tviewGameType: GameType.NONE,\r\n\t\t\tleftCount: 0\r\n\t\t},\r\n\t\tautoLauncherInfo: null,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonUnMount: () => { },\r\n\t\tonWindowCloseHandler: () => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tif (this.stepNumber && !this.isStepNumberOver) {\r\n\t\t\t\tthis.stepNumber.stop();\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps | '_setDone', value: { pre: any, cur: any }) {\r\n\t\tif (this.node && this.node.isValid) {\r\n\t\t\tif (key === '_setDone') {\r\n\t\t\t\tthis.handle();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate handle() {\r\n\t\tconst winType = this.props.winningConfig.wintype;\r\n\t\tconst defaultSkin = this.props.winningConfig.defaultSkin;\r\n\t\tthis.playBigSound(defaultSkin);\r\n\t\tthis.propertyNode.props_layout_goldMax.active = winType === \"big\"\r\n\t\tthis.propertyNode.props_layout_goldMin.active = winType !== \"big\"\r\n\r\n\t\tconst gameGoldNode: Node = winType === \"big\" ? this.propertyNode.props_layout_goldMax : this.propertyNode.props_layout_goldMin\r\n\t\tconst startName = winType === \"big\" ? 'start' : 'shart'\r\n\r\n\t\tconst titleSkeleton = this.propertyNode.props_bigWin.getComponent(sp.Skeleton)\r\n\t\ttitleSkeleton.setCompleteListener((e: sp.spine.TrackEntry) => {\r\n\t\t\tif (e.animation.name === 'start') {\r\n\t\t\t\tthis.startStepNumber(this.propertyNode.props_number, 0, this.props.amount, () => {\r\n\t\t\t\t\tthis.isStepNumberOver = true;\r\n\t\t\t\t\ttitleSkeleton.timeScale = 3;\r\n\t\t\t\t})\r\n\t\t\t\ttitleSkeleton.setAnimation(0, 'keep', true);\r\n\t\t\t} else if (e.animation.name === 'keep') {\r\n\t\t\t\tif (this.isStepNumberOver) {\r\n\t\t\t\t\tthis.playBigEndSound(defaultSkin);\r\n\t\t\t\t\ttitleSkeleton.timeScale = 1;\r\n\t\t\t\t\ttitleSkeleton.setAnimation(0, 'end', false);\r\n\t\t\t\t\tthis.showOrHideNode(this.propertyNode.props_number, false);\r\n\t\t\t\t}\r\n\t\t\t} else if (e.animation.name === 'end') {\r\n\t\t\t\t// this.events.onUnMount();\r\n\t\t\t\t// this.events.onWindowCloseHandler();\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tgameGoldNode.children.forEach(v => {\r\n\t\t\tconst sk = v.getComponent(sp.Skeleton);\r\n\t\t\tsk.setCompleteListener((e: sp.spine.TrackEntry) => {\r\n\t\t\t\tif (e.animation.name === startName) {\r\n\t\t\t\t\tsk.setAnimation(0, 'keep', true);\r\n\t\t\t\t} else if (e.animation.name === 'keep') {\r\n\t\t\t\t\tif (this.isStepNumberOver) {\r\n\t\t\t\t\t\tsk.setAnimation(0, 'end', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (e.animation.name === 'end') {\r\n\t\t\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\t\t\tthis.events.onUnMount();\r\n\t\t\t\t\t\tthis.events.onWindowCloseHandler();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\ttitleSkeleton.setSkin(defaultSkin)\r\n\t\ttitleSkeleton.setAnimation(0, \"start\", false);\r\n\t\tthis.setGoldSkeleton(gameGoldNode, startName, false);\r\n\t}\r\n\r\n\tprivate setGoldSkeleton(gameGoldNode: Node, animationName: string, loop: boolean) {\r\n\t\tgameGoldNode.children.forEach(v => {\r\n\t\t\tv.getComponent(sp.Skeleton).setAnimation(0, animationName, loop);\r\n\t\t})\r\n\t}\r\n\r\n\tprivate playBigSound(defaultSkin: string) {\r\n\t\tif (defaultSkin === 'big') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.BIGWIN)\r\n\t\t} else if (defaultSkin === 'MEGA') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.BIGWIN)\r\n\t\t} else if (defaultSkin === 'SUPER') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.SUPERWIN)\r\n\t\t} else if (defaultSkin === 'EPIC') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.EPICWIN)\r\n\t\t} else if (defaultSkin === 'ULTIMATE') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.ULTIMATEWIN)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate playBigEndSound(defaultSkin: string) {\r\n\t\tthorv2_Audio.longStop();\r\n\t\tif (defaultSkin === 'big') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.BIGWIN_OV)\r\n\t\t} else if (defaultSkin === 'MEGA') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.BIGWIN_OV)\r\n\t\t} else if (defaultSkin === 'SUPER') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.SUPERWIN_OV)\r\n\t\t} else if (defaultSkin === 'EPIC') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.EPICWIN_OV)\r\n\t\t} else if (defaultSkin === 'ULTIMATE') {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.ULTIMATEWIN_OV)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate showOrHideNode(nodePanel: Label, isShow: boolean, hideOp: number = 0) {\r\n\t\tif (isShow && nodePanel.color.a === 255) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!isShow && nodePanel.color.a === hideOp) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttween(nodePanel.color).delay(0.8333).to(0.3, { a: isShow ? 255 : hideOp }).start();\r\n\t}\r\n\r\n\tprivate startStepNumber(label: Label, start, end, done) {\r\n\t\tthis.stepNumber = new StepNumber(start, end, (num) => {\r\n\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\tlabel.string = Number(num.toFixed(0)).formatAmountWithCommas();\r\n\t\t\t}\r\n\t\t}, () => this.node && this.node.isValid && done());\r\n\t\tthis.stepNumber.set(0.5).start();\r\n\t}\r\n\r\n\tprivate detryCloseWindow() {\r\n\t\tthis.scheduleOnce(() => {\r\n\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\tthis.events.onUnMount();\r\n\t\t\t\tthis.events.onWindowCloseHandler();\r\n\t\t\t}\r\n\t\t}, config.normalRollOption.dialogWinShowTime)\r\n\t}\r\n\r\n\tprotected onDestroy(): void {\r\n\t\tthis.stepNumber.stop();\r\n\t\tthorv2_Audio.longStop();\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}