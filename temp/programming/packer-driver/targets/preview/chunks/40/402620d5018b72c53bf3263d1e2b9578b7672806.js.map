{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/yxx/viewModel/HistoryMinViewModel.ts"],"names":["find","ViewModel","StoreInject","EffectType","sourceManageSeletor","PrefabPathDefine","getStore","HistoryMaxViewModel","HistoryMinViewModel","constructor","begin","setEvent","openHistoryMax","hih","mountView","getFile","HISOTRY_MAX_PANEL","source","appendTo","effectType","EFFECT2","isModal","connect","setProps","results","comp","props","inject","state","newResult","gameFlow","gameStatus","animationStatus"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,I,OAAAA,I;;AACFC,MAAAA,S;AAAaC,MAAAA,W,iBAAAA,W;;AACXC,MAAAA,U,iBAAAA,U;;AAEAC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,Q,iBAAAA,Q;;AAEFC,MAAAA,mB;;;;;;;;;AAIDC,MAAAA,mB,WADL;AAAA;AAAA,sCAAY;AAAA;AAAA,iCAAZ,C,gBAAD,MACMA,mBADN;AAAA;AAAA,kCAC4E;AAC1EC,QAAAA,WAAW,GAAG;AACZ,gBAAM,gBAAN;AACD;;AAESC,QAAAA,KAAK,GAAG;AAChB,eAAKC,QAAL,CAAc;AACZC,YAAAA,cAAc,EAAE,MAAM;AACpB,kBAAMC,GAAG,GAAG;AAAA;AAAA,gEAA0BC,SAA1B,CAAoC;AAAA;AAAA,gEAAsBC,OAAtB,CAA8B;AAAA;AAAA,wDAAiBC,iBAA/C,EAAkEC,MAAtG,EACXC,QADW,CACFlB,IAAI,CAAC,QAAD,CADF,EACc;AAAEmB,gBAAAA,UAAU,EAAE;AAAA;AAAA,8CAAWC,OAAzB;AAAkCC,gBAAAA,OAAO,EAAE;AAA3C,eADd,EAETC,OAFS,GAECC,QAFD,CAEU;AAClBC,gBAAAA,OAAO,EAAE,KAAKC,IAAL,CAAUC,KAAV,CAAgBF;AADP,eAFV,CAAZ;AAKD;AAPW,WAAd;AASD;;AAEMF,QAAAA,OAAO,GAAG;AACf,eAAKK,MAAL,CAAY,EAAZ,EAAiBC,KAAD,IAAsB;AACpC,mBAAO;AACLC,cAAAA,SAAS,EAAED,KAAK,CAACE,QAAN,CAAeD,SADrB;AAELE,cAAAA,UAAU,EAAEH,KAAK,CAACE,QAAN,CAAeC,UAFtB;AAGLC,cAAAA,eAAe,EAAEJ,KAAK,CAACE,QAAN,CAAeE,eAH3B;AAILR,cAAAA,OAAO,EAAEI,KAAK,CAACE,QAAN,CAAeN;AAJnB,aAAP;AAMD,WAPD;AAQA,iBAAO,IAAP;AACD;;AA3ByE,O;;yBA8B7DhB,mB","sourcesContent":["import { find } from \"cc\"\r\nimport ViewModel, { StoreInject } from \"../../../base/ViewModel\"\r\nimport { EffectType } from \"../../../utils/NodeIOEffect\"\r\nimport { IEvent, IProps, Yxx_HistoryMin } from \"../components/Yxx_HistoryMin\"\r\nimport { sourceManageSeletor } from \"../index\"\r\nimport { PrefabPathDefine } from \"../sourceDefine/prefabDefine\"\r\nimport { getStore } from \"../store\"\r\nimport { StateType } from \"../store/reducer\"\r\nimport HistoryMaxViewModel from \"./HistoryMaxViewModel\"\r\nimport { Result } from \"../type\"\r\n\r\n@StoreInject(getStore())\r\nclass HistoryMinViewModel extends ViewModel<Yxx_HistoryMin, IProps, IEvent> {\r\n  constructor() {\r\n    super('Yxx_HistoryMin')\r\n  }\r\n\r\n  protected begin() {\r\n    this.setEvent({\r\n      openHistoryMax: () => {\r\n        const hih = new HistoryMaxViewModel().mountView(sourceManageSeletor().getFile(PrefabPathDefine.HISOTRY_MAX_PANEL).source)\r\n        .appendTo(find(\"Canvas\"), { effectType: EffectType.EFFECT2, isModal: true})\r\n          .connect().setProps({\r\n            results: this.comp.props.results\r\n          })\r\n      }\r\n    })\r\n  }\r\n\r\n  public connect() {\r\n    this.inject({}, (state: StateType) => {\r\n      return {\r\n        newResult: state.gameFlow.newResult,\r\n        gameStatus: state.gameFlow.gameStatus,\r\n        animationStatus: state.gameFlow.animationStatus,\r\n        results: state.gameFlow.results\r\n      }\r\n    })\r\n    return this\r\n  }\r\n}\r\n\r\nexport default HistoryMinViewModel"]}