{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/PHOENIX111/components/phoenix_footer.ts"],"names":["_decorator","Button","Label","Node","Sprite","sys","Toggle","BaseComponent","config","SKT_MAG_TYPE","sktMsgListener","playMinCoin","playMaxCoin","playBtnClick","AutoLauncherType","GameType","TaskScheduler","Task","StepNumber","autoLauncherTypeWithTimes","UseSetOption","getNodePositionInCanvas","setRollSpeed","dataTransfer","DataKeyType","ccclass","property","phoenix_footer","timer","pressTime","pressTimeDone","taskScheduler","stepNumber","totalTimes","propertyNode","props_btn_down_putar","props_btn_down_betMax","props_btn_down_help","props_btn_down_subtract","props_btn_down_add","props_Label_down_oneBet","props_Label_down_goldNum","props_word_down_goodluck","props_word_down_winNum","props_down_chooseBg","props_spine_guangquan","props_word_down_pular","props_times","props_autoLaunch_label","props_spr_nomoney","props_toggle_fast","props_jiacishu","props","isRollEnd","profit","subGameTimes","remainSubGameTimes","currGameType","NONE","viewGameType","isShowAutoLaunch","autoLauncherType","autoLaunchedTimes","balance","isJumpStop","isSortStop","events","manualBetHandler","openAutoLauncher","closeAutoLauncher","isClear","openHelpPanel","changeBetAmount","betAmount","positionId","value","changeSpeedUpSwitch","isChecked","start","console","log","initState","baseBetAmountTarget","disableBetSwitch","isShowNoGlod","bindEvent","on","EventType","TOUCH_START","window","setInterval","clearInterval","TOUCH_END","dispatch","node","CLICK","state","target","getBetListByLevel","index","indexOf","length","setState","useProps","key","cur","getComponent","grayscale","SUBGAME1","active","pre","string","joinqQueue","done","stop","num","toFixed","formatAmountWithCommas","GAME_TYPE","MAIN","setFlyNode","parent","updateBtuFace","LIMIT","LAMIT_FAST","getAutoLauncherBaseNBoard","getProfitBar","level","JSON","parse","localStorage","getItem","lv","betList","betSwitcher","find","item","amount","bindUI","addOnce","AUTH","Instance","option","gameSet","phoenix","betTarget","t","i","add","LAUNCHER_BET","data","error","toggle","useState","linesQueue","setGameOption","getPositionData","destroyCallBack","destoryQueue","removeById","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Button, Component, EventMouse, Label, Node, Sprite, sys, Toggle, ToggleComponent } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport config from '../config';\r\nimport { SKT_MAG_TYPE, sktMsgListener } from '../socketConnect';\r\nimport { phoenix_Audio, msgListener, NORMAL_MAG_TYPE, playMinCoin, playMaxCoin, playBtnClick } from '../index';\r\nimport { AutoLauncherType, GameType } from '../type';\r\nimport TaskScheduler, { Task } from '../../../utils/TaskScheduler';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { autoLauncherTypeWithTimes } from '../type';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nimport UseSetOption from '../../../utils/UseSetOption';\r\nimport { getNodePositionInCanvas, initToggle } from '../../../utils/tool';\r\nimport { setRollSpeed } from '../store/actions/roller';\r\nimport dataTransfer, { DataKeyType } from '../dataTransfer';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\t/**是否显示自动下注面板 */\r\n\t// isShowAutoLancherPanel: boolean,\r\n\t/**基本的下注额度序号 */\r\n\tbaseBetAmountTarget: {\r\n\t\tpositionId: number;\r\n\t\tvalue: number;\r\n\t},\r\n\t/**是否禁用下注调整 */\r\n\tdisableBetSwitch: boolean\r\n\t/**是否显示金额不足提示框 */\r\n\tisShowNoGlod: boolean\r\n}\r\n\r\nexport interface IProps {\r\n\t/**转动是否停止 */\r\n\tisRollEnd: boolean,\r\n\t/**盈亏 */\r\n\tprofit: number,\r\n\t/**要执行的小游戏次数 */\r\n\tsubGameTimes: number,\r\n\t/**剩余的小游戏次数 */\r\n\tremainSubGameTimes: number,\r\n\t/**当前的游戏 */\r\n\tcurrGameType: GameType,\r\n\t/**当前界面所处的游戏 */\r\n\tviewGameType: GameType,\r\n\t/**自动执行显示状态 */\r\n\tisShowAutoLaunch: boolean,\r\n\t/**自动执行的类型 */\r\n\tautoLauncherType: AutoLauncherType,\r\n\t/**已经执行了多少次 */\r\n\tautoLaunchedTimes: number,\r\n\t/**玩家余额 */\r\n\tbalance: number,\r\n\t/**停止模式 */\r\n\tisJumpStop: boolean,\r\n\t/**是否序停 */\r\n\tisSortStop: boolean\r\n}\r\nexport interface IEvent {\r\n\t/**打开自动下注,isToggle：是否反向(如果开启窗台再调用则关闭)*/\r\n\topenAutoLauncher: () => void\r\n\t/**关闭自动下注框 */\r\n\tcloseAutoLauncher: (isClear: boolean) => void,\r\n\t/**手动下注 */\r\n\tmanualBetHandler: () => void,\r\n\t/**打开帮助框 */\r\n\topenHelpPanel: () => void,\r\n\t/**改变下注金额，总下注金额，下注档位positionId和下注档位额度 */\r\n\tchangeBetAmount: (betAmount: number, positionId: number, value: number) => void,\r\n\t/**改变下注档位 */\r\n\t// changePositionId: (positionId) => void\r\n\tchangeSpeedUpSwitch: (isChecked: boolean) => void\r\n}\r\n\r\n@ccclass('phoenix_footer')\r\nexport class phoenix_footer extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\t\tconsole.log(getNodePositionInCanvas(this.propertyNode.props_word_down_goodluck));\r\n\t\tconsole.log(getNodePositionInCanvas(this.propertyNode.props_times));\r\n\t\tconsole.log(getNodePositionInCanvas(this.propertyNode.props_btn_down_putar));\r\n\t\t\r\n\t }\r\n\tprivate timer: number\r\n\t/**按下的时间 */\r\n\tprivate pressTime: number = 0\r\n\t/**按下触发时间 */\r\n\tprivate pressTimeDone: number = 50\r\n\tprivate taskScheduler: TaskScheduler = new TaskScheduler()\r\n\tprivate stepNumber: StepNumber\r\n\tprivate totalTimes: any\r\n\tprotected propertyNode = {\r\n\t\t/**主启动按钮 */\r\n\t\tprops_btn_down_putar: new Node(),\r\n\t\t/**最大下注按钮 */\r\n\t\tprops_btn_down_betMax: new Button(),\r\n\t\t/**帮助开启按钮 */\r\n\t\tprops_btn_down_help: new Button(),\r\n\t\t/**下注降档 */\r\n\t\tprops_btn_down_subtract: new Button(),\r\n\t\t/**下注升档 */\r\n\t\tprops_btn_down_add: new Button(),\r\n\t\t/**下注乘法 */\r\n\t\tprops_Label_down_oneBet: new Label(),\r\n\t\t/**下注金额显示 */\r\n\t\tprops_Label_down_goldNum: new Label(),\r\n\t\t/**goodLuck */\r\n\t\tprops_word_down_goodluck: new Node(),\r\n\t\t/**盈亏 */\r\n\t\tprops_word_down_winNum: new Node(),\r\n\t\t/**自动选择框底板 */\r\n\t\tprops_down_chooseBg: new Node(),\r\n\t\t/**按钮光效 */\r\n\t\tprops_spine_guangquan: new Node(),\r\n\t\t/**PUTAR */\r\n\t\tprops_word_down_pular: new Node(),\r\n\t\t/**次数 */\r\n\t\tprops_times: new Node(),\r\n\t\t/**自动执行的信息 */\r\n\t\tprops_autoLaunch_label: new Node(),\r\n\t\t/**缺钱提示 */\r\n\t\tprops_spr_nomoney: new Node(),\r\n\t\t/**加速Toggle */\r\n\t\tprops_toggle_fast: new Toggle(),\r\n\t\t/**小游戏加次数动画 */\r\n\t\tprops_jiacishu:new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tisRollEnd: true,\r\n\t\tprofit: null,\r\n\t\tsubGameTimes: 0,\r\n\t\tremainSubGameTimes: 0,\r\n\t\tcurrGameType: GameType.NONE,\r\n\t\tviewGameType: GameType.NONE,\r\n\t\tisShowAutoLaunch: false,\r\n\t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\tautoLaunchedTimes: 0,\r\n\t\tbalance: 0,\r\n\t\tisJumpStop: true,\r\n\t\tisSortStop: false\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tmanualBetHandler: () => { },\r\n\t\topenAutoLauncher: () => { },\r\n\t\tcloseAutoLauncher: (isClear: boolean) => { },\r\n\t\topenHelpPanel: () => { },\r\n\t\tchangeBetAmount: (betAmount: number, positionId: number, value: number) => { },\r\n\t\t// changePositionId: (positionId) => void\r\n\t\tchangeSpeedUpSwitch: (isChecked: boolean) => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t// isShowAutoLancherPanel: false,\r\n\t\t\tbaseBetAmountTarget: {\r\n\t\t\t\tpositionId: 0,\r\n\t\t\t\tvalue: 0\r\n\t\t\t},\r\n\t\t\tdisableBetSwitch: false,\r\n\t\t\tisShowNoGlod: false\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_down_putar.on(Node.EventType.TOUCH_START, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\t//鼠标按下\r\n\t\t\tthis.timer = window.setInterval(() => {\r\n\t\t\t\tthis.pressTime += 1\r\n\t\t\t\tif (this.pressTime > this.pressTimeDone) {\r\n\t\t\t\t\twindow.clearInterval(this.timer)\r\n\t\t\t\t\t//打开自动运行\r\n\t\t\t\t\t// this.setState({ isShowAutoLancherPanel: !this.state.isShowAutoLancherPanel })\r\n\t\t\t\t\tif (!this.props) return\r\n\t\t\t\t\tif (!this.props.isRollEnd) return\r\n\t\t\t\t\tthis.props.isShowAutoLaunch ? this.events.closeAutoLauncher(false) : this.events.openAutoLauncher()\r\n\t\t\t\t}\r\n\t\t\t}, 10)\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_down_putar.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\t//鼠标释放\r\n\t\t\twindow.clearInterval(this.timer)\r\n\t\t\tif (this.pressTime > this.pressTimeDone) {\r\n\t\t\t\t//长按完成\r\n\t\t\t} else {\r\n\t\t\t\t//滑槽不管是否是停止状态，都要停止自动\r\n\t\t\t\tthis.dispatch(setRollSpeed(1))\r\n\t\t\t\tthis.events.closeAutoLauncher(true)\r\n\t\t\t\tif (!this.props.isRollEnd) return\r\n\t\t\t\t//短按，下注启动，先关闭自动下注面板\r\n\t\t\t\t// this.setState({ isShowAutoLancherPanel: false })\r\n\t\t\t\tthis.events.manualBetHandler()\r\n\t\t\t\t// this.events.manualBetHandler(this.state.baseBetAmountTarget.positionId)\r\n\t\t\t}\r\n\t\t\tthis.pressTime = 0\r\n\t\t})\r\n\r\n\r\n\t\tthis.propertyNode.props_btn_down_help.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\tthis.events.openHelpPanel()\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_subtract.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayMinCoin()\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\t\tif (index === 0) {\r\n\t\t\t\treturn // 不循环\r\n\t\t\t\tindex = target.length - 1\r\n\t\t\t} else {\r\n\t\t\t\tindex--\r\n\t\t\t}\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[index] })\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_add.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayMaxCoin()\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\t\tif (index === target.length - 1) {\r\n\t\t\t\treturn // 不循环\r\n\t\t\t\tindex = 0\r\n\t\t\t} else {\r\n\t\t\t\tindex++\r\n\t\t\t}\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[index] })\r\n\t\t}, this)\r\n\r\n\t\tthis.propertyNode.props_btn_down_betMax.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayMaxCoin()\r\n\t\t\tif (this.state.disableBetSwitch) return\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tthis.setState({ baseBetAmountTarget: target[target.length - 1] })\r\n\t\t})\r\n\t}\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === \"isRollEnd\") {\r\n\t\t\tconsole.log(\"isRollEnd\",value.cur);\r\n\t\t\tconsole.log(\"this.props.isSortStop\",this.props.isSortStop);\r\n\t\t\tconsole.log(\"this.props.currGameType\",this.props.currGameType);\r\n\t\t\t\r\n\t\t\tthis.propertyNode.props_btn_down_putar.getComponent(Sprite).grayscale = !value.cur\r\n\t\t\t// if (this.props && this.props.currGameType === GameType.SUBGAME1) {\r\n\t\t\t// \tthis.setState({ disableBetSwitch: !value.cur })\r\n\t\t\t// } else {}\r\n\t\t\t\t\r\n\t\t\tthis.setState({ disableBetSwitch: this.props.currGameType === GameType.SUBGAME1 || !value.cur })\r\n\t\t\t\r\n\t\t\tthis.propertyNode.props_spine_guangquan.active = value.cur\r\n\t\t}\r\n\t\tif (key === \"profit\") {\r\n\t\t\tconsole.log(\"profit\",value.cur);\r\n\t\t\t\r\n\t\t\tthis.propertyNode.props_word_down_goodluck.active = this.props.profit === 0\r\n\t\t\tthis.propertyNode.props_word_down_winNum.active = this.props.profit !== 0\r\n\t\t\t// console.log(value.pre, value.cur)\r\n\t\t\tif (value.cur < value.pre) {\r\n\t\t\t\t//如果数值减小，应该是恢复，直接变成目标值\r\n\t\t\t\tthis.propertyNode.props_word_down_winNum.getComponent(Label).string = value.cur\r\n\t\t\t} else {\r\n\t\t\t\tthis.taskScheduler.joinqQueue(new Task((done) => {\r\n\t\t\t\t\tthis.stepNumber && this.stepNumber.stop()\r\n\t\t\t\t\tthis.stepNumber = new StepNumber(value.pre, value.cur, (num) => {\r\n\t\t\t\t\t\tthis.propertyNode && this.propertyNode.props_word_down_winNum && (this.propertyNode.props_word_down_winNum.getComponent(Label).string = (+num.toFixed(0)).formatAmountWithCommas())\r\n\t\t\t\t\t}, () => done())\r\n\t\t\t\t\tif(dataTransfer(DataKeyType.GAME_TYPE) !== GameType.MAIN){\r\n\t\t\t\t\t\tthis.stepNumber.setFlyNode(this.propertyNode.props_word_down_winNum.parent, this.propertyNode.props_word_down_winNum, 40)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.stepNumber.start()\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"subGameTimes\" || key === \"remainSubGameTimes\") {\r\n\t\t\t// this.propertyNode.props_times.getComponent(Label).string = `${this.props.remainSubGameTimes} / ${this.props.subGameTimes}`\r\n\t\t\tthis.propertyNode.props_times.getComponent(Label).string = this.props.remainSubGameTimes + ''\r\n\t\t}\r\n\t\tif (key === \"currGameType\") {\r\n\t\t\tconsole.log(\"this.props.currGameType value.cur\",value.cur);\r\n\t\t\t\r\n\t\t\tthis.setState({ disableBetSwitch: value.cur !== GameType.MAIN })\r\n\t\t}\r\n\t\tif (key === \"viewGameType\") {\r\n\t\t\t// console.log('viewGameType', this.props.viewGameType)\r\n\t\t\tthis.updateBtuFace()\r\n\t\t\t// this.propertyNode.props_word_down_pular.active = (this.props.viewGameType !== GameType.SUBGAME2 && this.props.autoLauncherType === AutoLauncherType.NONE)\r\n\t\t\t// this.propertyNode.props_times.active = this.props.viewGameType === GameType.SUBGAME2\r\n\t\t\t// this.propertyNode.props_autoLaunch_label.active = this.props.viewGameType !== GameType.SUBGAME2 && this.props.autoLauncherType !== AutoLauncherType.NONE\r\n\t\t}\r\n\t\tif (key === \"autoLauncherType\") {\r\n\t\t\tthis.totalTimes = autoLauncherTypeWithTimes[this.props.autoLauncherType]\r\n\t\t\tif (this.props.autoLauncherType === AutoLauncherType.LIMIT) {\r\n\t\t\t\tthis.totalTimes = \"∞\"\r\n\t\t\t} else if (this.props.autoLauncherType === AutoLauncherType.LAMIT_FAST) {\r\n\t\t\t\tthis.totalTimes = \"∞⁺\"\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (key === \"autoLaunchedTimes\") {\r\n\t\t\tif (this.props.autoLauncherType !== AutoLauncherType.NONE) {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `${this.props.autoLaunchedTimes} / ${this.totalTimes}`\r\n\t\t\t} else {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.getComponent(Label).string = `1 / ${this.totalTimes}`\r\n\t\t\t}\r\n\t\t\tthis.updateBtuFace()\r\n\t\t}\r\n\t\tif (key === \"isJumpStop\") {\r\n\t\t\tthis.propertyNode.props_toggle_fast.isChecked = this.props.isSortStop\r\n\t\t}\r\n\t}\r\n\tprivate updateBtuFace() {\r\n\t\t// console.log(\"this.props.currGameType\",this.props.currGameType);\r\n\t\t\r\n\t\tif (this.props.currGameType === GameType.MAIN ) {\r\n\t\t\tthis.propertyNode.props_times.active = false\r\n\t\t\tif (this.props.autoLauncherType !== AutoLauncherType.NONE) {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.active = true\r\n\t\t\t\tthis.propertyNode.props_word_down_pular.active = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.propertyNode.props_autoLaunch_label.active = false\r\n\t\t\t\tthis.propertyNode.props_word_down_pular.active = true\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (this.props.currGameType === GameType.SUBGAME1) {\r\n\t\t\tthis.propertyNode.props_times.active = true\r\n\t\t\tthis.propertyNode.props_autoLaunch_label.active = false\r\n\t\t\tthis.propertyNode.props_word_down_pular.active = false\r\n\t\t}\r\n\t}\r\n\t/**获取自动运行底板 */\r\n\tpublic getAutoLauncherBaseNBoard() {\r\n\t\treturn this.propertyNode.props_down_chooseBg\r\n\t}\r\n\tpublic getProfitBar() {\r\n\t\treturn this.propertyNode.props_word_down_winNum\r\n\t}\r\n\r\n\t/**根据用户级别获取下注金额列表 */\r\n\tprivate getBetListByLevel() {\r\n\t\tconst level = +JSON.parse(sys.localStorage.getItem(\"phoenix\")).lv\r\n\t\tconst betList = config.betSwitcher.find(item => (level => item.level[0] && level < item.level[1]))\r\n\t\treturn betList ? betList.amount : []\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tsktMsgListener.addOnce(SKT_MAG_TYPE.AUTH, \"footer\", () => {\r\n\t\t\tconst target = this.getBetListByLevel()\r\n\t\t\tif (UseSetOption.Instance().option.gameSet.phoenix && UseSetOption.Instance().option.gameSet.phoenix.betTarget) {\r\n\t\t\t\tconst t = target.find(i => i.positionId === UseSetOption.Instance().option.gameSet.phoenix.betTarget.positionId)\r\n\t\t\t\tthis.setState({ baseBetAmountTarget: t || target[0] })\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ baseBetAmountTarget: target[0] })\r\n\t\t\t}\r\n\t\t}, 2)\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.LAUNCHER_BET, \"footer\", (data, error) => {\r\n\t\t\tthis.stepNumber && this.stepNumber.stop()\r\n\t\t}, 10)\r\n\t\tthis.propertyNode.props_toggle_fast.node.on('toggle', (toggle: ToggleComponent) => {\r\n\t\t\tplayBtnClick()\r\n\t\t\tthis.events.changeSpeedUpSwitch(toggle.isChecked)\r\n\t\t}, this);\r\n\t\t// msgListener.add(NORMAL_MAG_TYPE.CHANGE_GAME, 'footer', ({ currGameType }) => {\r\n\t\t// \tthis.propertyNode.props_word_down_pular.active = currGameType !== GameType.SUBGAME2\r\n\t\t// \tthis.propertyNode.props_times.active = currGameType === GameType.SUBGAME2\r\n\t\t// })\r\n\r\n\t\t// this.useState((key, value) => {\r\n\t\t// \t// this.propertyNode.props_down_chooseBg.active = value.cur\r\n\t\t// \tif (value.cur === true) {\r\n\t\t// \t\tthis.events.openAutoLauncher()\r\n\t\t// \t} else {\r\n\t\t// \t\tthis.events.closeAutoLauncher()\r\n\t\t// \t}\r\n\t\t// }, [\"isShowAutoLancherPanel\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_Label_down_oneBet.string = `${config.linesQueue.length} × ${value.cur.value}`\r\n\t\t\tthis.propertyNode.props_Label_down_goldNum.string = (value.cur.value * config.linesQueue.length).formatAmountWithCommas()\r\n\t\t\tthis.events.changeBetAmount(value.cur.value * config.linesQueue.length, value.cur.positionId, value.cur.value)\r\n\t\t\tUseSetOption.Instance().setGameOption(\"phoenix\", { betTarget: value.cur })\r\n\t\t\tthis.setState({ \"isShowNoGlod\": this.props.balance < value.cur.value * config.linesQueue.length })\r\n\t\t\tthis.disableBetSwitch()\r\n\t\t}, [\"baseBetAmountTarget\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_btn_down_betMax.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = value.cur\r\n\t\t\tif (!value.cur) {\r\n\t\t\t\tthis.disableBetSwitch()\r\n\t\t\t}\r\n\t\t\t// !value.cur && this.disableBetSwitch()\r\n\t\t}, [\"disableBetSwitch\"])\r\n\r\n\t\tthis.useState((key, value) => {\r\n\t\t\tthis.propertyNode.props_spr_nomoney.active = value.cur\r\n\t\t}, [\"isShowNoGlod\"])\r\n\t}\r\n\r\n\tpublic getPositionData() {\r\n\t\treturn this.state.baseBetAmountTarget\r\n\t}\r\n\r\n\tprivate disableBetSwitch() {\r\n\t\tif (this.state.disableBetSwitch) { return };\r\n\t\tconst target = this.getBetListByLevel()\r\n\t\tlet index = target.indexOf(this.state.baseBetAmountTarget)\r\n\t\tthis.propertyNode.props_btn_down_add.getComponent(Sprite).grayscale = (index === target.length - 1)\r\n\t\tthis.propertyNode.props_btn_down_subtract.getComponent(Sprite).grayscale = (index === 0)\r\n\t}\r\n\r\n\tprotected destroyCallBack() {\r\n\t\tthis.taskScheduler.destoryQueue()\r\n\t\tsktMsgListener.removeById(\"footer\")\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}