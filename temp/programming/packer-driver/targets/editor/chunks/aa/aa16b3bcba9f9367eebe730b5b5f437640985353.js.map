{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/godWealth111/components/GodWealth_helpPanel.ts"],"names":["_decorator","Button","Color","Label","Node","PageView","Toggle","BaseComponent","playBtnClick","playTurn","initToggle","ccclass","property","GodWealth_helpPanel","propertyNode","props_btn_close","props_guize_sg_1","props_guize_sg_2","props_Toggle_Panel","props_indicator","props_PageView","props","events","closeHandler","start","initState","bindEvent","node","on","EventType","CLICK","EventHandler","TOUCH_MOVE","scrollPageViewListener","useProps","key","value","channelToggleCallback","event","customEventData","toggleArr","target","children","i","length","getComponent","isChecked","getChildByName","color","fromHEX","SCROLL_ENDED","pageView","curPageIdx","scrollToPage","getPages","showIndex","page","num","arr","filter","v","name","startsWith","forEach","item","active","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Button, Color, Component, Label, Node, PageView, Toggle } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { playBtnClick, playTurn } from '../index';\r\nimport { initToggle } from '../../../utils/tool';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\r\n}\r\nexport interface IEvent {\r\n\tcloseHandler: () => void\r\n}\r\n\r\n@ccclass('GodWealth_helpPanel')\r\nexport class GodWealth_helpPanel extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_btn_close: new Button(),\r\n\t\tprops_guize_sg_1: new Node(),\r\n\t\tprops_guize_sg_2:new Node(),\r\n\t\tprops_Toggle_Panel: new Node(),\r\n\t\tprops_indicator: new Node(),\r\n\t\tprops_PageView:new PageView(),\r\n\t\t\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tcloseHandler: () => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_btn_close.node.on(Button.EventType.CLICK, () => {\r\n\t\t\tplayBtnClick()\r\n\t\t\tthis.events.closeHandler()\r\n\t\t}, true)\r\n\t\tinitToggle( this.propertyNode.props_Toggle_Panel,this.node,new GodWealth_helpPanel.EventHandler(),\"GodWealth_helpPanel\",\"channelToggleCallback\" );\r\n\t\tthis.propertyNode.props_guize_sg_1.on(Node.EventType.TOUCH_MOVE, () => {\r\n\t\t\tplayTurn()\r\n\t\t\tthis.scrollPageViewListener()\r\n\r\n\t\t})\r\n\t\tthis.propertyNode.props_guize_sg_2.on(Node.EventType.TOUCH_MOVE, () => {\r\n\t\t\tplayTurn()\r\n\t\t\tthis.scrollPageViewListener()\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\r\n\t}\r\n\t/**Toggle选中金币的回调 效果切换*/ \r\n\tprotected channelToggleCallback(event: Event, customEventData: string) {\r\n\t\t\r\n\t\tconst toggleArr: Node[] = event.target[\"parent\"].children;\r\n\t\tfor (let i = 0; i < toggleArr.length; i++) {      \t\t\t\r\n\t\t\tif (toggleArr[i].getComponent(Toggle).isChecked) {\r\n\t\t\t\ttoggleArr[i].getChildByName(\"Panel_Label\").getComponent(Label).color = new Color().fromHEX(\"#942600\");\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\ttoggleArr[i].getChildByName(\"Panel_Label\").getComponent(Label).color = new Color().fromHEX(\"#F8C55C\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tprivate scrollPageViewListener() {\r\n\t\tif (!this.propertyNode) return\r\n\t\tthis.propertyNode.props_PageView.node.on(PageView.EventType.SCROLL_ENDED, (pageView: PageView) => {\t\t\t\r\n\t\t\tif (pageView.curPageIdx === 0) {\r\n\t\t\t\tpageView.scrollToPage(pageView.getPages().length - 2, 0);\r\n\t\t\t    this.showIndex(0)\r\n\r\n\t\t\t} else if (pageView.curPageIdx + 1 === pageView.getPages().length) {\r\n\t\t\t\tpageView.scrollToPage(1, 0)\r\n\t\t\t    this.showIndex(1)\r\n\r\n\t\t\t} \r\n\t\t\tconst page = pageView.getPages()[pageView.curPageIdx];\r\n\t\t})\r\n\t}\r\n\tprivate showIndex(num) {\r\n\t\tif (!this.propertyNode) return\r\n\t    let arr = this.propertyNode.props_indicator.children.filter(v => v.name.startsWith(\"props_indicator_toggle\"));\r\n\t\tarr.forEach((item,i) => {\r\n\t\t\tif (i === num) {\r\n\t\t\t\titem.getChildByName(\"CheckMark\").active = true;\r\n\t\t\t} else {\r\n\t\t\t\titem.getChildByName(\"CheckMark\").active = false;\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}