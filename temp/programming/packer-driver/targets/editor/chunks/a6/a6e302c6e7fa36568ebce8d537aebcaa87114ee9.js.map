{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/PHOENIX111/viewModel/HeaderViewModel.ts"],"names":["ViewModel","StoreInject","getStore","changeAutoLauncherType","changeGame","changeProfit","changeViewGame","setAutoLaunchedTimes","AutoLauncherType","GameType","HeaderViewModel","constructor","begin","setEvent","clearCacheData","dispatch","NONE","undefined","connect","inject","state","balance","game","isRollEnd","roller","roundAllEnd"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACOA,MAAAA,S;AAAaC,MAAAA,W,iBAAAA,W;;AAIXC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,sB,iBAAAA,sB;AAAwBC,MAAAA,U,iBAAAA,U;AAAYC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,c,iBAAAA,c;AAAgBC,MAAAA,oB,iBAAAA,oB;;AAClEC,MAAAA,gB,iBAAAA,gB;AAAkBC,MAAAA,Q,iBAAAA,Q;;;;;;;;;AAGrBC,MAAAA,e,WADL;AAAA;AAAA,sCAAY;AAAA;AAAA,iCAAZ,C,gBAAD,MACMA,eADN;AAAA;AAAA,kCAC4E;AAC1EC,QAAAA,WAAW,GAAG;AACZ,gBAAM,oBAAN;AACD;;AAESC,QAAAA,KAAK,GAAG;AAChB,eAAKC,QAAL,CAAc;AACZC,YAAAA,cAAc,EAAE,MAAM;AACpB,mBAAKC,QAAL,CAAc;AAAA;AAAA,oEAAuB;AAAA;AAAA,wDAAiBC,IAAxC,CAAd;AACA,mBAAKD,QAAL,CAAc;AAAA;AAAA,gEAAqBE,SAArB,CAAd;AACA,mBAAKF,QAAL,CAAc;AAAA;AAAA,gDAAa,CAAb,CAAd;AACA,mBAAKA,QAAL,CAAc;AAAA;AAAA,4CAAW;AAAA;AAAA,wCAASC,IAApB,CAAd;AACA,mBAAKD,QAAL,CAAc;AAAA;AAAA,oDAAe;AAAA;AAAA,wCAASC,IAAxB,CAAd;AAED;AARW,WAAd;AAUD;;AAEME,QAAAA,OAAO,GAAG;AACf;AACA,eAAKC,MAAL,CAAY,EAAZ,EAAkBC,KAAD,IAAsB;AACrC;AACA,mBAAO;AACLC,cAAAA,OAAO,EAAED,KAAK,CAACE,IAAN,CAAWD,OADf;AAELE,cAAAA,SAAS,EAAEH,KAAK,CAACI,MAAN,CAAaC;AAFnB,aAAP;AAID,WAND;AAOA,iBAAO,IAAP;AACD;;AA5ByE,O;;yBA+B7Df,e","sourcesContent":["import { Node } from \"cc\"\r\nimport ViewModel, { StoreInject } from \"../../../base/ViewModel\"\r\nimport { phoenix_headerComp, IProps, IEvent } from \"../components/phoenix_header\"\r\nimport { StateType } from \"../store/reducer\"\r\nimport dataTransfer, { DataKeyType } from \"../dataTransfer\"\r\nimport { getStore } from \"../store\"\r\nimport { changeAutoLauncherType, changeGame, changeProfit, changeViewGame, setAutoLaunchedTimes } from \"../store/actions/game\"\r\nimport { AutoLauncherType, GameType } from \"../type\"\r\n\r\n@StoreInject(getStore())\r\nclass HeaderViewModel extends ViewModel<phoenix_headerComp, IProps, IEvent> {\r\n  constructor() {\r\n    super('phoenix_headerComp')\r\n  }\r\n\r\n  protected begin() { \r\n    this.setEvent({\r\n      clearCacheData: () => {\r\n        this.dispatch(changeAutoLauncherType(AutoLauncherType.NONE))\r\n        this.dispatch(setAutoLaunchedTimes(undefined));\r\n        this.dispatch(changeProfit(0))\r\n        this.dispatch(changeGame(GameType.NONE))\r\n        this.dispatch(changeViewGame(GameType.NONE))\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  public connect() {\r\n    // console.log('inject', dataTransfer(DataKeyType.BALANCE))\r\n    this.inject({ }, (state: StateType) => {\r\n      // console.log('state.game.balance', state.game.balance)\r\n      return {\r\n        balance: state.game.balance,\r\n        isRollEnd: state.roller.roundAllEnd,\r\n      }\r\n    })\r\n    return this\r\n  }\r\n}\r\n\r\nexport default HeaderViewModel"]}