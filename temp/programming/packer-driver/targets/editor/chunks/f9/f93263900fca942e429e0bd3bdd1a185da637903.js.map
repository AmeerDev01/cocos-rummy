{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/fish/components/Fish_RoomChoose.ts"],"names":["Label","Node","_decorator","BaseComponent","ccclass","property","Fish_RoomChoose","propertyNode","props_exit_game","props_room_1","props_room_2","props_room_3","props","roomInfos","events","enterRoom","roomInfo","exitGame","start","initState","bindEvent","on","EventType","TOUCH_END","useProps","key","value","initRoomInfo","i","length","roomNode","node","getChildByName","updateRoomInfo","getComponent","string","minOne","proportionGold","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,U,OAAAA,U;;AACbC,MAAAA,a,iBAAAA,a;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;iCAcjBI,e,WADZF,OAAO,CAAC,iBAAD,C,gBAAR,MACaE,eADb;AAAA;AAAA,0CAC2E;AAAA;AAAA;AAAA,eAIhEC,YAJgE,GAIjD;AACxBC,YAAAA,eAAe,EAAE,IAAIP,IAAJ,EADO;AAExBQ,YAAAA,YAAY,EAAE,IAAIR,IAAJ,EAFU;AAGxBS,YAAAA,YAAY,EAAE,IAAIT,IAAJ,EAHU;AAIxBU,YAAAA,YAAY,EAAE,IAAIV,IAAJ;AAJU,WAJiD;AAAA,eAUnEW,KAVmE,GAUnD;AACtBC,YAAAA,SAAS,EAAE;AADW,WAVmD;AAAA,eAcnEC,MAdmE,GAclD;AACvBC,YAAAA,SAAS,EAAGC,QAAD,IAAwB,CAAG,CADf;AAEvBC,YAAAA,QAAQ,EAAE,MAAM,CAAG;AAFI,WAdkD;AAAA;;AAC1EC,QAAAA,KAAK,GAAG,CACP;;AAiBSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAEA;;AAESC,QAAAA,SAAS,GAAS;AAC3B,eAAKb,YAAL,CAAkBC,eAAlB,CAAkCa,EAAlC,CAAqCpB,IAAI,CAACqB,SAAL,CAAeC,SAApD,EAA+D,MAAM;AACpE,iBAAKT,MAAL,CAAYG,QAAZ;AACA,WAFD;AAGA;;AAESO,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD;AACpE,cAAID,GAAG,KAAK,WAAZ,EAAyB;AACxB,iBAAKE,YAAL;AACA;AACD;;AACOA,QAAAA,YAAY,GAAG;AACtB,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKhB,KAAL,CAAWC,SAAX,CAAqBgB,MAAzC,EAAiDD,CAAC,EAAlD,EAAsD;AACrD,kBAAMZ,QAAQ,GAAG,KAAKJ,KAAL,CAAWC,SAAX,CAAqBe,CAArB,CAAjB;AACA,kBAAME,QAAQ,GAAG,KAAKC,IAAL,CAAUC,cAAV,CAAyB,iBAAiBJ,CAAC,GAAG,CAArB,CAAzB,CAAjB;AACAE,YAAAA,QAAQ,IAAI,KAAKG,cAAL,CAAoBH,QAApB,EAA8Bd,QAA9B,CAAZ;AACA;AACD;;AAEOiB,QAAAA,cAAc,CAACH,QAAD,EAAiBd,QAAjB,EAAqC;AAC1Dc,UAAAA,QAAQ,CAACE,cAAT,CAAwB,YAAxB,EAAsCE,YAAtC,CAAmDlC,KAAnD,EAA0DmC,MAA1D,GAAmEnB,QAAQ,CAACoB,MAAT,GAAkB,EAArF;AACAN,UAAAA,QAAQ,CAACE,cAAT,CAAwB,WAAxB,EAAqCE,YAArC,CAAkDlC,KAAlD,EAAyDmC,MAAzD,GAAkEnB,QAAQ,CAACqB,cAAT,GAA0B,EAA5F;AAEAP,UAAAA,QAAQ,CAACT,EAAT,CAAYpB,IAAI,CAACqB,SAAL,CAAeC,SAA3B,EAAsC,MAAM;AAC3C,iBAAKT,MAAL,CAAYC,SAAZ,CAAsBC,QAAtB;AACA,WAFD;AAGA;;AAESsB,QAAAA,MAAM,GAAS,CACxB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CACzB;;AAxDyE,O","sourcesContent":["import { Label, Node, _decorator } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { RoomInfo } from '../type';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n}\r\n\r\nexport interface IProps {\r\n\troomInfos: RoomInfo[]\r\n}\r\nexport interface IEvent {\r\n\tenterRoom: (roomInfo: RoomInfo) => void,\r\n\texitGame: () => void,\r\n}\r\n\r\n@ccclass('Fish_RoomChoose')\r\nexport class Fish_RoomChoose extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_exit_game: new Node(),\r\n\t\tprops_room_1: new Node(),\r\n\t\tprops_room_2: new Node(),\r\n\t\tprops_room_3: new Node(),\r\n\t}\r\n\tpublic props: IProps = {\r\n\t\troomInfos: []\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tenterRoom: (roomInfo: RoomInfo) => { },\r\n\t\texitGame: () => { },\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_exit_game.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.exitGame();\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === 'roomInfos') {\r\n\t\t\tthis.initRoomInfo();\r\n\t\t}\r\n\t}\r\n\tprivate initRoomInfo() {\r\n\t\tfor (let i = 0; i < this.props.roomInfos.length; i++) {\r\n\t\t\tconst roomInfo = this.props.roomInfos[i];\r\n\t\t\tconst roomNode = this.node.getChildByName(\"props_room_\" + (i + 1))\r\n\t\t\troomNode && this.updateRoomInfo(roomNode, roomInfo);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateRoomInfo(roomNode: Node, roomInfo: RoomInfo) {\r\n\t\troomNode.getChildByName(\"Label_goin\").getComponent(Label).string = roomInfo.minOne + '';\r\n\t\troomNode.getChildByName(\"Label_pao\").getComponent(Label).string = roomInfo.proportionGold + '';\r\n\r\n\t\troomNode.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.enterRoom(roomInfo)\r\n\t\t})\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\t}\r\n}\r\n\r\n"]}