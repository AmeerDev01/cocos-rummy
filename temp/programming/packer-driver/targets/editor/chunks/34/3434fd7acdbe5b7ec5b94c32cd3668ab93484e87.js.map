{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dragonTiger/components/DragonTiger_onlines.ts"],"names":["_decorator","Label","Node","Animation","BaseComponent","divideNumber","ccclass","property","DragonTiger_onlines","memberData","goldNum","propertyNode","props_label_onlines_num","props_spr_onlines_bg","props","roomLeftInfoVos","roomRightInfoVos","roomInfoSize","gold","memberId","type","memberName","memberBet","winType","winGold","events","onClosePanel","start","initState","goldData","bindEvent","useProps","key","value","string","cur","Math","abs","playWinAni","getComponent","play","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAWC,MAAAA,K,OAAAA,K;AAAMC,MAAAA,I,OAAAA,I;AAAKC,MAAAA,S,OAAAA,S;;AACtBC,MAAAA,a,iBAAAA,a;;AAMDC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAQF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;qCAyBjBQ,mB,WADZF,OAAO,CAAC,qBAAD,C,gBAAR,MACaE,mBADb;AAAA;AAAA,0CAC+E;AAAA;AAAA;AAAA,eACtEC,UADsE;AAAA,eAEtEC,OAFsE,GAErD,EAFqD;AAAA,eAOpEC,YAPoE,GAOrD;AAClBC,YAAAA,uBAAuB,EAAC,IAAIX,KAAJ,EADN;AAExBY,YAAAA,oBAAoB,EAAC,IAAIX,IAAJ;AAFG,WAPqD;AAAA,eAavEY,KAbuE,GAavD;AACtBC,YAAAA,eAAe,EAAC,EADM;AAEhBC,YAAAA,gBAAgB,EAAC,EAFD;AAGhBC,YAAAA,YAAY,EAAC,CAHG;AAItBR,YAAAA,UAAU,EAAC;AACVS,cAAAA,IAAI,EAAE,CADI;AAEVC,cAAAA,QAAQ,EAAE,EAFA;AAGVC,cAAAA,IAAI,EAAC,CAHK;AAIVC,cAAAA,UAAU,EAAC;AAJD,aAJW;AAUtBF,YAAAA,QAAQ,EAAC,EAVa;AAWtBE,YAAAA,UAAU,EAAC,EAXW;AAYtBC,YAAAA,SAAS,EAAC,EAZY;AAatBC,YAAAA,OAAO,EAAC,CAbc;AActBC,YAAAA,OAAO,EAAC;AAdc,WAbuD;AAAA,eA8BvEC,MA9BuE,GA8BtD;AACvBC,YAAAA,YAAY,EAAE,MAAM,CAAG;AADA,WA9BsD;AAAA;;AAG9EC,QAAAA,KAAK,GAAG,CAEJ;;AA6BMC,QAAAA,SAAS,GAAG;AACrB,iBAAO;AACNC,YAAAA,QAAQ,EAAC,EADH;AAENnB,YAAAA,OAAO,EAAC;AAFF,WAAP;AAIA;;AAESoB,QAAAA,SAAS,GAAS,CAE3B;;AAESC,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD;AAC9D,cAAGD,GAAG,KAAG,cAAT,EAAwB;AAC7B,iBAAKrB,YAAL,CAAkBC,uBAAlB,CAA0CsB,MAA1C,GAAiDD,KAAK,CAACE,GAAN,GAAU,EAA3D;AACM;;AACP,cAAGH,GAAG,KAAG,YAAT,EAAsB,CAAE;;AACxB,cAAGA,GAAG,KAAG,SAAT,EAAmB;AAClB,gBAAG,KAAKlB,KAAL,CAAWS,OAAX,KAAqB,CAAxB,EAA0B;AACzB,mBAAKb,OAAL,GAAa;AAAA;AAAA,gDAAa0B,IAAI,CAACC,GAAL,CAASJ,KAAK,CAACE,GAAf,CAAb,CAAb;AAEA;AACD;;AAED,cAAGH,GAAG,KAAG,SAAT,EAAmB;AACT,gBAAGC,KAAK,CAACE,GAAN,KAAY,CAAf,EAAiB,CACzB;AACA;AACD;AACD;;AAGMG,QAAAA,UAAU,GAAG;AACnB,eAAK3B,YAAL,CAAkBE,oBAAlB,CAAuC0B,YAAvC,CAAoDpC,SAApD,EAA+DqC,IAA/D;AACA;;AAISC,QAAAA,MAAM,GAAS,CAExB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA7E6E,O","sourcesContent":["import { _decorator,Label,Node,Animation, instantiate, Sprite,SpriteFrame, tween, Vec3, randomRange, UIOpacity } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { getNodePositionInCanvas, initToggle } from '../../../utils/tool';\r\nimport {MyInfo} from '../store/actions/userInfo';\r\nimport { bundleDragonTiger, mainGameViewModel, sourceManageSeletor } from '../index';\r\nimport { PrefabPathDefine } from '../sourceDefine/prefabDefine';\r\nimport { formatNumber } from './DragonTiger_win';\r\nimport {divideNumber} from './DragonTiger_users';\r\nimport { MemberData, setRoomLeftInfosAction, setRoomRightInfosAction } from '../store/actions/history';\r\nimport { SKT_MAG_TYPE, sktMsgListener } from '../socketConnect';\r\nimport { bundlePkgName } from '../sourceDefine';\r\nimport { playChip, playGetCoin } from '../index';\r\nimport {DragonTiger_users} from './DragonTiger_users';\r\nimport { global } from '../../../hall';\r\nimport { addToastAction } from '../../../hall/store/actions/baseBoard';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\nexport interface IState {\r\n\tgoldData:object\r\n\tgoldNum:number[];\r\n}\r\n\r\nexport interface IProps {\r\n\troomInfoSize:number\r\n\tmemberData:MemberData,\r\n\tmemberId:string,\r\n\tmemberName:string,\r\n\troomLeftInfoVos:MyInfo[],\r\n    roomRightInfoVos:MyInfo[],\r\n\tmemberBet:object,\r\n\twinType:number,\r\n\twinGold:number,\r\n}\r\nexport interface IEvent {\r\n\tonClosePanel:()=>void\r\n}\r\n\r\n\r\n@ccclass('DragonTiger_onlines')\r\nexport class DragonTiger_onlines extends BaseComponent<IState, IProps, IEvent> {\r\n\tprivate memberData:MemberData[];\r\n\tprivate goldNum:number[]=[];\r\n\tstart() { \r\n\r\n    }\r\n\r\n\tprotected propertyNode = {\r\n        props_label_onlines_num:new Label(),\r\n\t\tprops_spr_onlines_bg:new Node(),\r\n\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\troomLeftInfoVos:[],\r\n        roomRightInfoVos:[],\r\n        roomInfoSize:0,\r\n\t\tmemberData:{\r\n\t\t\tgold: 0,\r\n\t\t\tmemberId: \"\",\r\n\t\t\ttype:0,\r\n\t\t\tmemberName:\"\",\r\n\t\t},\r\n\t\tmemberId:\"\",\r\n\t\tmemberName:\"\",\r\n\t\tmemberBet:{},\r\n\t\twinType:0,\r\n\t\twinGold:0,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonClosePanel: () => { }\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\tgoldData:{},\r\n\t\t\tgoldNum:[],\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n      \r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n        if(key===\"roomInfoSize\"){\r\n\t\t\tthis.propertyNode.props_label_onlines_num.string=value.cur+''\r\n        }\r\n\t\tif(key===\"memberData\"){}\r\n\t\tif(key===\"winGold\"){\t\t\r\n\t\t\tif(this.props.winType===2){\r\n\t\t\t\tthis.goldNum=divideNumber(Math.abs(value.cur))\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(key===\"winType\"){\r\n            if(value.cur===2){\r\n\t\t\t\t// this.loseCoin()\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic playWinAni() {\r\n\t\tthis.propertyNode.props_spr_onlines_bg.getComponent(Animation).play()\r\n\t}\r\n\r\n\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}"]}