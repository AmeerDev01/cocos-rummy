{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dfdc/components/BlessedWealthy_jackPot.ts"],"names":["_decorator","instantiate","Label","Node","Sprite","BaseComponent","getNodeByNameDeep","omitStr","global","ccclass","property","BlessedWealthy_jackPot","propertyNode","props_content","props_item","props","jackPotUserArr","events","start","initState","bindEvent","useProps","key","value","console","log","cur","removeAllChildren","forEach","item","index","userItem","loadHeadSprite","avatarIndex","getComponent","string","winningAmount","formatAmountWithCommas","nickName","addChild","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAA+BC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AACzDC,MAAAA,a,iBAAAA,a;;AAGAC,MAAAA,iB,iBAAAA,iB;AAAmBC,MAAAA,O,iBAAAA,O;;AACnBC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;wCAajBW,sB,WADZF,OAAO,CAAC,wBAAD,C,gBAAR,MACaE,sBADb;AAAA;AAAA,0CACkF;AAAA;AAAA;AAAA,eAKpEC,YALoE,GAKrD;AACrBC,YAAAA,aAAa,EAAC,IAAIV,IAAJ,EADO;AAErBW,YAAAA,UAAU,EAAE,IAAIX,IAAJ,EAFS,CAGrB;AACA;AACA;;AALqB,WALqD;AAAA,eAiB1EY,KAjB0E,GAiB1D;AAChBC,YAAAA,cAAc,EAAC;AADC,WAjB0D;AAAA,eAqB1EC,MArB0E,GAqBzD,EArByD;AAAA;;AACjFC,QAAAA,KAAK,GAAG,CAEP;;AAqBSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS,CAE3B;;AAEYC,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD;AACjE,cAAID,GAAG,KAAK,gBAAZ,EAA8B;AAC1BE,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BF,KAAK,CAACG,GAAnC;;AAEA,gBAAIH,KAAK,CAACG,GAAV,EAAe;AACX,mBAAKd,YAAL,CAAkBC,aAAlB,CAAgCc,iBAAhC;AACAJ,cAAAA,KAAK,CAACG,GAAN,CAAUE,OAAV,CAAkB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC/B,oBAAIC,QAAQ,GAAG9B,WAAW,CAAC,KAAKW,YAAL,CAAkBE,UAAnB,CAA1B;AACA;AAAA;AAAA,sCAAOkB,cAAP,CAAsBH,IAAI,CAACI,WAA3B,EAAwC;AAAA;AAAA,4DAAkB,MAAlB,EAA0BF,QAA1B,EAAoCG,YAApC,CAAiD9B,MAAjD,CAAxC,EAF+B,CAEmE;;AAClG;AAAA;AAAA,4DAAkB,YAAlB,EAAgC2B,QAAhC,EAA0CG,YAA1C,CAAuDhC,KAAvD,EAA8DiC,MAA9D,GAAuEN,IAAI,CAACO,aAAL,CAAmBC,sBAAnB,EAAvE;AACA;AAAA;AAAA,4DAAkB,WAAlB,EAA+BN,QAA/B,EAAyCG,YAAzC,CAAsDhC,KAAtD,EAA6DiC,MAA7D,GAAsE;AAAA;AAAA,wCAAQN,IAAI,CAACS,QAAL,GAAgB,EAAxB,EAA4B,EAA5B,CAAtE;AACA,qBAAK1B,YAAL,CAAkBC,aAAlB,CAAgC0B,QAAhC,CAAyCR,QAAzC;AACH,eAND;AAOH;AACJ;AAEP;;AAESS,QAAAA,MAAM,GAAS,CAExB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA1DgF,O","sourcesContent":["import { _decorator, Button, Component, instantiate, Label, Node, Sprite } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { playBtnClick, playTurn } from '../index';\r\nimport { JackPotUserType } from '../type';\r\nimport { getNodeByNameDeep, omitStr } from '../../../utils/tool';\r\nimport { global } from '../../../hall';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n    jackPotUserArr:Array<JackPotUserType>\r\n}\r\nexport interface IEvent {\r\n}\r\n\r\n@ccclass('BlessedWealthy_jackPot')\r\nexport class BlessedWealthy_jackPot extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n    protected propertyNode = {\r\n        props_content:new Node(),\r\n        props_item: new Node(),\r\n        // props_gold_label:new Node(),\r\n        // props_head: new Node(),\r\n        // props_user_name:new Node(),\r\n        \r\n\r\n        \r\n\t\t\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n        jackPotUserArr:[],\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\r\n\t}\r\n\r\n    protected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n        if (key === \"jackPotUserArr\") {\r\n            console.log(\"jackPotUserArr\",value.cur);\r\n            \r\n            if (value.cur) {\r\n                this.propertyNode.props_content.removeAllChildren()\r\n                value.cur.forEach((item, index) => {\r\n                    let userItem = instantiate(this.propertyNode.props_item);\r\n                    global.loadHeadSprite(item.avatarIndex, getNodeByNameDeep(\"head\", userItem).getComponent(Sprite));//加载头像\r\n                    getNodeByNameDeep(\"gold_label\", userItem).getComponent(Label).string = item.winningAmount.formatAmountWithCommas();\r\n                    getNodeByNameDeep(\"user_name\", userItem).getComponent(Label).string = omitStr(item.nickName + \"\", 20);\r\n                    this.propertyNode.props_content.addChild(userItem)\r\n                })\r\n            }\r\n        }\r\n        \r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}