{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/Crash/game/Crash_TopNavigationLayer.ts"],"names":["_decorator","Label","Node","instantiate","Prefab","global","Crash_ViewBase","Crash_DataManager","Crash_WsManager","AudioManager","SoundList","ccclass","property","Crash_TopNavigationLayer","timeAccumulator","start","_nodes","on","EventType","TOUCH_END","getInstance","closeConnect","closeMusic","closeSubGame","playSound","buttonClick","node","game_teen","parent","getChildByName","addChild","openPersonCenter","update","deltaTime","userinfo","getUserInfo","getRoomInfoVos","RoomInfoVos","getComponent","string","length"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAqBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAKC,MAAAA,W,OAAAA,W;AAAYC,MAAAA,M,OAAAA,M;;AAC7CC,MAAAA,M,iBAAAA,M;;AACDC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,iB,iBAAAA,iB;;AACDC,MAAAA,e;;AACCC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,S,iBAAAA,S;;;;;;;;;OAChB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBZ,U;;0CAEjBa,wB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACR,MAAD,C,UAERQ,QAAQ,CAACR,MAAD,C,2BAJb,MACaS,wBADb;AAAA;AAAA,4CAC6D;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAKzDC,eALyD,GAKzC,CALyC;AAAA;;AAMzDC,QAAAA,KAAK,GAAG;AACJ,eAAKC,MAAL,CAAY,UAAZ,EAAwBC,EAAxB,CAA2Bf,IAAI,CAACgB,SAAL,CAAeC,SAA1C,EAAqD,MAAM;AACvD;AAAA;AAAA,oDAAgBC,WAAhB,GAA8BC,YAA9B;AACA;AAAA;AAAA,8CAAaD,WAAb,GAA2BE,UAA3B,CAAsC,MAAI;AACtC;AAAA;AAAA,oCAAOC,YAAP;AACH,aAFD;AAGH,WALD;;AAMA,eAAKP,MAAL,CAAY,aAAZ,EAA2BC,EAA3B,CAA8Bf,IAAI,CAACgB,SAAL,CAAeC,SAA7C,EAAwD,MAAM;AAC1D;AAAA;AAAA,8CAAaC,WAAb,GAA2BI,SAA3B,CAAqC;AAAA;AAAA,wCAAUC,WAA/C;AACA,gBAAIC,IAAI,GAACvB,WAAW,CAAC,KAAKwB,SAAN,CAApB;AACA,iBAAKD,IAAL,CAAUE,MAAV,CAAiBC,cAAjB,CAAgC,MAAhC,EAAwCC,QAAxC,CAAiDJ,IAAjD;AACH,WAJD;;AAKA,eAAKV,MAAL,CAAY,YAAZ,EAA0BC,EAA1B,CAA6Bf,IAAI,CAACgB,SAAL,CAAeC,SAA5C,EAAuD,MAAM;AACzD;AAAA;AAAA,8CAAaC,WAAb,GAA2BI,SAA3B,CAAqC;AAAA;AAAA,wCAAUC,WAA/C;AACC;AAAA;AAAA,kCAAOM,gBAAP,CAAwB,CAAxB,EAFwD,CAGzD;AACA;AACH,WALD;AAMH;;AACDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,eAAKnB,eAAL,IAAwBmB,SAAxB;;AACA,cAAI,KAAKnB,eAAL,IAAwB,CAA5B,EAA+B;AAC3B,iBAAKA,eAAL,GAAuB,CAAvB;AACA,kBAAMoB,QAAQ,GAAG;AAAA;AAAA,wDAAkBd,WAAlB,GAAgCe,WAAhC,EAAjB;;AACA,gBAAGD,QAAQ,IAAIA,QAAQ,CAACE,cAAT,EAAf,EAAyC;AACrC,kBAAIC,WAAW,GAACH,QAAQ,CAACE,cAAT,EAAhB;AACA,mBAAKpB,MAAL,CAAY,aAAZ,EAA2BsB,YAA3B,CAAwCrC,KAAxC,EAA+CsC,MAA/C,GAAsDF,WAAW,CAACG,MAAlE;AACH;AACJ;AACJ;;AAnCwD,O;;;;;iBAExC,I;;;;;;;iBAEI,I","sourcesContent":["import { _decorator,director, Label, Node,instantiate,Prefab } from 'cc';\r\nimport { global } from '../../../hall';\r\nimport {Crash_ViewBase} from \"../BaseView/Crash_ViewBase\";\r\nimport {Crash_DataManager} from \"../manager/Crash_DataManager\";\r\nimport Crash_WsManager from \"../net/Crash_WsManager\";\r\nimport {AudioManager, SoundList} from \"../manager/AudioManager\";\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('TopNavigationLayer')\r\nexport class Crash_TopNavigationLayer extends Crash_ViewBase {\r\n    @property(Prefab)\r\n    game_teen:Prefab=null\r\n    @property(Prefab)\r\n    game_settings:Prefab=null\r\n    timeAccumulator=0\r\n    start() {\r\n        this._nodes['backMian'].on(Node.EventType.TOUCH_END, () => {\r\n            Crash_WsManager.getInstance().closeConnect()\r\n            AudioManager.getInstance().closeMusic(()=>{\r\n                global.closeSubGame()\r\n            })\r\n        })\r\n        this._nodes['btn_history'].on(Node.EventType.TOUCH_END, () => {\r\n            AudioManager.getInstance().playSound(SoundList.buttonClick)\r\n            let node=instantiate(this.game_teen)\r\n            this.node.parent.getChildByName('tips').addChild(node)\r\n        })\r\n        this._nodes['btn_seting'].on(Node.EventType.TOUCH_END, () => {\r\n            AudioManager.getInstance().playSound(SoundList.buttonClick)\r\n             global.openPersonCenter(2)\r\n            // let node=instantiate(this.game_settings)\r\n            // this.node.parent.getChildByName('tips').addChild(node)\r\n        })\r\n    }\r\n    update(deltaTime: number) {\r\n        this.timeAccumulator += deltaTime;\r\n        if (this.timeAccumulator >= 1) {\r\n            this.timeAccumulator = 0;\r\n            const userinfo = Crash_DataManager.getInstance().getUserInfo()\r\n            if(userinfo && userinfo.getRoomInfoVos()){\r\n                let RoomInfoVos=userinfo.getRoomInfoVos()\r\n                this._nodes['label_count'].getComponent(Label).string=RoomInfoVos.length\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]}