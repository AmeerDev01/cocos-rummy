{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/hall/viewModel/CounterViewModel.ts"],"names":["CounterViewModel","ViewModel","colorChangeAction","sizeChangeAction","constructor","begin","connect","inject","state","color","counter","size","window","setTimeout","dispatch"],"mappings":";;;+HAYMA,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAXCC,MAAAA,S;;AAC8BC,MAAAA,iB,iBAAAA,iB;AAAmBC,MAAAA,gB,iBAAAA,gB;;;;;;;;;AAIxD;AACA;AACA;AACA;AACA;AAEMH,MAAAA,gB,GAAN,MAAMA,gBAAN;AAAA;AAAA,kCAAkE;AAChEI,QAAAA,WAAW,GAAG;AACZ,gBAAM,SAAN;AACD;;AAESC,QAAAA,KAAK,GAAG,CAAG;;AAEdC,QAAAA,OAAO,GAAG;AACf,eAAKC,MAAL,CAAY,EAAZ,EAAiBC,KAAD,IAAsB;AACpC,mBAAO;AACLC,cAAAA,KAAK,EAAED,KAAK,CAACE,OAAN,CAAcD,KADhB;AAELE,cAAAA,IAAI,EAAEH,KAAK,CAACE,OAAN,CAAcC;AAFf,aAAP;AAID,WALD;AAOAC,UAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACtB,iBAAKC,QAAL,CAAc;AAAA;AAAA,wDAAkB,SAAlB,CAAd;AACA,iBAAKA,QAAL,CAAc;AAAA;AAAA,sDAAiB,EAAjB,CAAd,EAFsB,CAGtB;AACA;AACA;AACD,WAND,EAMG,IANH;AAOA,iBAAO,IAAP;AACD;;AAvB+D,O;;yBA0BnDd,gB","sourcesContent":["import { Node } from \"cc\"\r\nimport ViewModel from \"../../base/ViewModel\"\r\nimport { ActionTypes, InitStateType, colorChangeAction, sizeChangeAction } from \"../store/actions/counter\"\r\nimport { Counter, IProps, IEvent } from \"../components/demo/Counter\"\r\nimport { StateType } from \"../store/reducer\"\r\n\r\n// export type PropsType = {\r\n//   onChange?: (e: any) => void,\r\n//   color: string,\r\n//   size: number\r\n// }\r\n\r\nclass CounterViewModel extends ViewModel<Counter, IProps, IEvent> {\r\n  constructor() {\r\n    super('Counter')\r\n  }\r\n\r\n  protected begin() { }\r\n\r\n  public connect() {\r\n    this.inject({}, (state: StateType) => {\r\n      return {\r\n        color: state.counter.color,\r\n        size: state.counter.size\r\n      }\r\n    })\r\n\r\n    window.setTimeout(() => {\r\n      this.dispatch(colorChangeAction(\"#FF0200\"))\r\n      this.dispatch(sizeChangeAction(40))\r\n      // this.dispatch({ type: '', payload: {} })\r\n      // console.log(colorChangeAction(\"#c0c0c0\"))\r\n      // this.dispatch({ type: ActionTypes.CHANGE_COLOR, payload: { color: \"#FF0200\" } })\r\n    }, 2000)\r\n    return this\r\n  }\r\n}\r\n\r\nexport default CounterViewModel"]}