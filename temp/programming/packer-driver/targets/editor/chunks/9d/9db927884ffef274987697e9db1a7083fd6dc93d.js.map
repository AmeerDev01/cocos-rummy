{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/hall/viewModel/MarqueeViewModel.ts"],"names":["MarqueeViewModel","ViewModel","SKT_MAG_TYPE","sktMsgListener","constructor","begin","add","MAEQUEE","data","setProps","addInfoQueue","connect","inject","state","isInSubGame"],"mappings":";;;wHAMMA,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALCC,MAAAA,S;;AAGEC,MAAAA,Y,iBAAAA,Y;AAA2BC,MAAAA,c,iBAAAA,c;;;;;;;;;AAE9BH,MAAAA,gB,GAAN,MAAMA,gBAAN;AAAA;AAAA,kCAAyE;AACvEI,QAAAA,WAAW,GAAG;AACZ,gBAAM,gBAAN;AACD;;AAESC,QAAAA,KAAK,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA,gDAAeC,GAAf,CAAmB;AAAA;AAAA,4CAAaC,OAAhC,EAAyC,MAAzC,EAAkDC,IAAD,IAAU;AACzD,iBAAKC,QAAL,CAAc;AACZC,cAAAA,YAAY,EAAEF;AADF,aAAd;AAGD,WAJD;AAKD;;AAEMG,QAAAA,OAAO,GAAG;AACf,eAAKC,MAAL,CAAY,EAAZ,EAAiBC,KAAD,IAAsB;AACpC,mBAAO;AACLC,cAAAA,WAAW,EAAE,KADR,CACa;;AADb,aAAP;AAGD,WAJD;AAKA,iBAAO,IAAP;AACD;;AA5BsE,O;;yBA+B1Dd,gB","sourcesContent":["import { Node } from \"cc\"\r\nimport ViewModel from \"../../base/ViewModel\"\r\nimport { Common_Marquee, IProps, IEvent } from \"../../common/components/Common_Marquee\"\r\nimport { StateType } from \"../store/reducer\"\r\nimport { SKT_MAG_TYPE, sktInstance, sktMsgListener } from \"../socketConnect\"\r\n\r\nclass MarqueeViewModel extends ViewModel<Common_Marquee, IProps, IEvent> {\r\n  constructor() {\r\n    super('Common_Marquee')\r\n  }\r\n\r\n  protected begin() {\r\n    // this.setProps({\r\n    //   addInfoQueue: [{\r\n    //     content: \"这是一段测试跑马灯信息，跑5次\",\r\n    //     count: 5,\r\n    //     intervalSeconds: 0,\r\n    //     priority: 1\r\n    //   }]\r\n    // })\r\n    sktMsgListener.add(SKT_MAG_TYPE.MAEQUEE, \"main\", (data) => {\r\n      this.setProps({\r\n        addInfoQueue: data\r\n      })\r\n    })\r\n  }\r\n\r\n  public connect() {\r\n    this.inject({}, (state: StateType) => {\r\n      return {\r\n        isInSubGame: false//state.baseBoard.subGameInfo ? true : false\r\n      }\r\n    })\r\n    return this\r\n  }\r\n}\r\n\r\nexport default MarqueeViewModel"]}