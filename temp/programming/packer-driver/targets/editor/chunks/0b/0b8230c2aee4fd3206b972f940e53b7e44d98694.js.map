{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dragonTiger/components/DragonTiger_title.ts"],"names":["_decorator","Node","BaseComponent","ruleViewModel","setViewModel","playBtnClick","global","lang","addToastAction","ccclass","property","DragonTiger_title","isOpenMenu","propertyNode","props_btn_title_return","props_btn_title_menu","props_btn_title_set","props_btn_title_help","props","memberBet","winType","events","onClosePanel","returnHall","openMenuPanel","openHelpPenel","openSetPanel","start","initState","bindEvent","on","EventType","TOUCH_END","Object","keys","length","hallDispatch","content","write","k","palyingModule","GameExit","placeStr","undefined","isUnMount","useProps","key","value","toggleCallback","event","customEventData","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator,Node } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { initToggle } from '../../../utils/tool';\r\nimport {ruleViewModel, setViewModel} from '../ViewModel/DragonTigerTitleViewModel';\r\nimport { playBtnClick } from '../music';\r\nimport { global, lang } from '../../../hall';\r\nimport { addToastAction } from '../../../hall/store/actions/baseBoard';\r\nimport { setMemberBetAction } from '../store/actions/history';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tmemberBet:object,\r\n  winType:number,\r\n}\r\nexport interface IEvent {\r\n\t  onClosePanel:()=>void\r\n    returnHall: () => void;\r\n    openMenuPanel: () => void;\r\n    openHelpPenel: () => void;\r\n    openSetPanel: () => void;\r\n}\r\n\r\n\r\n@ccclass('DragonTiger_title')\r\nexport class DragonTiger_title extends BaseComponent<IState, IProps, IEvent> {\r\n  private isOpenMenu=false;\r\n\tstart() { }\r\n\r\n\tprotected propertyNode = {\r\n        // 返回按钮\r\n        props_btn_title_return: new Node(),\r\n        // 菜单按钮\r\n        props_btn_title_menu: new Node(),\r\n        // 菜单-设置\r\n        props_btn_title_set: new Node(),\r\n        // 菜单—说明\r\n        props_btn_title_help: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n    memberBet:null,\r\n    winType:0,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\t    onClosePanel: () => { },\r\n        returnHall: () => {},\r\n        openMenuPanel: () => {},\r\n        openHelpPenel: () => {},\r\n        openSetPanel: () => {},\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n        this.propertyNode.props_btn_title_return.on(Node.EventType.TOUCH_END,() => {\r\n          playBtnClick();\r\n          if (this.props.memberBet && Object.keys(this.props.memberBet).length != 0 ) {\r\n            global.hallDispatch(addToastAction({ content: lang.write(k => k.palyingModule.GameExit,{},{ placeStr:\"您正在游戏中，退出失败，请游戏结束后重试。\" }) }));\r\n            return;\r\n          }\r\n          this.events.returnHall();\r\n        });\r\n        this.propertyNode.props_btn_title_menu.on(Node.EventType.TOUCH_END, () => {\r\n    \r\n            this.events.openMenuPanel();\r\n            playBtnClick();\r\n        });\r\n        this.propertyNode.props_btn_title_help.on(Node.EventType.TOUCH_END, () => {\r\n          playBtnClick();\r\n          if(ruleViewModel===undefined){\r\n            this.events.openHelpPenel();\r\n          \r\n        }else{\r\n          if(ruleViewModel.isUnMount){\r\n            this.events.openHelpPenel();\r\n          }\r\n        }\r\n          \r\n        });\r\n        this.propertyNode.props_btn_title_set.on(Node.EventType.TOUCH_END, () => {\r\n          playBtnClick();\r\n          if(setViewModel===undefined){\r\n              this.events.openSetPanel();\r\n            \r\n          }else{\r\n            if(setViewModel.isUnMount){\r\n              this.events.openSetPanel();\r\n            }\r\n          }\r\n        });\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n     if(key===\"winType\"){}\r\n     if(key===\"memberBet\"){}\r\n\t}\r\n\r\n\ttoggleCallback(event: Event, customEventData: string) {\r\n\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}