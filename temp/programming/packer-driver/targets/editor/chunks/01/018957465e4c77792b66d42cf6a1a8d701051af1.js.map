{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/thorV2/components/ThorV2_Footer.ts"],"names":["_decorator","Button","Color","Label","Node","Toggle","BaseComponent","setAutoLauncherInfo","updateDialogInfo","updatePositionId","updateSubGameAnimationPlayInfo","updateManualSpeedStatus","updateRollerStatus","updateSpeedStatus","AutoLauncherType","calBetAmount","DialogType","GameType","isAuto","RollerStatus","config","StepNumber","cacheData","thorv2_Audio","mainViewModel","SoundPathDefine","global","getNodeByNameDeep","ccclass","property","ThorV2_Footer","isLongPress","stepNumber","executeEnding","propertyNode","props_startButton","props_toggle_fast","props_min_btn","props_max_btn","props_btn_down_auto","props_word_down_goodluck","props_word_down_winNum","props_betAmount","props_autoLaunch_label","props_spr_nomoney","props","rollerStatus","END","autoLauncherInfo","betDropDownlist","positionId","winloss","subGameWinloss","gameTypeInfo","lastGameType","MAIN","currGameType","viewGameType","leftCount","gold","betAmount","events","onSendBet","onOpenRule","onOpenAuto","longPressHandleCallback","start","initState","longPressHandle","node","isValid","unscheduleLong","showOrHideBetDropDownlist","unschedule","undefined","bindEvent","on","EventType","CLICK","isMain","isEnd","openShop","isSubGame","isChangeGame","RUNNING","dispatch","rollerLaunchResult","ENDING","TOGGLE","e","playOneShot","BUTTONCLICK","isChecked","amount","betSwitcher","isBtnDisable","getComponent","enabled","MIN_COIN","updateSprMoney","length","MAX_COIN","autoLauncherType","NONE","totalCount","TOUCH_END","listenerBetDropDownListEvent","updateStartButtonAutoType","startBgNode","stopBgNode","active","updateAutoBtn","props_autoLaunch_not_auto","props_autoLaunch_auto","auto","props_autoLaunch_limit","isLimit","string","props_autoLaunch_limit_count","getAutoLauncherType","isRoll","updateStartButtonDisable","updateBtnStatus","isNextSubGame","SUBGAME2","SUBGAME1","LIMIT","LAMIT_FAST","updateBtnDisableStatus","isDisable","btnNode","getChildByName","updateMaxMinBetDisableStatus","isMaxBet","updateMaxBetStatus","getMaxBetPositionId","maxBetPositionId","i","updateBetInfo","formatAmountWithCommas","updateScore","value","cur","stop","pre","num","Number","toFixed","set","normalRollOption","numberRollerTime","isWinWild","getRollerIcon","si","dl","rollerId","useProps","key","roundEndAutoHandle","scheduleOnce","changeGameHandle","gameType","param","dialogType","FREE_GAME_ENTRY","params","bindUI","setGoodLuckPos","worldPosition","status","color","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Animation, AnimationState, Button, Color, Game, Label, Node, Sprite, Toggle, tween } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { setAutoLauncherInfo, setBetDropDownList, updateDialogInfo, updatePositionId, updateSubGameAnimationPlayInfo, updateWinloss } from '../store/actions/game';\r\nimport { updateManualSpeedStatus, updateRollerStatus, updateSpeedStatus } from '../store/actions/roller';\r\nimport { AutoLauncherInfo, AutoLauncherType, calBetAmount, DialogType, GameType, GameTypeInfo, getAutoCount, isAuto, isLimit, RollerStatus } from '../type';\r\nimport config from '../config';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { cacheData } from '../dataTransfer';\r\nimport { thorv2_Audio, mainViewModel } from '../index';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nimport { global } from '../../../hall';\r\nimport { getNodeByNameDeep } from '../../../utils/tool';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\t/**滚动状态 */\r\n\trollerStatus: RollerStatus,\r\n\t/** 自动运行信息 */\r\n\tautoLauncherInfo: AutoLauncherInfo\r\n\t/** 是否显示下注下拉列表 */\r\n\tbetDropDownlist: boolean,\r\n\t/** 选择的线id */\r\n\tpositionId: number,\r\n\t/** 当前输赢 */\r\n\twinloss: number,\r\n\t/** 小游戏的总输赢 */\r\n\tsubGameWinloss: number,\r\n\t/**游戏类型信息 */\r\n\tgameTypeInfo: GameTypeInfo,\r\n\t/**余额 */\r\n\tgold: number,\r\n\t/**下注金额 */\r\n\tbetAmount: number,\r\n}\r\nexport interface IEvent {\r\n\tonSendBet: () => void,\r\n\tonOpenRule: () => void,\r\n\tonOpenAuto: () => void,\r\n}\r\n\r\n@ccclass('ThorV2_Footer')\r\nexport class ThorV2_Footer extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\t/**是否长按 */\r\n\tprivate isLongPress = false;\r\n\tprivate stepNumber: StepNumber;\r\n\r\n\tprivate executeEnding = false;\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_startButton: new Node(),\r\n\t\tprops_toggle_fast: new Node(),\r\n\t\tprops_min_btn: new Node(),\r\n\t\tprops_max_btn: new Node(),\r\n\t\tprops_btn_down_auto: new Node(),\r\n\t\t// props_maxBet_btn: new Node(),\r\n\t\t// props_btn_down_help: new Node(),\r\n\t\tprops_word_down_goodluck: new Node(),\r\n\t\tprops_word_down_winNum: new Label(),\r\n\t\tprops_betAmount: new Label(),\r\n\t\tprops_autoLaunch_label: new Label(),\r\n\t\t// props_lineCount: new Label(),\r\n\r\n\t\t// props_bet_dropdownlist: new Node(),\r\n\t\t// props_autoLauncher: new Node(),\r\n\t\tprops_spr_nomoney: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\t/**滚动状态 */\r\n\t\trollerStatus: RollerStatus.END,\r\n\t\tautoLauncherInfo: null,\r\n\t\tbetDropDownlist: false,\r\n\t\tpositionId: 0,\r\n\t\twinloss: -1,\r\n\t\tsubGameWinloss: -1,\r\n\t\tgameTypeInfo: {\r\n\t\t\tlastGameType: GameType.MAIN,\r\n\t\t\tcurrGameType: GameType.MAIN,\r\n\t\t\tviewGameType: GameType.MAIN,\r\n\t\t\tleftCount: 0\r\n\t\t},\r\n\t\tgold: 0,\r\n\t\tbetAmount: 0,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonSendBet: () => { },\r\n\t\tonOpenRule: () => { },\r\n\t\tonOpenAuto: () => { },\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprivate longPressHandleCallback;\r\n\tprivate longPressHandle() {\r\n\t\tif (this.node.isValid) {\r\n\t\t\tthis.unscheduleLong();\r\n\t\t\tthis.isLongPress = true;\r\n\t\t\t// this.dispatch(setBetDropDownList(true))\r\n\t\t\tthis.showOrHideBetDropDownlist(true)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate unscheduleLong() {\r\n\t\tthis.longPressHandleCallback && this.unschedule(this.longPressHandleCallback)\r\n\t\tthis.longPressHandleCallback = undefined;\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\t// this.propertyNode.props_autoLauncher.getComponent(Animation).on(Animation.EventType.FINISHED, (e, state: AnimationState) => {\r\n\t\t// \tif (state.name === 'animation_autoLauncher_down') {\r\n\t\t// \t\tthis.propertyNode.props_bet_dropdownlist.active = false;\r\n\t\t// \t}\r\n\t\t// });\r\n\t\t// this.propertyNode.props_bet_dropdownlist.on(Node.EventType.TOUCH_END, () => {\r\n\t\t// \t// this.dispatch(setBetDropDownList(false));\r\n\t\t// \tthis.showOrHideBetDropDownlist(false)\r\n\t\t// })\r\n\r\n\t\t// this.propertyNode.props_startButton.on(Node.EventType.TOUCH_START, () => {\r\n\t\t// \t// 自动状态下，长按无效\r\n\t\t// \tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo) //自动状态长按无效\r\n\t\t// \t\t|| this.isLongPress\r\n\t\t// \t\t|| !this.isMain() //非主游戏中长按无效\r\n\t\t// \t\t|| this.props.rollerStatus !== RollerStatus.END //未结束滚动长按无效\r\n\t\t// \t\t|| this.longPressHandleCallback) { //正在长按中长按无效\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// \tthis.longPressHandleCallback = this.longPressHandle.bind(this);\r\n\t\t// \tthis.schedule(this.longPressHandleCallback, config.normalRollOption.startButtonLangTime / 1000);\r\n\t\t// })\r\n\t\t// this.propertyNode.props_startButton.on(Node.EventType.TOUCH_CANCEL, () => {\r\n\t\t// \tthis.isLongPress = false;\r\n\t\t// \tthis.unscheduleLong();\r\n\t\t// })\r\n\t\tthis.propertyNode.props_startButton.on(Button.EventType.CLICK, () => {\r\n\t\t\t// this.stepNumberV2.stop();\r\n\t\t\t// this.unscheduleLong();\r\n\t\t\t// if (this.isLongPress) {\r\n\t\t\t// \tthis.isLongPress = false;\r\n\t\t\t// \treturn;\r\n\t\t\t// };\r\n\r\n\t\t\t// 在结束的时候才判断余额是否不足\r\n\t\t\tif (this.isMain() && this.isEnd() && this.props.gold < calBetAmount(this.props.betAmount, this.props.positionId)) {\r\n\t\t\t\tglobal.openShop();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// if (this.props.betDropDownlist) {\r\n\t\t\t// \t// 每次单击都要隐藏自动下注下拉列表\r\n\t\t\t// \t// this.dispatch(setBetDropDownList(false))\r\n\t\t\t// \tthis.showOrHideBetDropDownlist(false)\r\n\t\t\t// }\r\n\t\t\t// 小游戏中自动，所以这里不做任何处理\r\n\t\t\tif (this.isSubGame()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// 只有在主游戏中，点击就是取消自动状态\r\n\t\t\t// if (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t// \tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t// \t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\t\t// \t\ttotalCount: 0,\r\n\t\t\t// \t\tleftCount: 0\r\n\t\t\t// \t}))\r\n\t\t\t// } else {\r\n\t\t\t// 游戏状态不为结束状态并且不切换游戏时，才能下注\r\n\t\t\tif (this.isEnd() && !this.isChangeGame()) {\r\n\t\t\t\tthis.events.onSendBet();\r\n\t\t\t} else if (this.props.rollerStatus === RollerStatus.RUNNING && !this.executeEnding) {\r\n\t\t\t\tthis.dispatch(updateManualSpeedStatus(true));\r\n\t\t\t\tif (cacheData.rollerLaunchResult) {\r\n\t\t\t\t\tthis.dispatch(updateRollerStatus(RollerStatus.ENDING));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.executeEnding = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// }\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_toggle_fast.on(Toggle.EventType.TOGGLE, (e: Toggle) => {\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.BUTTONCLICK)\r\n\t\t\tthis.dispatch(updateSpeedStatus(e.isChecked))\r\n\t\t})\r\n\r\n\t\tconst amount = config.betSwitcher[0].amount;\r\n\t\tthis.propertyNode.props_min_btn.on(Button.EventType.CLICK, () => {\r\n\t\t\tif (this.isBtnDisable() || !this.propertyNode.props_min_btn.getComponent(Button).enabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.MIN_COIN)\r\n\t\t\tif (this.props.positionId <= amount[0].positionId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.dispatch(updatePositionId(this.props.positionId - 1));\r\n\t\t\tthis.updateSprMoney();\r\n\t\t})\r\n\t\tthis.propertyNode.props_max_btn.on(Button.EventType.CLICK, () => {\r\n\t\t\tif (this.isBtnDisable() || !this.propertyNode.props_max_btn.getComponent(Button).enabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.props.positionId >= amount[amount.length - 1].positionId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t\tthis.dispatch(updatePositionId(this.props.positionId + 1));\r\n\t\t\tthis.updateSprMoney();\r\n\t\t})\r\n\r\n\t\tthis.propertyNode.props_btn_down_auto.on(Button.EventType.CLICK, () => {\r\n\t\t\t// if (this.isBtnDisable() || !this.propertyNode.props_max_btn.getComponent(Button).enabled) {\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t\tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t\t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\t\t\t\ttotalCount: 0,\r\n\t\t\t\t\tleftCount: 0\r\n\t\t\t\t}))\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.events.onOpenAuto();\r\n\t\t\t// if (this.props.positionId >= amount[amount.length - 1].positionId) {\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\t// this.dispatch(updatePositionId(this.props.positionId + 1));\r\n\t\t\t// this.updateSprMoney();\r\n\r\n\r\n\t\t})\r\n\t\t// 最大下注\r\n\t\t// this.propertyNode.props_maxBet_btn.on(Node.EventType.TOUCH_END, () => {\r\n\t\t// \t// thorv2_Audio.playOneShot(SoundPathDefine.MAX_COIN)\r\n\t\t// \tif (this.isBtnDisable() || !this.propertyNode.props_maxBet_btn.getComponent(Button).enabled) {\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// \tthis.dispatch(updatePositionId(this.getMaxBetPositionId()));\r\n\t\t// })\r\n\t\t// 帮助按钮\r\n\t\t// this.propertyNode.props_btn_down_help.on(Node.EventType.TOUCH_END, () => {\r\n\t\t// \t// thorv2_Audio.playOneShot(SoundPathDefine.BUTTONCLICK)\r\n\t\t// \t// this.events.onOpenRule();\r\n\t\t// })\r\n\r\n\t\tthis.propertyNode.props_spr_nomoney.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tglobal.openShop();\r\n\t\t})\r\n\r\n\t\tthis.listenerBetDropDownListEvent();\r\n\t}\r\n\r\n\tprivate isEnd() {\r\n\t\treturn this.props.rollerStatus === RollerStatus.END;\r\n\t}\r\n\r\n\tprivate updateStartButtonAutoType() {\r\n\t\tconst startBgNode = getNodeByNameDeep(\"props_word_down_pular\", this.propertyNode.props_startButton);\r\n\t\tconst stopBgNode = getNodeByNameDeep(\"props_scrollingThePicture\", this.propertyNode.props_startButton);\r\n\t\t// const autoNode = getNodeByNameDeep(\"props_times\", this.propertyNode.props_startButton);\r\n\t\t// const limitNode = getNodeByNameDeep(\"props_autoLaunch_label\", this.propertyNode.props_startButton);\r\n\t\t// const auto = isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\r\n\t\t// 开始按钮背景，\r\n\t\tstartBgNode.active = this.props.rollerStatus === RollerStatus.END;\r\n\t\t// 停止滚动按钮背景\r\n\t\tstopBgNode.active = this.props.rollerStatus !== RollerStatus.END;\r\n\r\n\t\t// if (!this.isMain()) {\r\n\t\t// \t// autoNode.active = false;\r\n\t\t// \t// limitNode.active = false;\r\n\r\n\t\t// \t// 开始按钮背景，\r\n\t\t// \tstartBgNode.active = this.props.rollerStatus === RollerStatus.END;\r\n\t\t// \t// 停止滚动按钮背景\r\n\t\t// \tstopBgNode.active = this.props.rollerStatus !== RollerStatus.END;\r\n\t\t// } else {\r\n\t\t// \t// 开始按钮背景，\r\n\t\t// \tstartBgNode.active = this.props.rollerStatus === RollerStatus.END;\r\n\t\t// \t// 停止滚动按钮背景\r\n\t\t// \tstopBgNode.active = this.props.rollerStatus !== RollerStatus.END;\r\n\r\n\t\t// \tif (auto) {\r\n\t\t// \t\t// \tautoNode.active = !this.isLimit();\r\n\t\t// \t\t// \tlimitNode.active = this.isLimit();\r\n\t\t// \t\t// \tif (!this.isLimit()) {\r\n\t\t// \t\t// \t\tautoNode.getComponent(Label).string = this.props.autoLauncherInfo.leftCount + \"/\" + this.props.autoLauncherInfo.totalCount;\r\n\t\t// \t\t// \t} else {\r\n\t\t// \t\t// \t\tlimitNode.getComponent(Label).string = this.props.autoLauncherInfo.leftCount + \"\";\r\n\t\t// \t\t// \t}\r\n\t\t// \t\t// } else {\r\n\t\t// \t\t// \tautoNode.active = false;\r\n\t\t// \t\t// \tlimitNode.active = false;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tthis.updateAutoBtn();\r\n\t}\r\n\r\n\tprivate updateAutoBtn() {\r\n\t\tconst props_autoLaunch_not_auto = getNodeByNameDeep(\"props_autoLaunch_not_auto\", this.propertyNode.props_btn_down_auto);\r\n\t\tconst props_autoLaunch_auto = getNodeByNameDeep(\"props_autoLaunch_auto\", this.propertyNode.props_btn_down_auto);\r\n\t\tconst auto = isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\r\n\t\tif (!this.isMain()) {\r\n\t\t\tprops_autoLaunch_not_auto.active = true;\r\n\t\t\tprops_autoLaunch_auto.active = false;\r\n\t\t} else {\r\n\t\t\tprops_autoLaunch_not_auto.active = !auto;\r\n\t\t\tprops_autoLaunch_auto.active = auto;\r\n\t\t\tconst props_autoLaunch_label = getNodeByNameDeep(\"props_autoLaunch_label\", props_autoLaunch_auto);\r\n\t\t\tconst props_autoLaunch_limit = getNodeByNameDeep(\"props_autoLaunch_limit\", props_autoLaunch_auto);\r\n\t\t\tif (auto) {\r\n\t\t\t\tprops_autoLaunch_label.active = !this.isLimit();\r\n\t\t\t\tprops_autoLaunch_limit.active = this.isLimit();\r\n\t\t\t\tif (!this.isLimit()) {\r\n\t\t\t\t\tprops_autoLaunch_label.getComponent(Label).string = this.props.autoLauncherInfo.leftCount + \"/\" + this.props.autoLauncherInfo.totalCount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst props_autoLaunch_limit_count = getNodeByNameDeep(\"props_autoLaunch_limit_count\", props_autoLaunch_limit);\r\n\t\t\t\t\tprops_autoLaunch_limit_count.getComponent(Label).string = this.props.autoLauncherInfo.leftCount + \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getAutoLauncherType() {\r\n\t\treturn this.props.autoLauncherInfo ? this.props.autoLauncherInfo.autoLauncherType : AutoLauncherType.NONE;\r\n\t}\r\n\r\n\t/**是否滚动中 */\r\n\tprivate isRoll() {\r\n\t\treturn this.props.rollerStatus !== RollerStatus.END;\r\n\t}\r\n\r\n\t/**\r\n\t * 更新开始按钮是否禁用\r\n\t */\r\n\tprivate updateStartButtonDisable() {\r\n\t\tconst auto = isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\t\t// 结束过程中和不是自动游戏时，开始按钮禁用\r\n\t\tif (this.props.rollerStatus === RollerStatus.ENDING) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_startButton, true);\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_startButton, false);\r\n\t\t}\r\n\t}\r\n\r\n\t/**是否准备切换游戏 */\r\n\tprivate isChangeGame() {\r\n\t\treturn this.props.gameTypeInfo && this.props.gameTypeInfo.viewGameType !== this.props.gameTypeInfo.currGameType;\r\n\t}\r\n\r\n\tprivate isSubGame() {\r\n\t\treturn this.props.gameTypeInfo.viewGameType !== GameType.MAIN;\r\n\t}\r\n\r\n\tprivate isNextSubGame() {\r\n\t\treturn this.props.gameTypeInfo.currGameType === GameType.SUBGAME2 || this.props.gameTypeInfo.currGameType === GameType.SUBGAME1;\r\n\t}\r\n\r\n\t/**\r\n\t * 是否无限运行\r\n\t * @returns \r\n\t */\r\n\tprivate isLimit() {\r\n\t\tif (!this.props.autoLauncherInfo) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (this.props.autoLauncherInfo.autoLauncherType === AutoLauncherType.LIMIT ||\r\n\t\t\tthis.props.autoLauncherInfo.autoLauncherType === AutoLauncherType.LAMIT_FAST) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate isBtnDisable() {\r\n\t\t// 非主游戏和切换游戏时禁用按钮\r\n\t\tif (!this.isMain() || this.isChangeGame()) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn this.props.rollerStatus !== RollerStatus.END || isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo);\r\n\t}\r\n\r\n\t/**更新按钮禁用状态 */\r\n\tprivate updateBtnDisableStatus() {\r\n\t\tconst isDisable = this.isBtnDisable();\r\n\t\tthis.updateBtnStatus(this.propertyNode.props_max_btn, isDisable);\r\n\t\tthis.updateBtnStatus(this.propertyNode.props_min_btn, isDisable);\r\n\t\t// this.updateBtnStatus(this.propertyNode.props_maxBet_btn, isDisable);\r\n\r\n\r\n\t\tthis.propertyNode.props_max_btn.getComponent(Button).enabled = !isDisable;\r\n\t\tthis.propertyNode.props_min_btn.getComponent(Button).enabled = !isDisable;\r\n\t\t// this.propertyNode.props_maxBet_btn.getComponent(Button).enabled = !isDisable;\r\n\t}\r\n\r\n\tprivate updateBtnStatus(btnNode: Node, isDisable: boolean) {\r\n\t\tbtnNode.getChildByName(\"disable\").active = isDisable;\r\n\t\tbtnNode.getComponent(Button).enabled = !isDisable;\r\n\t}\r\n\r\n\t/**更新最大最小状态 */\r\n\tprivate updateMaxMinBetDisableStatus() {\r\n\t\tconst amount = config.betSwitcher[0].amount;\r\n\t\tconst isMaxBet = this.props.positionId >= amount[amount.length - 1].positionId;\r\n\r\n\t\tconst isDisable = this.isBtnDisable();\r\n\r\n\t\tif (isDisable || amount[amount.length - 1].positionId === this.props.positionId) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_max_btn, true);\r\n\t\t\tthis.propertyNode.props_max_btn.getComponent(Button).enabled = false;\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_max_btn, false);\r\n\t\t\tthis.propertyNode.props_max_btn.getComponent(Button).enabled = true;\r\n\t\t}\r\n\r\n\t\tif (isDisable || this.props.positionId === amount[0].positionId) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_min_btn, true);\r\n\t\t\tthis.propertyNode.props_min_btn.getComponent(Button).enabled = false;\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_min_btn, false);\r\n\t\t\tthis.propertyNode.props_min_btn.getComponent(Button).enabled = true;\r\n\t\t}\r\n\r\n\t\tconst auto = isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)\r\n\t\tif ((isDisable && !auto) || this.isSubGame()) {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_btn_down_auto, true);\r\n\t\t\tthis.propertyNode.props_btn_down_auto.getComponent(Button).enabled = false;\r\n\t\t} else {\r\n\t\t\tthis.updateBtnStatus(this.propertyNode.props_btn_down_auto, false);\r\n\t\t\tthis.propertyNode.props_btn_down_auto.getComponent(Button).enabled = true;\r\n\t\t}\r\n\r\n\t\tthis.updateMaxBetStatus();\r\n\t}\r\n\r\n\tprivate getMaxBetPositionId() {\r\n\t\tconst amount = config.betSwitcher[0].amount;\r\n\t\tlet maxBetPositionId = 1;\r\n\t\tfor (let i = amount.length - 1; i >= 0; i--) {\r\n\t\t\tconst positionId = amount[i].positionId;\r\n\t\t\tconst betAmount = calBetAmount(this.props.betAmount, positionId)\r\n\t\t\tif (this.props.gold >= betAmount) {\r\n\t\t\t\tmaxBetPositionId = positionId;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxBetPositionId;\r\n\t}\r\n\r\n\tprivate updateMaxBetStatus() {\r\n\t\t// const isMaxBet = this.props.positionId >= this.getMaxBetPositionId();\r\n\r\n\t\t// if (this.isBtnDisable()) {\r\n\t\t// \tthis.updateBtnStatus(this.propertyNode.props_maxBet_btn, true);\r\n\t\t// \tthis.propertyNode.props_maxBet_btn.getComponent(Button).enabled = false;\r\n\t\t// } else {\r\n\t\t// \tthis.updateBtnStatus(this.propertyNode.props_maxBet_btn, false);\r\n\t\t// \tthis.propertyNode.props_maxBet_btn.getComponent(Button).enabled = true;\r\n\t\t// }\r\n\t}\r\n\tprivate updateBetInfo() {\r\n\t\t// const amountInfo = config.betSwitcher[0].amount.find(v => v.positionId === this.props.positionId);\r\n\t\tthis.propertyNode.props_betAmount.string = calBetAmount(this.props.betAmount, this.props.positionId).formatAmountWithCommas();\r\n\t\t// this.propertyNode.props_lineCount.string = config.betAmount + \"x\" + amountInfo.value;\r\n\t}\r\n\r\n\tprivate updateScore(value: { pre: any, cur: any }) {\r\n\t\t// console.log(`updateScore: ${JSON.stringify(value)}`);\r\n\r\n\t\tthis.propertyNode.props_word_down_goodluck.active = value.cur === 0;\r\n\t\tthis.propertyNode.props_word_down_winNum.node.active = value.cur > 0;\r\n\r\n\t\tthis.stepNumber && this.stepNumber.stop();\r\n\t\tthis.stepNumber = new StepNumber(value.pre, value.cur, (num) => {\r\n\t\t\tif (this.node && this.node.isValid) {\r\n\t\t\t\tconst value = Number(num.toFixed(0));\r\n\t\t\t\tthis.propertyNode.props_word_down_winNum.string = value.formatAmountWithCommas();\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.stepNumber.set(config.normalRollOption.numberRollerTime).start();\r\n\t}\r\n\r\n\tprivate isWinWild() {\r\n\r\n\t}\r\n\r\n\tprivate getRollerIcon() {\r\n\t\tconst si = cacheData.rollerLaunchResult.dl.si[0]\r\n\t\tsi.rollerId\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps | '_setDone', value: { pre: any, cur: any }) {\r\n\t\t// console.log(`useProps: ${key} ${JSON.stringify(value)}`);\r\n\t\tif (this.node && this.node.isValid) {\r\n\t\t\tif (key === 'rollerStatus') {\r\n\t\t\t\tthis.updateStartButtonDisable();\r\n\t\t\t\tthis.updateStartButtonAutoType();\r\n\t\t\t\tthis.updateBtnDisableStatus();\r\n\t\t\t\tthis.roundEndAutoHandle();\r\n\t\t\t} else if (key === 'autoLauncherInfo') {\r\n\t\t\t\tthis.updateStartButtonAutoType();\r\n\t\t\t\tthis.updateStartButtonDisable();\r\n\t\t\t\tthis.updateBtnDisableStatus();\r\n\t\t\t} else if (key === 'gameTypeInfo') {\r\n\t\t\t\tthis.updateStartButtonAutoType();\r\n\t\t\t\tthis.updateStartButtonDisable();\r\n\t\t\t\tthis.updateBtnDisableStatus();\r\n\t\t\t} else if (key === 'positionId' || key === 'betAmount') {\r\n\t\t\t\tthis.updateBetInfo();\r\n\t\t\t} else if (key === 'winloss' && !this.isSubGame()) {\r\n\t\t\t\tthis.updateScore(value);\r\n\t\t\t} else if (key === 'subGameWinloss' && this.isSubGame()) {\r\n\t\t\t\tthis.updateScore(value);\r\n\t\t\t} else if (key === '_setDone') {\r\n\t\t\t\tthis.updateMaxMinBetDisableStatus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate isMain() {\r\n\t\treturn this.props.gameTypeInfo.viewGameType === GameType.MAIN;\r\n\t}\r\n\r\n\tprivate roundEndAutoHandle() {\r\n\t\tif (RollerStatus.END === this.props.rollerStatus) {\r\n\t\t\t// if (this.isChangeGame()) {\r\n\t\t\t// \tthis.changeGameHandle();\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tif (isAuto(this.props.autoLauncherInfo, this.props.gameTypeInfo)) {\r\n\t\t\t\tif (this.isMain()) {\r\n\t\t\t\t\tconst leftCount = this.isLimit() ? this.props.autoLauncherInfo.leftCount + 1 : this.props.autoLauncherInfo.leftCount - 1;\r\n\t\t\t\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t\t\t\tautoLauncherType: this.props.autoLauncherInfo.autoLauncherType,\r\n\t\t\t\t\t\ttotalCount: this.props.autoLauncherInfo.totalCount,\r\n\t\t\t\t\t\tleftCount\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\t\tthis.node.isValid && this.events.onSendBet();\r\n\t\t\t\t}, 0.1)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate changeGameHandle() {\r\n\t\tif (this.props.gameTypeInfo.currGameType === GameType.MAIN) {\r\n\t\t\t// 从小游戏切换到主游戏，关门动画\r\n\t\t\tthis.dispatch(updateSubGameAnimationPlayInfo({\r\n\t\t\t\tgameType: this.props.gameTypeInfo.viewGameType,\r\n\t\t\t\tparam: 1\r\n\t\t\t}))\r\n\t\t} else if (this.props.gameTypeInfo.currGameType === GameType.SUBGAME1) {\r\n\t\t\tthis.dispatch(updateDialogInfo({\r\n\t\t\t\tdialogType: DialogType.FREE_GAME_ENTRY,\r\n\t\t\t\tparams: [this.props.gameTypeInfo.leftCount],\r\n\t\t\t}))\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\t// this.propertyNode.props_bet_dropdownlist.active = false;\r\n\t\tmainViewModel.setGoodLuckPos(this.propertyNode.props_word_down_winNum.node.worldPosition);\r\n\t}\r\n\r\n\tprivate listenerBetDropDownListEvent() {\r\n\t\t// this.propertyNode.props_autoLauncher.children.forEach(v => {\r\n\t\t// \tv.on(Node.EventType.TOUCH_END, () => {\r\n\t\t// \t\tconst autoLauncherType = v.name as AutoLauncherType;\r\n\t\t// \t\tconst count = getAutoCount(autoLauncherType);\r\n\t\t// \t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t// \t\t\tautoLauncherType: autoLauncherType,\r\n\t\t// \t\t\ttotalCount: count,\r\n\t\t// \t\t\tleftCount: isLimit(autoLauncherType) ? 1 : count - 1,\r\n\t\t// \t\t}))\r\n\t\t// \t\t// thorv2_Audio.playOneShot(SoundPathDefine.biu)\r\n\t\t// \t\t// this.dispatch(setBetDropDownList(false));\r\n\t\t// \t\tthis.showOrHideBetDropDownlist(false)\r\n\t\t// \t\tthis.events.onSendBet();\r\n\t\t// \t})\r\n\t\t// })\r\n\t}\r\n\r\n\tprivate showOrHideBetDropDownlist(status: boolean) {\r\n\t\t// const pos = this.propertyNode.props_autoLauncher.position;\r\n\t\t// if (status) {\r\n\t\t// \tthis.propertyNode.props_bet_dropdownlist.active = true;\r\n\t\t// \tthis.propertyNode.props_autoLauncher.getComponent(Animation).play(\"animation_autoLauncher_up\");\r\n\t\t// } else {\r\n\t\t// \tthis.propertyNode.props_autoLauncher.getComponent(Animation).play(\"animation_autoLauncher_down\");\r\n\t\t// }\r\n\t}\r\n\r\n\tprivate updateSprMoney() {\r\n\t\tif (this.props.gold < calBetAmount(this.props.betAmount, this.props.positionId)) {\r\n\t\t\tif (!this.propertyNode.props_spr_nomoney.active) {\r\n\t\t\t\tthis.propertyNode.props_spr_nomoney.active = true;\r\n\t\t\t\tthis.propertyNode.props_betAmount.getComponent(Label).color = new Color(144, 144, 134);\r\n\t\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\t\tthis.propertyNode.props_spr_nomoney.active = false;\r\n\t\t\t\t}, 4)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.propertyNode.props_spr_nomoney.active = false;\r\n\t\t\tthis.propertyNode.props_betAmount.getComponent(Label).color = new Color(255, 255, 255);\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\t\tif (this.executeEnding && cacheData.rollerLaunchResult) {\r\n\t\t\tthis.executeEnding = false;\r\n\t\t\tthis.dispatch(updateRollerStatus(RollerStatus.ENDING));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n"]}