{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/qiuqiu/components/Qiuqiu_SendCard.ts"],"names":["Node","_decorator","instantiate","tween","BaseComponent","DeskStatus","OperationType","config","playFapai","ccclass","property","Qiuqiu_SendCard","dealCount","dealIndex","dealTotalCount","propertyNode","props_icon_qiuqiu_paibei","props","deskStatus","playerMap","currActiveSeatIndex","events","getNextSeatIndex","lastIndex","getSeatCardPoint","seatIndex","index","flyCardOverHanler","dealOver","start","initState","bindEvent","useProps","key","value","cur","FIRST_DISTRIBUTE","showAllCard","beginDeal","SECOND_DISTRIBUTE","COUNTDOWNING","PLAYING","isReconnect","reconnectShowCard","getGameNumber","count","forEach","v","gameData","isGame","opType","GIVE_UP","dealNumber","gameNumber","roundDeal","flySeatIndex","startNode","node","getChildByName","flyCard","isValid","rountNumber","done","active","startPos","getPosition","endPos","createFlyCard","flyNode","setPosition","addChild","setWorldPosition","destroy","dealAnimeSpeed","to","worldPosition","call","bindUI","show","children","filter","name","startsWith","dealCardCount","Math","floor","i","update","deltaTime"],"mappings":"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","sourcesContent":["import { Node, Vec3, _decorator, instantiate, tween } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { DeskStatus, OperationType, Player } from '../type';\r\nimport config from '../config';\r\nimport { playFapai } from '../index';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n}\r\n\r\nexport interface IProps {\r\n\tdeskStatus: DeskStatus,\r\n\tplayerMap: Player[],\r\n\tcurrActiveSeatIndex: number,\r\n\tdealCount: number,\r\n}\r\nexport interface IEvent {\r\n\t/**获得下一个位置 */\r\n\tgetNextSeatIndex: (lastIndex: number) => number,\r\n\t/**获得位置的发牌点位 */\r\n\tgetSeatCardPoint: (seatIndex: number, index: number) => Vec3,\r\n\t/**飞牌结束的处理 */\r\n\tflyCardOverHanler: (seatIndex: number, index: number) => void,\r\n\tdealOver: () => void,\r\n}\r\n\r\n@ccclass('Qiuqiu_SendCard')\r\nexport class Qiuqiu_SendCard extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprivate dealCount = 0;\r\n\t/**排队索引 */\r\n\tprivate dealIndex = 1;\r\n\t/**已经发牌的总张数 */\r\n\tprivate dealTotalCount = 0;\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_icon_qiuqiu_paibei: new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tdeskStatus: null,\r\n\t\tplayerMap: [],\r\n\t\tcurrActiveSeatIndex: -1,\r\n\t\tdealCount: 0\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tgetNextSeatIndex: (lastIndex: number) => { return 0 },\r\n\t\tgetSeatCardPoint: (seatIndex: number, index: number) => { return null },\r\n\t\tflyCardOverHanler: (seatIndex: number, index: number) => { },\r\n\t\tdealOver: () => { },\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === 'deskStatus') {\r\n\t\t\tif (value.cur === DeskStatus.FIRST_DISTRIBUTE) {\r\n\t\t\t\tthis.dealTotalCount = 0;\r\n\t\t\t\tthis.dealCount = 0;\r\n\t\t\t\tthis.dealIndex = 1;\r\n\t\t\t\tthis.showAllCard(true);\r\n\t\t\t\tthis.beginDeal(3);\r\n\t\t\t} else if (value.cur === DeskStatus.SECOND_DISTRIBUTE) {\r\n\t\t\t\tthis.beginDeal(4);\r\n\t\t\t} else if (value.cur === DeskStatus.COUNTDOWNING) {\r\n\t\t\t\tthis.showAllCard(false);\r\n\t\t\t} else if (value.cur === DeskStatus.PLAYING && config.isReconnect) {\r\n\t\t\t\tthis.reconnectShowCard();\r\n\t\t\t}\r\n\t\t} else if (key === 'dealCount' && value.cur === DeskStatus.PLAYING && config.isReconnect) {\r\n\t\t\tthis.reconnectShowCard();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getGameNumber() {\r\n\t\tlet count = 0;\r\n\t\tthis.props.playerMap.forEach(v => {\r\n\t\t\tif (v && v.gameData.isGame && v.gameData.opType !== OperationType.GIVE_UP) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn count;\r\n\t}\r\n\r\n\t/**\r\n\t * 开始发牌\r\n\t * @param dealNumber 发牌到第几张牌，比如 3，发3张牌，如果再次设置4，表示从前面的基础，发到第4张牌\r\n\t */\r\n\tprivate beginDeal(dealNumber: number) {\r\n\t\tconst gameNumber = this.getGameNumber()\r\n\t\tthis.roundDeal(gameNumber, dealNumber, this.props.currActiveSeatIndex);\r\n\t}\r\n\r\n\t/**\r\n\t * 圈数发牌\r\n\t * @param gameNumber 游戏人数\r\n\t * @param dealNumber 发牌数量\r\n\t * @param flySeatIndex 发牌开始位置\r\n\t */\r\n\tprivate roundDeal(gameNumber: number, dealNumber: number, flySeatIndex: number) {\r\n\t\tif (this.dealCount >= dealNumber) {\r\n\t\t\tthis.events.dealOver();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.dealCount++;\r\n\t\tconst startNode = this.node.getChildByName(\"prpos_spr_card\" + this.dealIndex)\r\n\t\tthis.flyCard(startNode, this.dealCount, gameNumber, 0, flySeatIndex, () => {\r\n\t\t\tif (this.dealCount < dealNumber) {\r\n\t\t\t\tthis.node.isValid && this.roundDeal(gameNumber, dealNumber, flySeatIndex);\r\n\t\t\t} else {\r\n\t\t\t\tthis.events.dealOver();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 飞牌，使用递归发牌，游戏人数发牌完成之后调用回调方法\r\n\t * @param startNode 飞牌开始位置的节点\r\n\t * @param rountNumber 当前发牌的圈数\r\n\t * @param gameNumber 游戏人数\r\n\t * @param count 发牌次数\r\n\t * @param flySeatIndex 发牌位置\r\n\t * @param done 发牌完成之后的回调方法\r\n\t * @returns \r\n\t */\r\n\tprivate flyCard(startNode: Node, rountNumber: number, gameNumber: number, count: number, flySeatIndex: number, done) {\r\n\t\tif (count >= gameNumber) {\r\n\t\t\tdone && done();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.dealTotalCount++;\r\n\t\tif (this.dealTotalCount % 4 === 0) { // 一圈最后一个人开始发牌时隐藏开发飞牌位置的节点\r\n\t\t\tstartNode.active = false;\r\n\t\t\tthis.dealIndex++;\r\n\t\t}\r\n\t\tconst startPos = startNode.getPosition();\r\n\t\tconst seatIndex = flySeatIndex;\r\n\t\tconst endPos = this.events.getSeatCardPoint(seatIndex, rountNumber);\r\n\t\tthis.createFlyCard(startPos, endPos, () => {\r\n\t\t\tthis.events.flyCardOverHanler(seatIndex, rountNumber);\r\n\t\t\tstartNode = this.node.getChildByName(\"prpos_spr_card\" + this.dealIndex)\r\n\t\t\tif (count < gameNumber) {\r\n\t\t\t\tthis.node.isValid && this.flyCard(startNode, rountNumber, gameNumber, ++count, this.events.getNextSeatIndex(seatIndex), done);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * 创建飞牌阶段\r\n\t * @param startPos 开始位置\r\n\t * @param endPos 结束位置\r\n\t * @param done 飞牌过程结束之后回调方法\r\n\t */\r\n\tprivate createFlyCard(startPos: Vec3, endPos: Vec3, done) {\r\n\t\tconst flyNode = instantiate(this.propertyNode.props_icon_qiuqiu_paibei);\r\n\t\tflyNode.active = true;\r\n\t\tflyNode.setPosition(startPos);\r\n\t\tthis.node.addChild(flyNode);\r\n\r\n\t\tif (config.isReconnect) {\r\n\t\t\tflyNode.setWorldPosition(endPos);\r\n\t\t\tthis.node && this.node.isValid && done && done();\r\n\t\t\tflyNode.destroy();\r\n\t\t} else {\r\n\t\t\tplayFapai();\r\n\t\t\tconst dealAnimeSpeed = config.isReconnect ? 0 : config.dealAnimeSpeed;\r\n\t\t\ttween(flyNode).to(dealAnimeSpeed, { worldPosition: endPos }).call(() => {\r\n\t\t\t\tthis.node && this.node.isValid && done && done();\r\n\t\t\t\tflyNode.destroy();\r\n\t\t\t}).start();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\tthis.propertyNode.props_icon_qiuqiu_paibei.active = false;\r\n\t\tthis.showAllCard(false);\r\n\t}\r\n\r\n\tprivate showAllCard(show: boolean) {\r\n\t\tthis.node.children.filter(v => v.name.startsWith(\"prpos_spr_card\")).forEach(v => v.active = show);\r\n\t}\r\n\r\n\tprivate reconnectShowCard() {\r\n\t\tlet dealCardCount = 0;\r\n\t\tthis.dealTotalCount = this.props.dealCount;\r\n\t\t// 累计已发的牌数量\r\n\t\tthis.props.playerMap.filter(v => v && v.gameData.isGame).forEach(v => {\r\n\t\t\tif (v.gameData.dealCardCount > dealCardCount) {\r\n\t\t\t\tdealCardCount = v.gameData.dealCardCount;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.dealCount = dealCardCount;\r\n\t\t// 发牌索引本身是从1开始，这里要加上1\r\n\t\tthis.dealIndex = Math.floor(this.dealTotalCount / 4) + 1\r\n\r\n\t\tthis.showAllCard(true);\r\n\t\tfor (let i = 1; i < this.dealIndex; i++) {\r\n\t\t\tthis.node.getChildByName(\"prpos_spr_card\" + i).active = false;\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}