{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/common/fish/FishLabelFntManager.ts"],"names":["FishLabelFntManager","ObjectClassType","constructor","objectPool","showAddScoreList","bUseRotation","rootNode","flfmOnEndCall","obj","setUseState","resumeOrgin","getRootNode","init","uninit","setUseSkew","buse","getUseSkew","pushShowAddScore","push","play","spos","number","id","mul","fObj","getObject","type_fish_fnt","setEndCallback","update","dt","forEach","v","filter","getAddScoreState"],"mappings":";;;gGAUaA,mB;;;;;;;;;;;;;;;;;;;;;;;;AAJJC,MAAAA,e,iBAAAA,e;;;;;;;AANT;AACA;AACA;;;AAOA;qCACaD,mB,GAAN,MAAMA,mBAAN,CAA0B;AAK/BE,QAAAA,WAAW,CAACC,UAAD,EAAyB;AAAA,eAJ5BC,gBAI4B,GAJO,IAIP;AAAA,eAH5BC,YAG4B,GAHb,KAGa;AAAA,eAF5BF,UAE4B;AAAA,eAD5BG,QAC4B;AAClC,eAAKH,UAAL,GAAkBA,UAAlB;AACD;;AAEMI,QAAAA,aAAa,CAACC,GAAD,EAAoB;AACtC,cAAIA,GAAJ,EAAS;AACPA,YAAAA,GAAG,CAACC,WAAJ,CAAgB,KAAhB;AACAD,YAAAA,GAAG,CAACE,WAAJ;AACD;AACF;;AAEMC,QAAAA,WAAW,GAAG;AACnB,iBAAO,KAAKL,QAAZ;AACD;;AAEMM,QAAAA,IAAI,CAACN,QAAD,EAAiB;AAC1B,eAAKA,QAAL,GAAgBA,QAAhB;AACA,eAAKF,gBAAL,GAAwB,EAAxB;AACD;;AAEMS,QAAAA,MAAM,GAAG;AACd,eAAKT,gBAAL,GAAwB,IAAxB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACD;;AAEMS,QAAAA,UAAU,CAACC,IAAD,EAAO;AACtB,eAAKV,YAAL,GAAoBU,IAApB;AACD;;AAEMC,QAAAA,UAAU,GAAG;AAClB,iBAAO,KAAKX,YAAZ;AACD;;AAEMY,QAAAA,gBAAgB,CAACT,GAAD,EAAoB;AACzC,cAAIA,GAAJ,EAAS;AACP,iBAAKJ,gBAAL,CAAsBc,IAAtB,CAA2BV,GAA3B;AACD;AACF;;AAEMW,QAAAA,IAAI,CAACC,IAAD,EAAOC,MAAP,EAAuBC,EAAvB,EAA2BC,GAA3B,EAAgC;AACzC,cAAIC,IAAI,GAAG,KAAKrB,UAAL,CAAgBsB,SAAhB,CAA0B;AAAA;AAAA,kDAAgBC,aAA1C,EAAyDJ,EAAzD,CAAX;;AACA,cAAIE,IAAJ,EAAU;AACRA,YAAAA,IAAI,CAACf,WAAL,CAAiB,IAAjB;AACAe,YAAAA,IAAI,CAACG,cAAL,CAAoB,KAAKpB,aAAzB;AACAiB,YAAAA,IAAI,CAACL,IAAL,CAAUC,IAAV,EAAgBC,MAAhB,EAAwBE,GAAxB;AACD;AACF;;AAEMK,QAAAA,MAAM,CAACC,EAAD,EAAK;AAChB,eAAKzB,gBAAL,CAAsB0B,OAAtB,CAA8BC,CAAC,IAAIA,CAAC,CAACH,MAAF,CAASC,EAAT,CAAnC;AACA,eAAKzB,gBAAL,GAAwB,KAAKA,gBAAL,CAAsB4B,MAAtB,CAA6BD,CAAC,IAAIA,CAAC,CAACE,gBAAF,EAAlC,CAAxB;AACD;;AAxD8B,O","sourcesContent":["/**\r\n  金钱字体对象管理\r\n */\r\n\r\nimport { Node } from \"cc\";\r\nimport { FishLabelFnt } from \"./FishLabelFnt\";\r\nimport { ObjectClassType, ObjectPool } from \"./ObjectPool\"\r\n\r\n\r\n////////////////////////////////////////-\r\nexport class FishLabelFntManager {\r\n  private showAddScoreList: FishLabelFnt[] = null\r\n  private bUseRotation = false\r\n  private objectPool: ObjectPool;\r\n  private rootNode: Node;\r\n  constructor(objectPool: ObjectPool) {\r\n    this.objectPool = objectPool\r\n  }\r\n\r\n  public flfmOnEndCall(obj: FishLabelFnt) {\r\n    if (obj) {\r\n      obj.setUseState(false)\r\n      obj.resumeOrgin()\r\n    }\r\n  }\r\n\r\n  public getRootNode() {\r\n    return this.rootNode\r\n  }\r\n\r\n  public init(rootNode: Node) {\r\n    this.rootNode = rootNode;\r\n    this.showAddScoreList = []\r\n  }\r\n\r\n  public uninit() {\r\n    this.showAddScoreList = null\r\n    this.bUseRotation = false\r\n  }\r\n\r\n  public setUseSkew(buse) {\r\n    this.bUseRotation = buse\r\n  }\r\n\r\n  public getUseSkew() {\r\n    return this.bUseRotation\r\n  }\r\n\r\n  public pushShowAddScore(obj: FishLabelFnt) {\r\n    if (obj) {\r\n      this.showAddScoreList.push(obj)\r\n    }\r\n  }\r\n\r\n  public play(spos, number: number, id, mul) {\r\n    let fObj = this.objectPool.getObject(ObjectClassType.type_fish_fnt, id) as FishLabelFnt\r\n    if (fObj) {\r\n      fObj.setUseState(true)\r\n      fObj.setEndCallback(this.flfmOnEndCall)\r\n      fObj.play(spos, number, mul)\r\n    }\r\n  }\r\n\r\n  public update(dt) {\r\n    this.showAddScoreList.forEach(v => v.update(dt));\r\n    this.showAddScoreList = this.showAddScoreList.filter(v => v.getAddScoreState());\r\n  }\r\n}\r\n\r\n\r\n\r\n"]}