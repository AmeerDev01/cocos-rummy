{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandar/components/Bandar_bet_history.ts"],"names":["_decorator","instantiate","Node","Sprite","tween","Vec3","Animation","BaseComponent","mainGameViewModel","sourceManageSelector","SpriteFramePathDefine","TaskScheduler","Task","GameStatus","ccclass","property","Bandar_bet_history","taskScheduler","oldAllResultList","newAllResultList","propertyNode","props_layout_icon_black","props_layout_icon_red","props_layout_icon_plum","props_layout_icon_diamond","props_spr_bet_icon","props","result1","result2","result3","result4","gameStatus","events","start","initState","bindEvent","useProps","key","value","cur","length","createNewResult","WAIT","parentNode","resultItem","isTween","children","position","offset","iconNode","newResultList","oldAllResult","resultII","joinqQueue","done","isUnMount","forEach","item","index","childNode","getComponent","spriteFrame","getSpriteFrame","setPosition","x","y","push","addChild","play","v","i","node","removeChild","to","call","createResult","result","removeAllChildren","fileName","BANDAR_HISTORY_WIN","BANDAR_HISTORY_LOSE","getFile","source","bindUI","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator,instantiate,Node, Sprite, SpriteFrame, tween, Vec3, Animation } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { getNodeByNameDeep, getNodePositionInCanvas, initToggle } from '../../../utils/tool';\r\nimport { mainGameViewModel, sourceManageSelector } from '../index';\r\nimport { SpriteFramePathDefine } from '../sourceDefine/spriteDefine';\r\nimport TaskScheduler, { Task } from '../../../utils/TaskScheduler';\r\nimport { GameStatus } from '../type';\r\nimport { HistoryItem } from '../store/actions/history';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tresult1:number[],\r\n\tresult2:number[],\r\n\tresult3:number[],\r\n\tresult4:number[],\r\n\tgameStatus:GameStatus\r\n}\r\nexport interface IEvent {\r\n\t\r\n}\r\n\r\n\r\n@ccclass('Bandar_bet_history')\r\nexport class Bandar_bet_history extends BaseComponent<IState, IProps, IEvent> {\r\n\tprivate taskScheduler = new TaskScheduler();\r\n\tprivate oldAllResultList = [];\r\n\tprivate newAllResultList = []\r\n\tstart() {}\r\n\r\n\tprotected propertyNode = {\r\n        props_layout_icon_black: new Node(),\r\n\t\tprops_layout_icon_red: new Node(),\r\n\t\tprops_layout_icon_plum: new Node(),\r\n\t\tprops_layout_icon_diamond: new Node(),\r\n\t\tprops_spr_bet_icon: new Node(),\r\n\t\t// props_bet_history_list:new Node(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tresult1:[],\r\n\t\tresult2:[],\r\n\t\tresult3:[],\r\n\t\tresult4:[],\r\n\t\tgameStatus:null\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\t\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key == \"result1\") { \r\n\t\t\t// console.log(\"result1\",value.cur);\r\n\t\t\tif (!value.cur && value.cur.length === 0) return;\r\n\t\t\tthis.createNewResult(this.propertyNode.props_layout_icon_black,value.cur,true) ;\r\n\t\r\n\t\t}\r\n\t\tif (key == \"result2\") {\r\n\t\t\tif (!value.cur && value.cur.length === 0) return;\r\n\t\t\t\r\n\t\t\tthis.createNewResult(this.propertyNode.props_layout_icon_red,value.cur,true);\r\n\r\n\t\t}\r\n\t\tif (key == \"result3\") { \r\n\t\t\tif (!value.cur && value.cur.length === 0) return;\r\n\t\t\t\r\n\t\t\tthis.createNewResult(this.propertyNode.props_layout_icon_plum,value.cur,true);\r\n\r\n\t\t}\r\n\t\tif (key == \"result4\") { \r\n\t\t\tif (!value.cur && value.cur.length === 0) return;\r\n\t\t\t\r\n\t\t\tthis.createNewResult(this.propertyNode.props_layout_icon_diamond,value.cur,true) ;\r\n\r\n\t\t}\r\n\t\tif(key===\"gameStatus\"){\r\n\t\t\tif(value.cur === GameStatus.WAIT){\r\n\t\t\t\tif(this.newAllResultList.length !== 0){\r\n\t\t\t\t\tthis.oldAllResultList = [...this.newAllResultList]\r\n\t\t\t\t\tthis.newAllResultList = []\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tprivate createNewResult(parentNode:Node, resultItem:number[], isTween: boolean = true){\r\n\t\tconst children = parentNode.children;\r\n\r\n\t\t// let position=children[1].getPosition();\r\n\t\tlet position = new Vec3(-66,-2,0);\r\n\t\tconst offset = 18;\r\n\t\tconst iconNode = instantiate(this.propertyNode.props_spr_bet_icon);//克隆输赢图标\r\n        let newResultList = []\r\n\t\tlet oldAllResult = []\r\n\t\tconst resultII = resultItem;\r\n\t\tthis.taskScheduler.joinqQueue(new Task((done) => {\r\n\t\t\tif (mainGameViewModel.isUnMount || !resultItem || !resultII) return;\r\n\t\t\tresultII.forEach((item,index)=>{\r\n\t\t\t\tconst childNode = instantiate(iconNode);//克隆输赢图标\r\n\t\r\n\t\t\t\tchildNode.getComponent(Sprite).spriteFrame = this.getSpriteFrame(item)\r\n\t\t\t\tif(index === resultII.length - 1){\r\n\t\r\n\t\t\t\t\tchildNode.setPosition(new Vec3(position.x + offset*(index-1), -2))\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchildNode.setPosition(new Vec3(position.x + offset*index, position.y))\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tnewResultList.push(childNode)\r\n\t\t\t\tthis.newAllResultList.push(childNode)\r\n\t\t\t\r\n\t\t\t\tparentNode.addChild(childNode)\r\n\t\t\t\tif(index === resultII.length - 1){\r\n\t\t\t\t\tchildNode.getComponent(Animation).play()\r\n\t\t\t\t}\r\n\t\r\n\t\t\t})\r\n\t\t\tdone()\r\n\t\t}), false).joinqQueue(new Task((done) => {\r\n\t\t\tif (mainGameViewModel.isUnMount || !this.oldAllResultList) return;\r\n\t\t\tthis.oldAllResultList.forEach((v,i)=>{//移除后九个节点，避免在移动时出现重影\r\n\t\t\t\tif (i % 10 !== 0) {\r\n\t\t\t\t\tif (!this.node || !parentNode || !parentNode.children) return;\r\n\t\t\t\t\tparentNode.removeChild(v)\r\n\t\t\t\t}else{\r\n\t\t\t\t\toldAllResult.push(v)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tdone()\r\n\t\t}),false).joinqQueue(new Task((done) => {\r\n\t\t\tif (mainGameViewModel.isUnMount || !oldAllResult || !newResultList) return;\r\n\t\t\toldAllResult.forEach((item,i)=>{\r\n\t\t\t\ttween(item).to(0.5,{position:new Vec3(item.position.x-offset,item.position.y)}).call(()=>{\r\n\t\t\t\t\tif (!this.node || !parentNode || !parentNode.children) return;\r\n\t\t\t\t\tparentNode.removeChild(item)\r\n\t\t\t\t}).start()\r\n\t\t\t\t// console.log(this.node);\r\n\t\t\t\tnewResultList.forEach((v,index)=>{\r\n\t\t\t\t\tif(index !== newResultList.length - 1){\r\n\t\t\t\t\t\ttween(v).to(0.5,{position:new Vec3(v.position.x-offset,v.position.y)}).call(()=>{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}).start()\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\r\n\t\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\tdone()\r\n\t\t\t// window.setTimeout(()=>done(),0)\r\n\t\t}),false)\r\n\t\t\r\n\t} \r\n\r\n\tpublic createResult(parentNode:Node, resultItem:number[], isTween: boolean = true){\r\n\r\n\t\tconst children = parentNode.children;\r\n\r\n\t\tlet position = new Vec3(-84,-2,0);\r\n\t\tconst offset = 18;\r\n\t\tconst iconNode = instantiate(this.propertyNode.props_spr_bet_icon);//克隆输赢图标\r\n\t\tconst result = resultItem;\r\n\t\tparentNode.removeAllChildren();\r\n\t\tresult.forEach((item,index)=>{\r\n\t\t\tconst childNode = instantiate(iconNode);//克隆输赢图标\r\n\r\n\t\t\tchildNode.getComponent(Sprite).spriteFrame = this.getSpriteFrame(item)\r\n\r\n\t\t\tchildNode.setPosition(new Vec3(position.x + offset * index, position.y))\r\n            // if(index===0){\r\n\t\t\t// \tthis.oldAllResultList.push(childNode)\r\n\t\t\t// }\r\n\t\t\tthis.oldAllResultList.push(childNode)\r\n\t\t\tparentNode.addChild(childNode)\r\n\t\t\tif(index === result.length-1){\r\n\t\t\t\tchildNode.getComponent(Animation).play()\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t} \r\n\r\n\r\n\tprivate getSpriteFrame(result:number): SpriteFrame {\r\n\t\tlet fileName = '';\r\n\t\tif (result === 1) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_HISTORY_WIN;\r\n\t\t} else if (result === 2) {\r\n\t\t\tfileName = SpriteFramePathDefine.BANDAR_HISTORY_LOSE;\r\n\t\t} \r\n\t\treturn sourceManageSelector().getFile(fileName).source;\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t\t\t\t\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}