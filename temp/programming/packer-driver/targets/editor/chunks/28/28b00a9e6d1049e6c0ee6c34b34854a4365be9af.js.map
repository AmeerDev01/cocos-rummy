{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/qiuqiu/viewModel/MainBoardViewModel.ts"],"names":["ViewModel","StoreInject","ModalBox","BaseViewModel","global","lang","addToastAction","CountdownTool","EffectType","config","playGameBegin","sourceManageSeletor","getPlayer","getRoomUpper","SKT_MAG_TYPE","sktInstance","sktMsgListener","PrefabPathDefine","getStore","beginGameCountdown","changeDealer","changeDeskStatus","changeOperationPlayer","clearRoomData","dealHandCard","joinSeat","operationCountdown","playerBet","playerReady","quitSeat","saveBalanceInfo","saveWinBalanceInfo","updateCallAmount","DeskStatus","OperationType","convertCardValue","convertOpType","convertServerAction","GameRuleViewModel","MineViewModel","OperationViewModel","OpponentViewModel","SendCardViewModel","MainBoardViewModel","constructor","roomInfo","tableId","onComplate","myChairId","memberId","mineViewModel","opponentViewModels","sendCardViewModel","operationViewModel","openationCountdownTool","beginGameCountdownTool","begin","initSeat","initSendCardViewModel","initOperationViewModel","listenerSocket","setPanel","mountView","getFile","SET_PANEL","source","appendTo","viewNode","setEvent","openSetPanel","toggle","comp","showToggle","openShopPanel","openShop","onQuitRoom","quitRoom","dealerBeginOut","getSeatFlyClipStartPos","seatIndex","getFlyChipStartPosition","viewModel","onQuitGame","onChangeRoom","openGameRule","prefabs_quiqui_modal","effectType","EFFECT1","isModal","i","seatNumber","prefabs_quiqui_mine","getPlayerWrapNode","getHealerPosition","connect","push","prefabName","prefabs_quiqui_left1","prefabs_quiqui_left2","prefabs_quiqui_left3","prefabs_quiqui_right3","prefabs_quiqui_right2","prefabs_quiqui_right1","opponentViewModel","ready","props","gold","lower","Instance","show","content","write","k","palyingModule","ExceedUpper","placeStr","type","sendSktMessage","READY","roomId","isGameIn","playerMap","gameData","isGame","notGameIn","deskStatus","WAITING","CLSOE","COUNTDOWNING","getBeginGameCountdown","dispatch","GameExit","c","countdown","QUIT_ROOM","isReconnect","clearData","unMount","changeRoom","CHANGE_ROOM","gameId","stopCountdown","playerOp","opType","betAmount","PLAYER_OP","chairId","action","enterGame","player","isSelf","isReady","setPlayerSeatIndex","unMountCallBack","removeListener","stop","undefined","remove","BEGIN_GAME_COUNTDOWN","GAME_STATE_CHANGE","PUSH_DEALER","PUSH_DEAL","BALANCE","SECOND_PUSH_DEAL","add","data","isValid","currActiveSeatIndex","coutndown","time","Date","now","bankerId","beginGameBetAnte","startCountdown","values","pokers","map","v","smallNum","bigNum","stage","window","setTimeout","FIRST_DISTRIBUTE","cards","scheduleOnce","SECOND_DISTRIBUTE","fourCard","concat","memBerInfo","qiuqiuNext","completionPlayer","key","Object","hasOwnProperty","call","callAmount","leftTime","balances","forEach","poker","memBerGold","winloss","node","pushQuitRoom","filter","glodAmount","afee","uid","WAIT","roomLength","length","getNextSeatIndex","lastIndex","count","nextIndex","GIVE_UP","isStart","schedule","getCountdown","start","setCountdown","beginGameCountdownHandle","prefads_quiqui_sendcard","getSeatCardPoint","index","getHandCardPosition","dealOver","PLAYING","prefabs_quiqui_operate","inject","state","deskData","lastActiveSeatIndex","totalBetAmount","newBetInfo","balanceInfos"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAOA,MAAAA,S;AAAaC,MAAAA,W,iBAAAA,W;;AACbC,MAAAA,Q;;AACAC,MAAAA,a;;AACEC,MAAAA,M,iBAAAA,M;AAAQC,MAAAA,I,iBAAAA,I;;AACRC,MAAAA,c,iBAAAA,c;;AACFC,MAAAA,a;;AACEC,MAAAA,U,iBAAAA,U;;AAGFC,MAAAA,M;;AACEC,MAAAA,a,kBAAAA,a;AAAeC,MAAAA,mB,kBAAAA,mB;;AACfC,MAAAA,S,kBAAAA,S;AAAWC,MAAAA,Y,kBAAAA,Y;;AACXC,MAAAA,Y,kBAAAA,Y;AAAcC,MAAAA,W,kBAAAA,W;AAAaC,MAAAA,c,kBAAAA,c;;AAC3BC,MAAAA,gB,kBAAAA,gB;;AACAC,MAAAA,Q,kBAAAA,Q;;AACAC,MAAAA,kB,kBAAAA,kB;AAAoBC,MAAAA,Y,kBAAAA,Y;AAAcC,MAAAA,gB,kBAAAA,gB;AAAkBC,MAAAA,qB,kBAAAA,qB;AAAuBC,MAAAA,a,kBAAAA,a;AAAeC,MAAAA,Y,kBAAAA,Y;AAAcC,MAAAA,Q,kBAAAA,Q;AAAUC,MAAAA,kB,kBAAAA,kB;AAAoBC,MAAAA,S,kBAAAA,S;AAA+BC,MAAAA,W,kBAAAA,W;AAAaC,MAAAA,Q,kBAAAA,Q;AAAUC,MAAAA,e,kBAAAA,e;AAAiBC,MAAAA,kB,kBAAAA,kB;AAAoBC,MAAAA,gB,kBAAAA,gB;;AAExLC,MAAAA,U,kBAAAA,U;AAAYC,MAAAA,a,kBAAAA,a;AAA0EC,MAAAA,gB,kBAAAA,gB;AAAkBC,MAAAA,a,kBAAAA,a;AAAeC,MAAAA,mB,kBAAAA,mB;;AAClKC,MAAAA,iB;;AACAC,MAAAA,a;;AACAC,MAAAA,kB;;AACAC,MAAAA,iB;;AACAC,MAAAA,iB;;;;;;;AAGDC,MAAAA,kB,WADL;AAAA;AAAA,sCAAY;AAAA;AAAA,iCAAZ,C,gBAAD,MACMA,kBADN;AAAA;AAAA,kCAC6E;AAiB5EC,QAAAA,WAAW,CAACC,QAAD,EAAqBC,OAArB,EAAsCC,UAAtC,EAAkDC,SAAlD,EAAqEC,QAArE,EAAuF;AACjG,gBAAM,kBAAN;AADiG,eAhB1FJ,QAgB0F;AAAA,eAf1FC,OAe0F;AAAA,eAd1FC,UAc0F;AAAA,eAb1FC,SAa0F;AAAA,eAZ1FC,QAY0F;AAAA,eAV1FC,aAU0F;AAAA,eAT1FC,kBAS0F,GAThD,EASgD;;AAPlG;AAOkG,eAN1FC,iBAM0F;AAAA,eAL1FC,kBAK0F;AAAA,eAH1FC,sBAG0F;AAAA,eAF1FC,sBAE0F;AAEjG,eAAKV,QAAL,GAAgBA,QAAhB;AACA,eAAKC,OAAL,GAAeA,OAAf;AACA,eAAKC,UAAL,GAAkBA,UAAlB;AACA,eAAKC,SAAL,GAAiBA,SAAjB;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACA;;AAESO,QAAAA,KAAK,GAAG;AACjB,eAAKC,QAAL;AACA,eAAKC,qBAAL;AACA,eAAKC,sBAAL;AACA,eAAKC,cAAL;AAEA,gBAAMC,QAAQ,GAAG;AAAA;AAAA,8CAAiE,iBAAjE,EACfC,SADe,CACL;AAAA;AAAA,4DAAsBC,OAAtB,CAA8B;AAAA;AAAA,oDAAiBC,SAA/C,EAA0DC,MADrD,EAC6DC,QAD7D,CACsE,KAAKC,QAD3E,CAAjB;AAEA,eAAKC,QAAL,CAAc;AACbC,YAAAA,YAAY,EAAGC,MAAD,IAAY;AACzBT,cAAAA,QAAQ,CAACU,IAAT,CAAcC,UAAd,CAAyBF,MAAzB;AACA,aAHY;AAIbG,YAAAA,aAAa,EAAE,MAAM;AACpB;AAAA;AAAA,oCAAOC,QAAP;AACA,aANY;AAObC,YAAAA,UAAU,EAAE,MAAM;AACjB,mBAAKC,QAAL;AACA,aATY;AAUbC,YAAAA,cAAc,EAAE,MAAM,CACrB,CAXY;AAYbC,YAAAA,sBAAsB,EAAGC,SAAD,IAAe;AACtC,kBAAIA,SAAS,KAAK,CAAlB,EAAqB;AACpB,uBAAO,KAAK7B,aAAL,CAAmBqB,IAAnB,CAAwBS,uBAAxB,EAAP;AACA;;AACD,oBAAMC,SAAS,GAAG,KAAK9B,kBAAL,CAAwB4B,SAAxB,CAAlB;AACA,kBAAI,CAACE,SAAL,EAAgB,OAAO,IAAP;AAChB,qBAAOA,SAAS,CAACV,IAAV,CAAeS,uBAAf,EAAP;AACA;AAnBY,WAAd;AAsBAnB,UAAAA,QAAQ,CAACO,QAAT,CAAkB;AACjBc,YAAAA,UAAU,EAAE,MAAM;AACjB,mBAAKN,QAAL;AACA,aAHgB;AAIjBO,YAAAA,YAAY,EAAE,MAAM,CACnB;AACA,aANgB;AAOjBC,YAAAA,YAAY,EAAE,MAAM;AACnB;AAAA;AAAA,4DAAwBtB,SAAxB,CAAkC;AAAA;AAAA,gEAAsBC,OAAtB,CAA8B;AAAA;AAAA,wDAAiBsB,oBAA/C,EAAqEpB,MAAvG,EAA+GC,QAA/G,CAAwH,KAAKC,QAA7H,EAAuI;AAAEmB,gBAAAA,UAAU,EAAE;AAAA;AAAA,8CAAWC,OAAzB;AAAkCC,gBAAAA,OAAO,EAAE;AAA3C,eAAvI;AACA;AATgB,WAAlB;AAYA,eAAKzC,UAAL,IAAmB,KAAKA,UAAL,EAAnB;AACA;;AAEOU,QAAAA,QAAQ,GAAG;AAClB,eAAK,IAAIgC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG;AAAA;AAAA,gCAAOC,UAA3B,EAAuCD,CAAC,EAAxC,EAA4C;AAC3C,gBAAIA,CAAC,KAAK,CAAV,EAAa;AACZ,mBAAKvC,aAAL,GAAqB;AAAA;AAAA,oDAAoBY,SAApB,CAA8B;AAAA;AAAA,gEAAsBC,OAAtB,CAA8B;AAAA;AAAA,wDAAiB4B,mBAA/C,EAAoE1B,MAAlG,EACnBC,QADmB,CACV,KAAKK,IAAL,CAAUqB,iBAAV,EADU,EAEnBxB,QAFmB,CAEV;AACTyB,gBAAAA,iBAAiB,EAAE,MAAM;AACxB,yBAAO,KAAKtB,IAAL,CAAUsB,iBAAV,EAAP;AACA;AAHQ,eAFU,EAOnBC,OAPmB,EAArB;AAQA,mBAAK3C,kBAAL,CAAwB4C,IAAxB,CAA6B,IAA7B;AACA,aAVD,MAUO;AACN,kBAAIC,UAAU,GAAG,EAAjB;AACA,kBAAIP,CAAC,KAAK,CAAV,EAAaO,UAAU,GAAG;AAAA;AAAA,wDAAiBC,oBAA9B,CAAb,KACK,IAAIR,CAAC,KAAK,CAAV,EAAaO,UAAU,GAAG;AAAA;AAAA,wDAAiBE,oBAA9B,CAAb,KACA,IAAIT,CAAC,KAAK,CAAV,EAAaO,UAAU,GAAG;AAAA;AAAA,wDAAiBG,oBAA9B,CAAb,KACA,IAAIV,CAAC,KAAK,CAAV,EAAaO,UAAU,GAAG;AAAA;AAAA,wDAAiBI,qBAA9B,CAAb,KACA,IAAIX,CAAC,KAAK,CAAV,EAAaO,UAAU,GAAG;AAAA;AAAA,wDAAiBK,qBAA9B,CAAb,KACA,IAAIZ,CAAC,KAAK,CAAV,EAAaO,UAAU,GAAG;AAAA;AAAA,wDAAiBM,qBAA9B;AAClB,oBAAMC,iBAAiB,GAAG;AAAA;AAAA,0DAAsBd,CAAtB,EAAyB3B,SAAzB,CAAmC;AAAA;AAAA,gEAAsBC,OAAtB,CAA8BiC,UAA9B,EAA0C/B,MAA7E,EACxBC,QADwB,CACf,KAAKK,IAAL,CAAUqB,iBAAV,EADe,EAExBxB,QAFwB,CAEf;AACTyB,gBAAAA,iBAAiB,EAAE,MAAM;AACxB,yBAAO,KAAKtB,IAAL,CAAUsB,iBAAV,EAAP;AACA;AAHQ,eAFe,EAOxBC,OAPwB,EAA1B;AASA,mBAAK3C,kBAAL,CAAwB4C,IAAxB,CAA6BQ,iBAA7B;AACA;AACD;AACD;;AAEOC,QAAAA,KAAK,GAAG;AACf,cAAI,KAAKjC,IAAL,CAAUkC,KAAV,CAAgBC,IAAhB,GAAuB,KAAK7D,QAAL,CAAc8D,KAArC,IAA8C,KAAKpC,IAAL,CAAUkC,KAAV,CAAgBC,IAAhB,GAAuB;AAAA;AAAA,4CAAa,KAAK7D,QAAlB,CAAzE,EAAsG;AACrG,iBAAK+B,QAAL;AAEA;AAAA;AAAA,sCAASgC,QAAT,GAAoBC,IAApB,CAAyB;AAAEC,cAAAA,OAAO,EAAE;AAAA;AAAA,gCAAKC,KAAL,CAAWC,CAAC,IAAIA,CAAC,CAACC,aAAF,CAAgBC,WAAhC,EAA6C,EAA7C,EAAiD;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAAjD,CAAX;AAA+FC,cAAAA,IAAI,EAAE;AAArG,aAAzB,EAA0I,MAAM;AAC/I;AACA;AACA;AACA,qBAAO,IAAP;AACA,aALD;AAOA;AACA;;AACD;AAAA;AAAA,0CAAYC,cAAZ,CAA2B;AAAA;AAAA,4CAAaC,KAAxC,EAA+C;AAC9CC,YAAAA,MAAM,EAAE,KAAK1E,QAAL,CAAc0E,MADwB;AAE9CzE,YAAAA,OAAO,EAAE,KAAKA,OAFgC;AAG9CG,YAAAA,QAAQ,EAAE,KAAKA;AAH+B,WAA/C;AAKA;;AAEOuE,QAAAA,QAAQ,GAAG;AAClB,cAAI,CAAC;AAAA;AAAA,sCAAU,KAAKjD,IAAL,CAAUkC,KAAV,CAAgBgB,SAA1B,EAAqC,KAAKxE,QAA1C,EAAoDyE,QAApD,CAA6DC,MAAlE,EAA0E;AACzE,mBAAO,KAAP;AACA;;AACD,gBAAMC,SAAS,GAAG,KAAKrD,IAAL,CAAUkC,KAAV,CAAgBoB,UAAhB,KAA+B;AAAA;AAAA,wCAAWC,OAA1C,IAAqD,KAAKvD,IAAL,CAAUkC,KAAV,CAAgBoB,UAAhB,KAA+B;AAAA;AAAA,wCAAWE,KAAjH;;AACA,cAAIH,SAAJ,EAAe;AACd,mBAAO,KAAP;AACA;;AAED,cAAI,KAAKrD,IAAL,CAAUkC,KAAV,CAAgBoB,UAAhB,KAA+B;AAAA;AAAA,wCAAWG,YAA1C,IAA0D,KAAKC,qBAAL,KAA+B,CAA7F,EAAgG;AAC/F,mBAAO,KAAP;AACA;;AAED,eAAKC,QAAL,CAAc;AAAA;AAAA,gDAAe;AAAEpB,YAAAA,OAAO,EAAE;AAAA;AAAA,8BAAKC,KAAL,CAAWC,CAAC,IAAIA,CAAC,CAACC,aAAF,CAAgBkB,QAAhC,EAA0C,EAA1C,EAA8C;AAAEhB,cAAAA,QAAQ,EAAE;AAAZ,aAA9C;AAAX,WAAf,CAAd;AACA,iBAAO,IAAP;AACA;;AAEOc,QAAAA,qBAAqB,GAAG;AAC/B,gBAAMG,CAAC,GAAG,KAAK7D,IAAL,CAAUkC,KAAV,CAAgBtF,kBAA1B;AACA,iBAAOiH,CAAC,GAAGA,CAAC,CAACC,SAAL,GAAiB,CAAzB;AACA;;AAEMzD,QAAAA,QAAQ,GAAG;AACjB;AACA,cAAI,KAAK4C,QAAL,EAAJ,EAAqB;AACpB;AACA;;AACD;AAAA;AAAA,0CAAYH,cAAZ,CAA2B;AAAA;AAAA,4CAAaiB,SAAxC,EAAmD;AAClDrF,YAAAA,QAAQ,EAAE,KAAKA,QADmC;AAElDH,YAAAA,OAAO,EAAE,KAAKA;AAFoC,WAAnD;AAIA;AAAA;AAAA,gCAAOyF,WAAP,GAAqB,KAArB;AACA,eAAKhE,IAAL,CAAUiE,SAAV;AACA,eAAKC,OAAL;AACA,eAAKP,QAAL,CAAc;AAAA;AAAA,8CAAc,CAAd,CAAd;AACA;;AAEOQ,QAAAA,UAAU,GAAG;AACpB;AACA,cAAI,KAAKlB,QAAL,EAAJ,EAAqB;AACpB;AACA;;AAED;AAAA;AAAA,0CAAYH,cAAZ,CAA2B;AAAA;AAAA,4CAAasB,WAAxC,EAAqD;AACpDC,YAAAA,MAAM,EAAE;AAAA;AAAA,kCAAOA,MADqC;AAEpD9F,YAAAA,OAAO,EAAE,KAAKA,OAFsC;AAGpDyE,YAAAA,MAAM,EAAE,KAAK1E,QAAL,CAAc0E;AAH8B,WAArD;AAKA,eAAKhD,IAAL,CAAUiE,SAAV;AACA,eAAKK,aAAL;AACA,eAAKX,QAAL,CAAc;AAAA;AAAA,8CAAc,CAAd,CAAd;AAEA;AAED;AACD;AACA;AACA;AACA;;;AACQY,QAAAA,QAAQ,CAACC,MAAD,EAAwBC,SAAxB,EAA2C;AACzD;AAAA;AAAA,0CAAY3B,cAAZ,CAA2B;AAAA;AAAA,4CAAa4B,SAAxC,EAAmD;AAClDnG,YAAAA,OAAO,EAAE,KAAKA,OADoC;AAElDG,YAAAA,QAAQ,EAAE,KAAKA,QAFmC;AAGlDiG,YAAAA,OAAO,EAAE,KAAKlG,SAHoC;AAIlDgG,YAAAA,SAAS,EAAEA,SAJuC;AAKlDG,YAAAA,MAAM,EAAE;AAAA;AAAA,4DAAoBJ,MAApB;AAL0C,WAAnD;AAOA;;AAEMK,QAAAA,SAAS,CAACC,MAAD,EAAiB;AAChC,cAAIA,MAAM,CAACC,MAAX,EAAmB;AAClBD,YAAAA,MAAM,CAACtE,SAAP,GAAmB,CAAnB;AACA,iBAAKmD,QAAL,CAAc;AAAA;AAAA,sCAASmB,MAAT,CAAd;;AACA,gBAAI,CAACA,MAAM,CAAC3B,QAAP,CAAgB6B,OAArB,EAA8B;AAC7B,mBAAK/C,KAAL;AACA;AACD,WAND,MAMO;AACN,iBAAKgD,kBAAL,CAAwBH,MAAxB;AACA,iBAAKnB,QAAL,CAAc;AAAA;AAAA,sCAASmB,MAAT,CAAd;AACA;AACD;AAED;;;AACQG,QAAAA,kBAAkB,CAACH,MAAD,EAAiB;AAC1C;AACA;AACA,gBAAMtE,SAAS,GAAG,KAAK/B,SAAL,GAAiBqG,MAAM,CAACH,OAAxB,GAAkCG,MAAM,CAACH,OAAP,GAAiB,KAAKlG,SAAxD,GAAoE;AAAA;AAAA,gCAAO0C,UAAP,GAAoB,KAAK1C,SAAzB,GAAqCqG,MAAM,CAACH,OAAlI;AACAG,UAAAA,MAAM,CAACtE,SAAP,GAAmBA,SAAnB;AACA;;AAES0E,QAAAA,eAAe,GAAS;AACjC,eAAKC,cAAL;AACA,eAAKb,aAAL;AACA;;AAEOA,QAAAA,aAAa,GAAG;AACvB,eAAKvF,sBAAL,IAA+B,KAAKA,sBAAL,CAA4BqG,IAA5B,EAA/B;AACA,eAAKpG,sBAAL,IAA+B,KAAKA,sBAAL,CAA4BoG,IAA5B,EAA/B;AACA,eAAKrG,sBAAL,GAA8BsG,SAA9B;AACA,eAAKrG,sBAAL,GAA8BqG,SAA9B;AACA;;AAEOF,QAAAA,cAAc,GAAG;AACxB;AAAA;AAAA,gDAAeG,MAAf,CAAsB;AAAA;AAAA,4CAAavC,KAAnC;AACA;AAAA;AAAA,gDAAeuC,MAAf,CAAsB;AAAA;AAAA,4CAAaC,oBAAnC;AACA;AAAA;AAAA,gDAAeD,MAAf,CAAsB;AAAA;AAAA,4CAAaE,iBAAnC;AACA;AAAA;AAAA,gDAAeF,MAAf,CAAsB;AAAA;AAAA,4CAAaG,WAAnC;AACA;AAAA;AAAA,gDAAeH,MAAf,CAAsB;AAAA;AAAA,4CAAaI,SAAnC;AACA;AAAA;AAAA,gDAAeJ,MAAf,CAAsB;AAAA;AAAA,4CAAaZ,SAAnC;AACA;AAAA;AAAA,gDAAeY,MAAf,CAAsB;AAAA;AAAA,4CAAaK,OAAnC;AACA;AAAA;AAAA,gDAAeL,MAAf,CAAsB;AAAA;AAAA,4CAAavB,SAAnC;AACA;AAAA;AAAA,gDAAeuB,MAAf,CAAsB;AAAA;AAAA,4CAAalB,WAAnC;AACA;AAAA;AAAA,gDAAekB,MAAf,CAAsB;AAAA;AAAA,4CAAaM,gBAAnC;AACA;;AAEOvG,QAAAA,cAAc,GAAG;AACxB;AAAA;AAAA,gDAAewG,GAAf,CAAmB;AAAA;AAAA,4CAAa9C,KAAhC,EAAuC,MAAvC,EAAgD+C,IAAD,IAAU;AACxD,iBAAKnC,QAAL,CAAc;AAAA;AAAA,4CAAYmC,IAAI,CAACpH,QAAjB,CAAd;AACA,WAFD;AAIA;AAAA;AAAA,gDAAemH,GAAf,CAAmB;AAAA;AAAA,4CAAaN,oBAAhC,EAAsD,MAAtD,EAA+DO,IAAD,IAAU;AACvE,gBAAI,KAAK9F,IAAL,IAAa,KAAKA,IAAL,CAAU+F,OAA3B,EAAoC;AACnC,oBAAMvF,SAAS,GAAG,KAAKR,IAAL,CAAUkC,KAAV,CAAgB8D,mBAAlC;AACA,oBAAMC,SAAoB,GAAG;AAC5BnC,gBAAAA,SAAS,EAAEgC,IADiB;AAE5BtF,gBAAAA,SAAS,EAAEA,SAFiB;AAG5B0F,gBAAAA,IAAI,EAAEC,IAAI,CAACC,GAAL;AAHsB,eAA7B;AAMA,mBAAKzC,QAAL,CAAc;AAAA;AAAA,wDAAiB;AAAA;AAAA,4CAAWF,YAA5B,CAAd;AACA,mBAAKE,QAAL,CAAc;AAAA;AAAA,4DAAmBsC,SAAnB,CAAd;AACA;AACD,WAZD;AAaA;AAAA;AAAA,gDAAeJ,GAAf,CAAmB;AAAA;AAAA,4CAAaJ,WAAhC,EAA6C,MAA7C,EAAsDK,IAAD,IAAwB;AAC5E,iBAAKnC,QAAL,CAAc;AAAA;AAAA,8CAAamC,IAAI,CAACO,QAAlB,CAAd;AACA,iBAAKC,gBAAL;AACA,iBAAKC,cAAL,CAAoBT,IAAI,CAAChC,SAAzB,EAAoC,KAApC;AACA,WAJD;AAKA;AAAA;AAAA,gDAAe+B,GAAf,CAAmB;AAAA;AAAA,4CAAaL,iBAAhC,EAAmD,MAAnD,EAA4DM,IAAD,IAAU,CACpE,CADD;AAGA;AAAA;AAAA,gDAAeD,GAAf,CAAmB;AAAA;AAAA,4CAAaH,SAAhC,EAA2C,MAA3C,EAAoDI,IAAD,IAAwB;AAC1E,kBAAMU,MAAM,GAAGV,IAAI,CAACW,MAAL,CAAYC,GAAZ,CAAgBC,CAAC,IAAI;AAAA;AAAA,sDAAiBA,CAAC,CAACC,QAAnB,EAA6BD,CAAC,CAACE,MAA/B,CAArB,CAAf;;AACA,gBAAIf,IAAI,CAACgB,KAAL,KAAe,CAAnB,EAAsB;AACrB,mBAAKnD,QAAL,CAAc;AAAA;AAAA,gDAAa6C,MAAb,CAAd;AACAO,cAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACvB,qBAAKrD,QAAL,CAAc;AAAA;AAAA,0DAAiB;AAAA;AAAA,8CAAWsD,gBAA5B,CAAd;AACA,eAFD,EAEG,IAFH;AAGA,aALD,MAKO,IAAInB,IAAI,CAACgB,KAAL,KAAe,CAAnB,EAAsB;AAC5B;AACA,oBAAMI,KAAK,GAAGV,MAAd;AACA,mBAAK7C,QAAL,CAAc;AAAA;AAAA,gDAAauD,KAAb,CAAd,EAH4B,CAI5B;;AACA,mBAAKlH,IAAL,CAAUmH,YAAV,CAAuB,MAAM;AAC5B,qBAAKxD,QAAL,CAAc;AAAA;AAAA,0DAAiB;AAAA;AAAA,8CAAWyD,iBAA5B,CAAd;AACA,eAFD,EAEG,GAFH;AAGA;AACD,WAhBD;AAiBA;AAAA;AAAA,gDAAevB,GAAf,CAAmB;AAAA;AAAA,4CAAaD,gBAAhC,EAAkD,MAAlD,EAA2DE,IAAD,IAAU;AACnE,kBAAMuB,QAAQ,GAAGvB,IAAI,IAAI,CAAR,GAAYA,IAAZ,GAAmB,CAAC,CAArC;;AACA,gBAAIuB,QAAQ,IAAI,CAAhB,EAAmB;AAClB,oBAAMH,KAAK,GAAG,KAAKlH,IAAL,CAAUkC,KAAV,CAAgBgB,SAAhB,CAA0B,CAA1B,EAA6BC,QAA7B,CAAsC+D,KAAtC,CAA4CI,MAA5C,CAAmDD,QAAnD,CAAd;AACA,mBAAK1D,QAAL,CAAc;AAAA;AAAA,gDAAauD,KAAb,CAAd;AACA,aALkE,CAMnE;;;AACA,iBAAKlH,IAAL,CAAUmH,YAAV,CAAuB,MAAM;AAC5B,mBAAKxD,QAAL,CAAc;AAAA;AAAA,wDAAiB;AAAA;AAAA,4CAAWyD,iBAA5B,CAAd;AACA,aAFD,EAEG,GAFH;AAGA,WAVD;AAWA;AAAA;AAAA,gDAAevB,GAAf,CAAmB;AAAA;AAAA,4CAAanB,SAAhC,EAA2C,MAA3C,EAAoDoB,IAAD,IAAuB;AACzE,iBAAKnC,QAAL,CAAc;AAAA;AAAA,wCAAUmC,IAAI,CAACyB,UAAL,CAAgB7I,QAA1B,EAAoCoH,IAAI,CAACrB,SAAzC,EAAoD;AAAA;AAAA,gDAAcqB,IAAI,CAAClB,MAAnB,EAA2BkB,IAAI,CAACrB,SAAhC,CAApD,EAAgGqB,IAAI,CAACyB,UAAL,CAAgBpF,IAAhH,CAAd;;AACA,gBAAI2D,IAAI,CAAC0B,UAAT,EAAqB;AACpB,oBAAMC,gBAAgB,GAAG3B,IAAI,CAAC0B,UAAL,CAAgBC,gBAAzC;;AACA,mBAAK,MAAMC,GAAX,IAAkBD,gBAAlB,EAAoC;AACnC,oBAAIE,MAAM,CAACC,cAAP,CAAsBC,IAAtB,CAA2BJ,gBAA3B,EAA6CC,GAA7C,CAAJ,EAAuD;AACtD,wBAAMI,UAAU,GAAGL,gBAAgB,CAACC,GAAD,CAAnC;AACA,uBAAK/D,QAAL,CAAc;AAAA;AAAA,4DAAiB+D,GAAjB,EAAsBI,UAAtB,CAAd;AACA;AACD;;AACD,mBAAKnE,QAAL,CAAc;AAAA;AAAA,kEAAsBmC,IAAI,CAAC0B,UAAL,CAAgB9I,QAAtC,CAAd;AACA,mBAAK6H,cAAL,CAAoBT,IAAI,CAAC0B,UAAL,CAAgBO,QAApC;AACA,aAVD,MAUO;AACN,mBAAKxB,cAAL,CAAoB,CAApB;AACA;AACD,WAfD;AAgBA;AAAA;AAAA,gDAAeV,GAAf,CAAmB;AAAA;AAAA,4CAAaF,OAAhC,EAAyC,MAAzC,EAAkDG,IAAD,IAA6B;AAC7E,gBAAIkC,QAAuB,GAAG,EAA9B;AACAlC,YAAAA,IAAI,CAACmC,OAAL,CAAatB,CAAC,IAAI;AACjB,oBAAM7B,MAAM,GAAG;AAAA;AAAA,0CAAU,KAAK9E,IAAL,CAAUkC,KAAV,CAAgBgB,SAA1B,EAAqCyD,CAAC,CAACjI,QAAvC,CAAf;AACA,kBAAIwI,KAAe,GAAGP,CAAC,CAACF,MAAF,GAAWE,CAAC,CAACF,MAAF,CAASC,GAAT,CAAawB,KAAK,IAAI;AAAA;AAAA,wDAAiBA,KAAK,CAACtB,QAAvB,EAAiCsB,KAAK,CAACrB,MAAvC,CAAtB,CAAX,GAAmF,EAAzG;;AACA,kBAAIF,CAAC,CAACjI,QAAF,KAAe,KAAKA,QAAxB,EAAkC;AACjCwI,gBAAAA,KAAK,GAAGpC,MAAM,CAAC3B,QAAP,CAAgB+D,KAAxB;AACA;;AACD,mBAAKvD,QAAL,CAAc;AAAA;AAAA,sDAAgBgD,CAAC,CAACjI,QAAlB,EAA4BiI,CAAC,CAACwB,UAA9B,EAA0CxB,CAAC,CAACxE,IAA5C,EAAkD+E,KAAlD,CAAd;AACAc,cAAAA,QAAQ,CAACxG,IAAT,CAAc;AACb4G,gBAAAA,OAAO,EAAEzB,CAAC,CAACxE,IADE;AAEb3B,gBAAAA,SAAS,EAAEsE,MAAM,CAACtE;AAFL,eAAd;AAIA,aAXD;AAaA,iBAAKmD,QAAL,CAAc;AAAA;AAAA,0DAAmBqE,QAAnB,CAAd;AACA,iBAAKrE,QAAL,CAAc;AAAA;AAAA,sDAAiB;AAAA;AAAA,0CAAWH,KAA5B,CAAd,EAhB6E,CAkB7E;;AACAuD,YAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACvB,kBAAI,KAAKhH,IAAL,CAAUqI,IAAV,CAAetC,OAAnB,EAA4B;AAC3B,qBAAKpC,QAAL,CAAc;AAAA;AAAA,0DAAiB;AAAA;AAAA,8CAAWJ,OAA5B,CAAd;AACA,qBAAKtB,KAAL;AACA;AACD,aALD,EAKG,IALH;AAMA,WAzBD;AA2BA;AAAA;AAAA,gDAAe4D,GAAf,CAAmB;AAAA;AAAA,4CAAa9B,SAAhC,EAA2C,MAA3C,EAAoD+B,IAAD,IAAU;AAC5D,iBAAKwC,YAAL,CAAkBxC,IAAI,CAACpH,QAAvB;AACA,WAFD;AAGA;AAAA;AAAA,gDAAemH,GAAf,CAAmB;AAAA;AAAA,4CAAazB,WAAhC,EAA6C,MAA7C,EAAsD0B,IAAD,IAAU;AAC9D,iBAAKwC,YAAL,CAAkBxC,IAAI,CAACpH,QAAvB;AACA,WAFD;AAGA;AAED;;;AACQ4H,QAAAA,gBAAgB,GAAG;AAC1B,eAAKtG,IAAL,CAAUkC,KAAV,CAAgBgB,SAAhB,CAA0BqF,MAA1B,CAAiC5B,CAAC,IAAIA,CAAC,IAAIA,CAAC,CAACxD,QAAF,CAAWC,MAAtD,EAA8D6E,OAA9D,CAAsEtB,CAAC,IAAI;AAC1E,kBAAMxE,IAAI,GAAGwE,CAAC,CAAC6B,UAAF,GAAe;AAAA;AAAA,kCAAOC,IAAnC;AACA,iBAAK9E,QAAL,CAAc;AAAA;AAAA,wCAAUgD,CAAC,CAAC+B,GAAZ,EAAiB;AAAA;AAAA,kCAAOD,IAAxB,EAA8B;AAAA;AAAA,gDAAcE,IAA5C,EAAkDxG,IAAlD,CAAd;AACA,WAHD;AAIA;;AAEOmG,QAAAA,YAAY,CAAC5J,QAAD,EAAW;AAC9B;AACA;AACA;AACA;AACA;AACA,eAAKiF,QAAL,CAAc;AAAA;AAAA,oCAASjF,QAAT,CAAd;;AAEA,cAAI,KAAKsB,IAAL,CAAUkC,KAAV,CAAgBoB,UAAhB,KAA+B;AAAA;AAAA,wCAAWG,YAA9C,EAA4D;AAC3D;AACA,kBAAMmF,UAAU,GAAG,KAAK5I,IAAL,CAAUkC,KAAV,CAAgBgB,SAAhB,CAA0BqF,MAA1B,CAAiC5B,CAAC,IAAIA,CAAtC,EAAyCkC,MAA5D;;AACA,gBAAID,UAAU,GAAG,CAAjB,EAAoB;AACnB,mBAAKjF,QAAL,CAAc;AAAA;AAAA,wDAAiB;AAAA;AAAA,4CAAWJ,OAA5B,CAAd;AACA;AACD,WAd6B,CAgB9B;;AACA;AAED;;;AACOuF,QAAAA,gBAAgB,CAACC,SAAD,EAAoBC,KAAa,GAAG,CAApC,EAAuC;AAC7D,cAAIA,KAAK,GAAG;AAAA;AAAA,gCAAO7H,UAAf,IAA6B,CAAC,KAAKnB,IAAL,CAAUkC,KAAxC,IAAiD,CAAC,KAAKlC,IAAL,CAAU+F,OAAhE,EAAyE,OAAO,CAAC,CAAR;AACzE,gBAAMkD,SAAS,GAAGF,SAAS,GAAG,CAAZ,IAAiB;AAAA;AAAA,gCAAO5H,UAAxB,GAAqC,CAArC,GAAyC4H,SAAS,GAAG,CAAvE;AACA,gBAAMjE,MAAM,GAAG,KAAK9E,IAAL,CAAUkC,KAAV,CAAgBgB,SAAhB,CAA0B+F,SAA1B,CAAf;;AACA,cAAInE,MAAM,IAAIA,MAAM,CAAC3B,QAAP,CAAgBC,MAA1B,IAAoC0B,MAAM,CAAC3B,QAAP,CAAgBqB,MAAhB,KAA2B;AAAA;AAAA,8CAAc0E,OAAjF,EAA0F;AACzF,mBAAOpE,MAAM,CAACtE,SAAd;AACA;;AACD,iBAAO,KAAKsI,gBAAL,CAAsBG,SAAtB,EAAiC,EAAED,KAAnC,CAAP;AACA;AAED;;;AACOzC,QAAAA,cAAc,CAACyC,KAAD,EAAgBG,OAAgB,GAAG,IAAnC,EAAyC;AAC7D,cAAI,CAAC,KAAKpK,sBAAV,EAAkC;AACjC,iBAAKA,sBAAL,GAA8B;AAAA;AAAA,gDAAmBqK,QAAD,IAAsB;AACrE,kBAAI,KAAKpJ,IAAL,IAAa,KAAKA,IAAL,CAAU+F,OAA3B,EAAoC;AACnC,sBAAMvF,SAAS,GAAG,KAAKR,IAAL,CAAUkC,KAAV,CAAgB8D,mBAAlC;AACA,sBAAMC,SAAoB,GAAG;AAC5BnC,kBAAAA,SAAS,EAAEsF,QADiB;AAE5B5I,kBAAAA,SAAS,EAAEA,SAFiB;AAG5B0F,kBAAAA,IAAI,EAAEC,IAAI,CAACC,GAAL;AAHsB,iBAA7B;AAKA,qBAAKzC,QAAL,CAAc;AAAA;AAAA,8DAAmBsC,SAAnB,CAAd;AACA;;AACD,kBAAImD,QAAQ,KAAK,CAAjB,EAAoB;AACnB;AAAA;AAAA;AACA;AACD,aAb6B,CAA9B;AAcA;;AAED,cAAID,OAAJ,EAAa;AACZH,YAAAA,KAAK,GAAGA,KAAK,KAAK,CAAC,CAAX,GAAe,KAAKjK,sBAAL,CAA4BsK,YAA5B,EAAf,GAA4DL,KAApE;AACA,iBAAKjK,sBAAL,CAA4BuK,KAA5B,CAAkCN,KAAlC;AACA,WAHD,MAGO;AACN,iBAAKjK,sBAAL,CAA4BwK,YAA5B,CAAyCP,KAAzC;AACA;AACD;AAED;;;AACOQ,QAAAA,wBAAwB,CAACR,KAAD,EAAgB;AAC9C,cAAI,CAAC,KAAKhK,sBAAV,EAAkC;AACjC,iBAAKA,sBAAL,GAA8B;AAAA;AAAA,gDAAmBoK,QAAD,IAAsB;AACrE,kBAAI,KAAKpJ,IAAL,IAAa,KAAKA,IAAL,CAAU+F,OAA3B,EAAoC;AACnC,sBAAMvF,SAAS,GAAG,KAAKR,IAAL,CAAUkC,KAAV,CAAgB8D,mBAAlC;AACA,sBAAMC,SAAoB,GAAG;AAC5BnC,kBAAAA,SAAS,EAAEsF,QADiB;AAE5B5I,kBAAAA,SAAS,EAAEA,SAFiB;AAG5B0F,kBAAAA,IAAI,EAAEC,IAAI,CAACC,GAAL;AAHsB,iBAA7B;AAKA,qBAAKzC,QAAL,CAAc;AAAA;AAAA,8DAAmBsC,SAAnB,CAAd;AACA;AACD,aAV6B,CAA9B;AAWA;;AAED,eAAKjH,sBAAL,CAA4BsK,KAA5B,CAAkCN,KAAlC;AACA;;AAEO7J,QAAAA,qBAAqB,GAAG;AAC/B,eAAKN,iBAAL,GAAyB;AAAA;AAAA,wDAAwBU,SAAxB,CAAkC;AAAA;AAAA,4DAAsBC,OAAtB,CAA8B;AAAA;AAAA,oDAAiBiK,uBAA/C,EAAwE/J,MAA1G,EACvBC,QADuB,CACd,KAAKK,IAAL,CAAUqI,IADI,EACE9G,OADF,EAAzB;AAEA,eAAK1C,iBAAL,CAAuBgB,QAAvB,CAAgC;AAC/BiJ,YAAAA,gBAAgB,EAAGC,SAAD,IAAuB;AACxC,kBAAIA,SAAS,KAAK,CAAC,CAAnB,EAAsB,OAAO,KAAK/I,IAAL,CAAUkC,KAAV,CAAgB8D,mBAAvB;AACtB,qBAAO,KAAK8C,gBAAL,CAAsBC,SAAtB,EAAiC,CAAjC,CAAP;AACA,aAJ8B;AAK/BW,YAAAA,gBAAgB,EAAE,CAAClJ,SAAD,EAAoBmJ,KAApB,KAAsC;AACvD,kBAAInJ,SAAS,KAAK,CAAlB,EAAqB;AACpB,uBAAO,KAAK7B,aAAL,CAAmBqB,IAAnB,CAAwB4J,mBAAxB,CAA4CD,KAA5C,CAAP;AACA;;AACD,oBAAMjJ,SAAS,GAAG,KAAK9B,kBAAL,CAAwB4B,SAAxB,CAAlB;AACA,kBAAI,CAACE,SAAL,EAAgB,OAAO,IAAP;AAChB,qBAAOA,SAAS,CAACV,IAAV,CAAe4J,mBAAf,CAAmCD,KAAnC,CAAP;AACA,aAZ8B;AAa/BE,YAAAA,QAAQ,EAAE,MAAM;AACf,mBAAKlG,QAAL,CAAc;AAAA;AAAA,wDAAiB;AAAA;AAAA,4CAAWmG,OAA5B,CAAd;AACA,mBAAKvD,cAAL,CAAoB,CAAC,CAArB,EAAwB,IAAxB;AACA;AAhB8B,WAAhC;AAkBA;;AAEOnH,QAAAA,sBAAsB,GAAG;AAChC,eAAKN,kBAAL,GAA0B;AAAA;AAAA,0DAAyBS,SAAzB,CAAmC;AAAA;AAAA,4DAAsBC,OAAtB,CAA8B;AAAA;AAAA,oDAAiBuK,sBAA/C,EAAuErK,MAA1G,EACxBC,QADwB,CACf,KAAKK,IAAL,CAAUqI,IADK,EACC9G,OADD,EAA1B;AAEA;;AAEMA,QAAAA,OAAO,GAAG;AAChB,eAAKyI,MAAL,CAAY,EAAZ,EAAiBC,KAAD,IAAsB;AACrC,mBAAO;AACN3G,cAAAA,UAAU,EAAE2G,KAAK,CAACC,QAAN,CAAe5G,UADrB;AAENJ,cAAAA,SAAS,EAAE+G,KAAK,CAACC,QAAN,CAAehH,SAFpB;AAGNiH,cAAAA,mBAAmB,EAAEF,KAAK,CAACC,QAAN,CAAeC,mBAH9B;AAINnE,cAAAA,mBAAmB,EAAEiE,KAAK,CAACC,QAAN,CAAelE,mBAJ9B;AAKN7D,cAAAA,IAAI,EAAE8H,KAAK,CAACC,QAAN,CAAe/H,IALf;AAMNiI,cAAAA,cAAc,EAAEH,KAAK,CAACC,QAAN,CAAeE,cANzB;AAONC,cAAAA,UAAU,EAAEJ,KAAK,CAACC,QAAN,CAAeG,UAPrB;AAQNzN,cAAAA,kBAAkB,EAAEqN,KAAK,CAACC,QAAN,CAAetN,kBAR7B;AASN0N,cAAAA,YAAY,EAAEL,KAAK,CAACC,QAAN,CAAeI;AATvB,aAAP;AAWA,WAZD;AAaA,iBAAO,IAAP;AACA;;AAxd2E,O;;yBA2d9DlM,kB","sourcesContent":["import ViewModel, { StoreInject } from \"../../../base/ViewModel\"\r\nimport ModalBox from \"../../../common/ModalBox\"\r\nimport BaseViewModel from \"../../../common/viewModel/BaseViewModel\"\r\nimport { global, lang } from \"../../../hall\"\r\nimport { addToastAction } from \"../../../hall/store/actions/baseBoard\"\r\nimport CountdownTool from \"../../../utils/CountdownTool\"\r\nimport { EffectType } from \"../../../utils/NodeIOEffect\"\r\nimport { Qiuqiu_MainBoard, IEvent, IProps } from \"../components/Qiuqiu_MainBoard\"\r\nimport { Qiuqiu_SetPanel, IEvent as SPIEvent, IProps as SPIProps, IState as SPIState } from \"../components/Qiuqiu_SetPanel\"\r\nimport config from \"../config\"\r\nimport { playGameBegin, sourceManageSeletor } from \"../index\"\r\nimport { getPlayer, getRoomUpper } from \"../qiuqiu_tool\"\r\nimport { SKT_MAG_TYPE, sktInstance, sktMsgListener } from \"../socketConnect\"\r\nimport { PrefabPathDefine } from \"../sourceDefine/prefabDefine\"\r\nimport { getStore } from \"../store\"\r\nimport { beginGameCountdown, changeDealer, changeDeskStatus, changeOperationPlayer, clearRoomData, dealHandCard, joinSeat, operationCountdown, playerBet, playerChangeOpType, playerReady, quitSeat, saveBalanceInfo, saveWinBalanceInfo, updateCallAmount } from \"../store/action/game\"\r\nimport { StateType } from \"../store/reducer\"\r\nimport { BalanceInfo, BalancePlayerVo, Countdown, DeskStatus, OperationType, OperationVo, Player, PushDealerVo, QiuQiuCardVo, RoomInfo, convertCardValue, convertOpType, convertServerAction } from \"../type\"\r\nimport GameRuleViewModel from \"./GameRuleViewModel\"\r\nimport MineViewModel from \"./MineViewModel\"\r\nimport OperationViewModel from \"./OperationViewModel\"\r\nimport OpponentViewModel from \"./OpponentViewModel\"\r\nimport SendCardViewModel from \"./SendCardViewModel\"\r\n\r\n@StoreInject(getStore())\r\nclass MainBoardViewModel extends ViewModel<Qiuqiu_MainBoard, IProps, IEvent> {\r\n\tprivate roomInfo: RoomInfo;\r\n\tprivate tableId: string;\r\n\tprivate onComplate: () => void;\r\n\tprivate myChairId: number;\r\n\tprivate memberId: string;\r\n\r\n\tprivate mineViewModel: MineViewModel;\r\n\tprivate opponentViewModels: OpponentViewModel[] = [];\r\n\r\n\t/**发牌组件 */\r\n\tprivate sendCardViewModel: SendCardViewModel;\r\n\tprivate operationViewModel: OperationViewModel;\r\n\r\n\tprivate openationCountdownTool: CountdownTool;\r\n\tprivate beginGameCountdownTool: CountdownTool;\r\n\r\n\tconstructor(roomInfo: RoomInfo, tableId: string, onComplate, myChairId: number, memberId: string) {\r\n\t\tsuper('Qiuqiu_MainBoard')\r\n\t\tthis.roomInfo = roomInfo;\r\n\t\tthis.tableId = tableId;\r\n\t\tthis.onComplate = onComplate;\r\n\t\tthis.myChairId = myChairId;\r\n\t\tthis.memberId = memberId;\r\n\t}\r\n\r\n\tprotected begin() {\r\n\t\tthis.initSeat();\r\n\t\tthis.initSendCardViewModel();\r\n\t\tthis.initOperationViewModel();\r\n\t\tthis.listenerSocket();\r\n\r\n\t\tconst setPanel = new BaseViewModel<Qiuqiu_SetPanel, SPIState, SPIProps, SPIEvent>('Qiuqiu_SetPanel')\r\n\t\t\t.mountView(sourceManageSeletor().getFile(PrefabPathDefine.SET_PANEL).source).appendTo(this.viewNode)\r\n\t\tthis.setEvent({\r\n\t\t\topenSetPanel: (toggle) => {\r\n\t\t\t\tsetPanel.comp.showToggle(toggle)\r\n\t\t\t},\r\n\t\t\topenShopPanel: () => {\r\n\t\t\t\tglobal.openShop();\r\n\t\t\t},\r\n\t\t\tonQuitRoom: () => {\r\n\t\t\t\tthis.quitRoom();\r\n\t\t\t},\r\n\t\t\tdealerBeginOut: () => {\r\n\t\t\t},\r\n\t\t\tgetSeatFlyClipStartPos: (seatIndex) => {\r\n\t\t\t\tif (seatIndex === 0) {\r\n\t\t\t\t\treturn this.mineViewModel.comp.getFlyChipStartPosition();\r\n\t\t\t\t}\r\n\t\t\t\tconst viewModel = this.opponentViewModels[seatIndex];\r\n\t\t\t\tif (!viewModel) return null;\r\n\t\t\t\treturn viewModel.comp.getFlyChipStartPosition();\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\tsetPanel.setEvent({\r\n\t\t\tonQuitGame: () => {\r\n\t\t\t\tthis.quitRoom();\r\n\t\t\t},\r\n\t\t\tonChangeRoom: () => {\r\n\t\t\t\t// this.changeRoom();\r\n\t\t\t},\r\n\t\t\topenGameRule: () => {\r\n\t\t\t\tnew GameRuleViewModel().mountView(sourceManageSeletor().getFile(PrefabPathDefine.prefabs_quiqui_modal).source).appendTo(this.viewNode, { effectType: EffectType.EFFECT1, isModal: true });\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.onComplate && this.onComplate();\r\n\t}\r\n\r\n\tprivate initSeat() {\r\n\t\tfor (let i = 0; i < config.seatNumber; i++) {\r\n\t\t\tif (i === 0) {\r\n\t\t\t\tthis.mineViewModel = new MineViewModel().mountView(sourceManageSeletor().getFile(PrefabPathDefine.prefabs_quiqui_mine).source)\r\n\t\t\t\t\t.appendTo(this.comp.getPlayerWrapNode())\r\n\t\t\t\t\t.setEvent({\r\n\t\t\t\t\t\tgetHealerPosition: () => {\r\n\t\t\t\t\t\t\treturn this.comp.getHealerPosition();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.connect();\r\n\t\t\t\tthis.opponentViewModels.push(null);\r\n\t\t\t} else {\r\n\t\t\t\tlet prefabName = '';\r\n\t\t\t\tif (i === 1) prefabName = PrefabPathDefine.prefabs_quiqui_left1;\r\n\t\t\t\telse if (i === 2) prefabName = PrefabPathDefine.prefabs_quiqui_left2;\r\n\t\t\t\telse if (i === 3) prefabName = PrefabPathDefine.prefabs_quiqui_left3;\r\n\t\t\t\telse if (i === 4) prefabName = PrefabPathDefine.prefabs_quiqui_right3;\r\n\t\t\t\telse if (i === 5) prefabName = PrefabPathDefine.prefabs_quiqui_right2;\r\n\t\t\t\telse if (i === 6) prefabName = PrefabPathDefine.prefabs_quiqui_right1;\r\n\t\t\t\tconst opponentViewModel = new OpponentViewModel(i).mountView(sourceManageSeletor().getFile(prefabName).source)\r\n\t\t\t\t\t.appendTo(this.comp.getPlayerWrapNode())\r\n\t\t\t\t\t.setEvent({\r\n\t\t\t\t\t\tgetHealerPosition: () => {\r\n\t\t\t\t\t\t\treturn this.comp.getHealerPosition();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.connect();\r\n\r\n\t\t\t\tthis.opponentViewModels.push(opponentViewModel);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate ready() {\r\n\t\tif (this.comp.props.gold < this.roomInfo.lower || this.comp.props.gold > getRoomUpper(this.roomInfo)) {\r\n\t\t\tthis.quitRoom();\r\n\r\n\t\t\tModalBox.Instance().show({ content: lang.write(k => k.palyingModule.ExceedUpper, {}, { placeStr: \"对不起，您的金币改房间进入要求!\" }), type: \"Prompt\" }, () => {\r\n\t\t\t\t// _option.confirmDoneBeforeFn()\r\n\t\t\t\t// baseBoardView.comp.closeSubGame(_option.isPre)\r\n\t\t\t\t// _option.confirmDoneAfterFn()\r\n\t\t\t\treturn true\r\n\t\t\t})\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsktInstance.sendSktMessage(SKT_MAG_TYPE.READY, {\r\n\t\t\troomId: this.roomInfo.roomId,\r\n\t\t\ttableId: this.tableId,\r\n\t\t\tmemberId: this.memberId\r\n\t\t})\r\n\t}\r\n\r\n\tprivate isGameIn() {\r\n\t\tif (!getPlayer(this.comp.props.playerMap, this.memberId).gameData.isGame) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst notGameIn = this.comp.props.deskStatus === DeskStatus.WAITING || this.comp.props.deskStatus === DeskStatus.CLSOE;\r\n\t\tif (notGameIn) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.comp.props.deskStatus === DeskStatus.COUNTDOWNING && this.getBeginGameCountdown() > 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.dispatch(addToastAction({ content: lang.write(k => k.palyingModule.GameExit, {}, { placeStr: \"您正在游戏中，退出失败，请游戏结束后重试。\" }) }))\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate getBeginGameCountdown() {\r\n\t\tconst c = this.comp.props.beginGameCountdown;\r\n\t\treturn c ? c.countdown : 0;\r\n\t}\r\n\r\n\tpublic quitRoom() {\r\n\t\t// 游戏中不能退出游戏\r\n\t\tif (this.isGameIn()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsktInstance.sendSktMessage(SKT_MAG_TYPE.QUIT_ROOM, {\r\n\t\t\tmemberId: this.memberId,\r\n\t\t\ttableId: this.tableId,\r\n\t\t});\r\n\t\tconfig.isReconnect = false;\r\n\t\tthis.comp.clearData();\r\n\t\tthis.unMount();\r\n\t\tthis.dispatch(clearRoomData(0));\r\n\t}\r\n\r\n\tprivate changeRoom() {\r\n\t\t// 游戏中不能退出游戏\r\n\t\tif (this.isGameIn()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsktInstance.sendSktMessage(SKT_MAG_TYPE.CHANGE_ROOM, {\r\n\t\t\tgameId: config.gameId,\r\n\t\t\ttableId: this.tableId,\r\n\t\t\troomId: this.roomInfo.roomId,\r\n\t\t});\r\n\t\tthis.comp.clearData();\r\n\t\tthis.stopCountdown();\r\n\t\tthis.dispatch(clearRoomData(0));\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * 玩家操作\r\n\t * @param opType 操作类型\r\n\t * @param betAmount 下注金额\r\n\t */\r\n\tpublic playerOp(opType: OperationType, betAmount: number) {\r\n\t\tsktInstance.sendSktMessage(SKT_MAG_TYPE.PLAYER_OP, {\r\n\t\t\ttableId: this.tableId,\r\n\t\t\tmemberId: this.memberId,\r\n\t\t\tchairId: this.myChairId,\r\n\t\t\tbetAmount: betAmount,\r\n\t\t\taction: convertServerAction(opType)\r\n\t\t});\r\n\t}\r\n\r\n\tpublic enterGame(player: Player) {\r\n\t\tif (player.isSelf) {\r\n\t\t\tplayer.seatIndex = 0;\r\n\t\t\tthis.dispatch(joinSeat(player))\r\n\t\t\tif (!player.gameData.isReady) {\r\n\t\t\t\tthis.ready();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setPlayerSeatIndex(player);\r\n\t\t\tthis.dispatch(joinSeat(player))\r\n\t\t}\r\n\t}\r\n\r\n\t/**设置本地座位 */\r\n\tprivate setPlayerSeatIndex(player: Player) {\r\n\t\t// 如果自己的座位号小于对手座位号，直接用对手的座位减去自己的座位号就得到了本地座位号\r\n\t\t// 如果自己的座位号大于对手座位号，用最大座位号减去自己的座位号然后再加上对手的座位号就得到了本地座位号\r\n\t\tconst seatIndex = this.myChairId < player.chairId ? player.chairId - this.myChairId : config.seatNumber - this.myChairId + player.chairId;\r\n\t\tplayer.seatIndex = seatIndex;\r\n\t}\r\n\r\n\tprotected unMountCallBack(): void {\r\n\t\tthis.removeListener();\r\n\t\tthis.stopCountdown();\r\n\t}\r\n\r\n\tprivate stopCountdown() {\r\n\t\tthis.openationCountdownTool && this.openationCountdownTool.stop();\r\n\t\tthis.beginGameCountdownTool && this.beginGameCountdownTool.stop();\r\n\t\tthis.openationCountdownTool = undefined;\r\n\t\tthis.beginGameCountdownTool = undefined;\r\n\t}\r\n\r\n\tprivate removeListener() {\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.READY);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.BEGIN_GAME_COUNTDOWN);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.GAME_STATE_CHANGE);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.PUSH_DEALER);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.PUSH_DEAL);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.PLAYER_OP);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.BALANCE);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.QUIT_ROOM);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.CHANGE_ROOM);\r\n\t\tsktMsgListener.remove(SKT_MAG_TYPE.SECOND_PUSH_DEAL);\r\n\t}\r\n\r\n\tprivate listenerSocket() {\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.READY, 'room', (data) => {\r\n\t\t\tthis.dispatch(playerReady(data.memberId));\r\n\t\t});\r\n\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.BEGIN_GAME_COUNTDOWN, 'room', (data) => {\r\n\t\t\tif (this.comp && this.comp.isValid) {\r\n\t\t\t\tconst seatIndex = this.comp.props.currActiveSeatIndex;\r\n\t\t\t\tconst coutndown: Countdown = {\r\n\t\t\t\t\tcountdown: data,\r\n\t\t\t\t\tseatIndex: seatIndex,\r\n\t\t\t\t\ttime: Date.now(),\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.COUNTDOWNING))\r\n\t\t\t\tthis.dispatch(beginGameCountdown(coutndown));\r\n\t\t\t}\r\n\t\t});\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.PUSH_DEALER, 'room', (data: PushDealerVo) => {\r\n\t\t\tthis.dispatch(changeDealer(data.bankerId));\r\n\t\t\tthis.beginGameBetAnte();\r\n\t\t\tthis.startCountdown(data.countdown, false);\r\n\t\t});\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.GAME_STATE_CHANGE, 'room', (data) => {\r\n\t\t});\r\n\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.PUSH_DEAL, 'room', (data: QiuQiuCardVo) => {\r\n\t\t\tconst values = data.pokers.map(v => convertCardValue(v.smallNum, v.bigNum));\r\n\t\t\tif (data.stage === 1) {\r\n\t\t\t\tthis.dispatch(dealHandCard(values));\r\n\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.FIRST_DISTRIBUTE))\r\n\t\t\t\t}, 1000)\r\n\t\t\t} else if (data.stage === 2) {\r\n\t\t\t\t// const cards = this.comp.props.playerMap[0].gameData.cards.concat(values[values.length - 1]);\r\n\t\t\t\tconst cards = values;\r\n\t\t\t\tthis.dispatch(dealHandCard(cards));\r\n\t\t\t\t// 延迟执行是为了让创建手牌之后真实坐标\r\n\t\t\t\tthis.comp.scheduleOnce(() => {\r\n\t\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.SECOND_DISTRIBUTE))\r\n\t\t\t\t}, 0.1)\r\n\t\t\t}\r\n\t\t});\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.SECOND_PUSH_DEAL, 'room', (data) => {\r\n\t\t\tconst fourCard = data >= 0 ? data : -1;\r\n\t\t\tif (fourCard >= 0) {\r\n\t\t\t\tconst cards = this.comp.props.playerMap[0].gameData.cards.concat(fourCard);\r\n\t\t\t\tthis.dispatch(dealHandCard(cards));\r\n\t\t\t}\r\n\t\t\t// 延迟执行是为了让创建手牌之后真实坐标\r\n\t\t\tthis.comp.scheduleOnce(() => {\r\n\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.SECOND_DISTRIBUTE))\r\n\t\t\t}, 0.1)\r\n\t\t});\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.PLAYER_OP, 'room', (data: OperationVo) => {\r\n\t\t\tthis.dispatch(playerBet(data.memBerInfo.memberId, data.betAmount, convertOpType(data.action, data.betAmount), data.memBerInfo.gold))\r\n\t\t\tif (data.qiuqiuNext) {\r\n\t\t\t\tconst completionPlayer = data.qiuqiuNext.completionPlayer;\r\n\t\t\t\tfor (const key in completionPlayer) {\r\n\t\t\t\t\tif (Object.hasOwnProperty.call(completionPlayer, key)) {\r\n\t\t\t\t\t\tconst callAmount = completionPlayer[key];\r\n\t\t\t\t\t\tthis.dispatch(updateCallAmount(key, callAmount))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.dispatch(changeOperationPlayer(data.qiuqiuNext.memberId))\r\n\t\t\t\tthis.startCountdown(data.qiuqiuNext.leftTime)\r\n\t\t\t} else {\r\n\t\t\t\tthis.startCountdown(0);\r\n\t\t\t}\r\n\t\t});\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.BALANCE, 'room', (data: BalancePlayerVo[]) => {\r\n\t\t\tlet balances: BalanceInfo[] = [];\r\n\t\t\tdata.forEach(v => {\r\n\t\t\t\tconst player = getPlayer(this.comp.props.playerMap, v.memberId)\r\n\t\t\t\tlet cards: number[] = v.pokers ? v.pokers.map(poker => convertCardValue(poker.smallNum, poker.bigNum)) : [];\r\n\t\t\t\tif (v.memberId === this.memberId) {\r\n\t\t\t\t\tcards = player.gameData.cards;\r\n\t\t\t\t}\r\n\t\t\t\tthis.dispatch(saveBalanceInfo(v.memberId, v.memBerGold, v.gold, cards));\r\n\t\t\t\tbalances.push({\r\n\t\t\t\t\twinloss: v.gold,\r\n\t\t\t\t\tseatIndex: player.seatIndex,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tthis.dispatch(saveWinBalanceInfo(balances));\r\n\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.CLSOE))\r\n\r\n\t\t\t// 收到结算之后，延迟一哈发送准备\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tif (this.comp.node.isValid) {\r\n\t\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.WAITING))\r\n\t\t\t\t\tthis.ready();\r\n\t\t\t\t}\r\n\t\t\t}, 3000)\r\n\t\t});\r\n\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.QUIT_ROOM, 'room', (data) => {\r\n\t\t\tthis.pushQuitRoom(data.memberId);\r\n\t\t});\r\n\t\tsktMsgListener.add(SKT_MAG_TYPE.CHANGE_ROOM, 'room', (data) => {\r\n\t\t\tthis.pushQuitRoom(data.memberId);\r\n\t\t});\r\n\t}\r\n\r\n\t/**开局下底注 */\r\n\tprivate beginGameBetAnte() {\r\n\t\tthis.comp.props.playerMap.filter(v => v && v.gameData.isGame).forEach(v => {\r\n\t\t\tconst gold = v.glodAmount - config.afee;\r\n\t\t\tthis.dispatch(playerBet(v.uid, config.afee, OperationType.WAIT, gold));\r\n\t\t})\r\n\t}\r\n\r\n\tprivate pushQuitRoom(memberId) {\r\n\t\t// if (this.memberId === memberId) {\r\n\t\t//   this.comp.clearData();\r\n\t\t//   this.unMount();\r\n\t\t//   this.dispatch(clearRoomData(0));\r\n\t\t// } else {\r\n\t\tthis.dispatch(quitSeat(memberId));\r\n\r\n\t\tif (this.comp.props.deskStatus === DeskStatus.COUNTDOWNING) {\r\n\t\t\t// 小于2人了，暂停倒计时\r\n\t\t\tconst roomLength = this.comp.props.playerMap.filter(v => v).length\r\n\t\t\tif (roomLength < 2) {\r\n\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.WAITING));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// }\r\n\t}\r\n\r\n\t/**获得下一个操作的座位号 */\r\n\tpublic getNextSeatIndex(lastIndex: number, count: number = 0) {\r\n\t\tif (count > config.seatNumber || !this.comp.props || !this.comp.isValid) return -1;\r\n\t\tconst nextIndex = lastIndex + 1 >= config.seatNumber ? 0 : lastIndex + 1;\r\n\t\tconst player = this.comp.props.playerMap[nextIndex];\r\n\t\tif (player && player.gameData.isGame && player.gameData.opType !== OperationType.GIVE_UP) {\r\n\t\t\treturn player.seatIndex;\r\n\t\t}\r\n\t\treturn this.getNextSeatIndex(nextIndex, ++count);\r\n\t}\r\n\r\n\t/**开始出牌倒计时 */\r\n\tpublic startCountdown(count: number, isStart: boolean = true) {\r\n\t\tif (!this.openationCountdownTool) {\r\n\t\t\tthis.openationCountdownTool = new CountdownTool((schedule: number) => {\r\n\t\t\t\tif (this.comp && this.comp.isValid) {\r\n\t\t\t\t\tconst seatIndex = this.comp.props.currActiveSeatIndex;\r\n\t\t\t\t\tconst coutndown: Countdown = {\r\n\t\t\t\t\t\tcountdown: schedule,\r\n\t\t\t\t\t\tseatIndex: seatIndex,\r\n\t\t\t\t\t\ttime: Date.now(),\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.dispatch(operationCountdown(coutndown));\r\n\t\t\t\t}\r\n\t\t\t\tif (schedule === 0) {\r\n\t\t\t\t\tplayGameBegin();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (isStart) {\r\n\t\t\tcount = count === -1 ? this.openationCountdownTool.getCountdown() : count;\r\n\t\t\tthis.openationCountdownTool.start(count);\r\n\t\t} else {\r\n\t\t\tthis.openationCountdownTool.setCountdown(count);\r\n\t\t}\r\n\t}\r\n\r\n\t/**开始游戏倒计时 */\r\n\tpublic beginGameCountdownHandle(count: number) {\r\n\t\tif (!this.beginGameCountdownTool) {\r\n\t\t\tthis.beginGameCountdownTool = new CountdownTool((schedule: number) => {\r\n\t\t\t\tif (this.comp && this.comp.isValid) {\r\n\t\t\t\t\tconst seatIndex = this.comp.props.currActiveSeatIndex;\r\n\t\t\t\t\tconst coutndown: Countdown = {\r\n\t\t\t\t\t\tcountdown: schedule,\r\n\t\t\t\t\t\tseatIndex: seatIndex,\r\n\t\t\t\t\t\ttime: Date.now(),\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.dispatch(beginGameCountdown(coutndown));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.beginGameCountdownTool.start(count);\r\n\t}\r\n\r\n\tprivate initSendCardViewModel() {\r\n\t\tthis.sendCardViewModel = new SendCardViewModel().mountView(sourceManageSeletor().getFile(PrefabPathDefine.prefads_quiqui_sendcard).source)\r\n\t\t\t.appendTo(this.comp.node).connect();\r\n\t\tthis.sendCardViewModel.setEvent({\r\n\t\t\tgetNextSeatIndex: (lastIndex: number) => {\r\n\t\t\t\tif (lastIndex === -1) return this.comp.props.currActiveSeatIndex;\r\n\t\t\t\treturn this.getNextSeatIndex(lastIndex, 0);\r\n\t\t\t},\r\n\t\t\tgetSeatCardPoint: (seatIndex: number, index: number) => {\r\n\t\t\t\tif (seatIndex === 0) {\r\n\t\t\t\t\treturn this.mineViewModel.comp.getHandCardPosition(index);\r\n\t\t\t\t}\r\n\t\t\t\tconst viewModel = this.opponentViewModels[seatIndex];\r\n\t\t\t\tif (!viewModel) return null;\r\n\t\t\t\treturn viewModel.comp.getHandCardPosition(index);\r\n\t\t\t},\r\n\t\t\tdealOver: () => {\r\n\t\t\t\tthis.dispatch(changeDeskStatus(DeskStatus.PLAYING));\r\n\t\t\t\tthis.startCountdown(-1, true);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tprivate initOperationViewModel() {\r\n\t\tthis.operationViewModel = new OperationViewModel().mountView(sourceManageSeletor().getFile(PrefabPathDefine.prefabs_quiqui_operate).source)\r\n\t\t\t.appendTo(this.comp.node).connect();\r\n\t}\r\n\r\n\tpublic connect() {\r\n\t\tthis.inject({}, (state: StateType) => {\r\n\t\t\treturn {\r\n\t\t\t\tdeskStatus: state.deskData.deskStatus,\r\n\t\t\t\tplayerMap: state.deskData.playerMap,\r\n\t\t\t\tlastActiveSeatIndex: state.deskData.lastActiveSeatIndex,\r\n\t\t\t\tcurrActiveSeatIndex: state.deskData.currActiveSeatIndex,\r\n\t\t\t\tgold: state.deskData.gold,\r\n\t\t\t\ttotalBetAmount: state.deskData.totalBetAmount,\r\n\t\t\t\tnewBetInfo: state.deskData.newBetInfo,\r\n\t\t\t\tbeginGameCountdown: state.deskData.beginGameCountdown,\r\n\t\t\t\tbalanceInfos: state.deskData.balanceInfos,\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n}\r\n\r\nexport default MainBoardViewModel"]}