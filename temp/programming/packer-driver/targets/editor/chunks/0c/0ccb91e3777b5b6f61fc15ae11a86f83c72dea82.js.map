{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/bandarQiuQiu/components/BandarQiuQiu_lose.ts"],"names":["_decorator","Label","Node","BaseComponent","updateWinUsers","ccclass","property","BandarQiuQiu_lose","propertyNode","props_spr_win_bg","props_label_lose_num","props","myInfo","events","onClosePanel","start","initState","bindEvent","useProps","key","value","node","cur","winGold","getComponent","string","goldNum","Math","abs","formatAmountWithCommas","updateWinsAndLosses","toggleCallback","event","customEventData","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAWC,MAAAA,K,OAAAA,K;AAAMC,MAAAA,I,OAAAA,I;;AACjBC,MAAAA,a,iBAAAA,a;;AAIAC,MAAAA,c,iBAAAA,c;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;mCAmBjBO,iB,WADZF,OAAO,CAAC,mBAAD,C,gBAAR,MACaE,iBADb;AAAA;AAAA,0CAC6E;AAAA;AAAA;AAAA,eAIlEC,YAJkE,GAInD;AACpBC,YAAAA,gBAAgB,EAAC,IAAIP,IAAJ,EADG;AAEpBQ,YAAAA,oBAAoB,EAAC,IAAIR,IAAJ;AAFD,WAJmD;AAAA,eAUrES,KAVqE,GAUrD;AACtBC,YAAAA,MAAM,EAAC,IADe,CAEtB;;AAFsB,WAVqD;AAAA,eAgBrEC,MAhBqE,GAgBpD;AACvBC,YAAAA,YAAY,EAAC,MAAI,CAAE;AADI,WAhBoD;AAAA;;AAC5EC,QAAAA,KAAK,GAAG,CACN;;AAkBQC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AAGA;;AAESC,QAAAA,SAAS,GAAS,CAG3B;;AAESC,QAAAA,QAAQ,CAACC,GAAD,EAAoBC,KAApB,EAAmD;AAEpE,cAAGD,GAAG,KAAG,QAAT,EAAkB;AACjB;AAAA;AAAA,kDAAe,KAAKE,IAApB;;AACA,gBAAGD,KAAK,CAACE,GAAN,CAAUC,OAAV,KAAoB,CAAvB,EAAyB;AACxB,mBAAKf,YAAL,CAAkBE,oBAAlB,CAAuCc,YAAvC,CAAoDvB,KAApD,EAA2DwB,MAA3D,GAAkEL,KAAK,CAACE,GAAN,CAAUC,OAA5E;AACA,aAFD,MAEK;AACJ,kBAAIG,OAAc,GAACC,IAAI,CAACC,GAAL,CAASR,KAAK,CAACE,GAAN,CAAUC,OAAnB,EAA4BM,sBAA5B,EAAnB;AACA,mBAAKrB,YAAL,CAAkBE,oBAAlB,CAAuCc,YAAvC,CAAoDvB,KAApD,EAA2DwB,MAA3D,GAAkE,MAAIC,OAAtE;AACA;AAGD;AAGD;;AAEMI,QAAAA,mBAAmB,CAAClB,MAAD,EAAQ;AACjC;AAAA;AAAA,gDAAe,KAAKS,IAApB;;AACA,cAAGT,MAAM,CAACW,OAAP,KAAiB,CAApB,EAAsB;AACrB,iBAAKf,YAAL,CAAkBE,oBAAlB,CAAuCc,YAAvC,CAAoDvB,KAApD,EAA2DwB,MAA3D,GAAkEb,MAAM,CAACW,OAAzE;AACA,WAFD,MAEK;AACJ,gBAAIG,OAAc,GAACC,IAAI,CAACC,GAAL,CAAShB,MAAM,CAACW,OAAhB,EAAyBM,sBAAzB,EAAnB;AACA,iBAAKrB,YAAL,CAAkBE,oBAAlB,CAAuCc,YAAvC,CAAoDvB,KAApD,EAA2DwB,MAA3D,GAAkE,MAAIC,OAAtE;AAEA;AACD;;AAGDK,QAAAA,cAAc,CAACC,KAAD,EAAeC,eAAf,EAAwC,CAErD;;AAESC,QAAAA,MAAM,GAAS,CAGxB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAvE2E,O","sourcesContent":["import { _decorator,Label,Node, Sprite, SpriteFrame } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { formatNumber, initToggle, omitStr } from '../../../utils/tool';\r\nimport { bundleCommon, bundleBanDarQiuQiu } from '../index';\r\nimport { HeadType, WinInfo } from '../type';\r\nimport { updateWinUsers } from './BandarQiuQiu_win';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\nexport interface IState {\r\n  \r\n}\r\n\r\nexport interface IProps {\r\n\tmyInfo: HeadType,\r\n\t// roomWinInfo:WinInfo[],\r\n\t\r\n}\r\nexport interface IEvent {\r\n\tonClosePanel:()=>void\r\n}\r\n\r\n\r\n@ccclass('BandarQiuQiu_lose')\r\nexport class BandarQiuQiu_lose extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\t }\r\n\r\n\tprotected propertyNode = {\r\n      props_spr_win_bg:new Node(),\r\n      props_label_lose_num:new Node(),\r\n\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tmyInfo:null,\r\n\t\t// roomWinInfo:[],\r\n\t\t\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonClosePanel:()=>{}\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\r\n\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\t\r\n\t\tif(key===\"myInfo\"){\r\n\t\t\tupdateWinUsers(this.node)\r\n\t\t\tif(value.cur.winGold===0){\r\n\t\t\t\tthis.propertyNode.props_label_lose_num.getComponent(Label).string=value.cur.winGold\r\n\t\t\t}else{\r\n\t\t\t\tlet goldNum:string=Math.abs(value.cur.winGold).formatAmountWithCommas()\r\n\t\t\t\tthis.propertyNode.props_label_lose_num.getComponent(Label).string=\"-\"+goldNum\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\t\t\t\r\n\r\n\r\n\t}\r\n\r\n\tpublic updateWinsAndLosses(myInfo){\r\n\t\tupdateWinUsers(this.node)\r\n\t\tif(myInfo.winGold===0){\r\n\t\t\tthis.propertyNode.props_label_lose_num.getComponent(Label).string=myInfo.winGold\r\n\t\t}else{\r\n\t\t\tlet goldNum:string=Math.abs(myInfo.winGold).formatAmountWithCommas()\r\n\t\t\tthis.propertyNode.props_label_lose_num.getComponent(Label).string=\"-\"+goldNum\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\n\ttoggleCallback(event: Event, customEventData: string) {\r\n\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\r\n\t\t\t\t\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}