{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/dragonV2/components/Dragon_Main.ts"],"names":["_decorator","instantiate","Label","Node","sp","Sprite","Toggle","Animation","BaseComponent","changeGame","setAutoLauncherInfo","setBetDropDownList","updateWinloss","AutoLauncherType","GameType","getAutoCount","isLimit","RollerStatus","updateRollerStatus","getNodeByNameDeep","global","Dragonv2_Audio","mainViewModel","sourceManageSeletor","PrefabPathDefine","SkeletonAnimationPlayer","SoundPathDefine","ccclass","property","Dragon_Main","propertyNode","props_main_bg","props_mini_game_bg","props_slot_bg","props_Up_Feature","props_buttomBar","props_top_value","props_roller","props_bet_dropdownlist","props_autoLauncher","props_jackpot_panel","props_jackpot_user_list","props_jackpot_item","props_dragon_state","props_btn_off","props_btn_confirm","selectedNode","props","betDropDownlist","positionId","gold","gameTypeInfo","lastGameType","NONE","currGameType","viewGameType","leftCount","subGameAnimationPlayInfo","jackpotDatas","autoLauncherInfo","theDragonSpitsFire","events","onSendBet","renderTheRingOfFire","key","start","getHeader","getFooter","getRoller","get_top_value","initState","toggleCallback","e","node","getChildByName","active","isChecked","bindEvent","console","log","on","EventType","TOUCH_END","dispatch","getComponent","jackpot_user_list","listenerBetDropDownListEvent","children","forEach","toggle","onToggleClick","openAoutoPanl","autoLauncherType","name","count","totalCount","playOneShot","biu","getAutoState","clearAuto","event","clickedToggle","target","useProps","value","cur","playSubGameAnimation","changeGameType","updateJackpotContent","flyBgNode","getFile","FLY_BG","source","addChild","titleSkeleton","Skeleton","voice","destroy","isValid","subGameAnimationEndHandle","SUBGAME1","SUBGAME2","playAnimation","gameType","isMainGame","MAIN","isSubGame2","callBack","RinghtAnger_dragon","showOrHideBetDropDownlist","status","pos","position","play","bindUI","isSubGame","isNextMainGame","changeGateAnimation","type","playBgMusic","scheduleOnce","END","v","jackpotData","find","jackpot","nickName","string","winningAmount","formatAmountWithCommas","jackpotNode","item","buildJackpotItem","isCopy","jackpotItem","headNode","loadHeadSprite","avatarIndex","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, instantiate, Label, Node, sp, Sprite, Toggle, Animation, UIOpacity, Vec3, AnimationState } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { changeGame, setAutoLauncherInfo, setBetDropDownList, updateWinloss } from '../store/actions/game';\r\nimport { AutoLauncherInfo, AutoLauncherType, calBetAmount, GameType, GameTypeInfo, getAutoCount, isLimit, JackpotData, RollerStatus, SubGameAnimationPlayInfo } from '../type';\r\nimport { updateRollerStatus } from '../store/actions/roller';\r\nimport { getNodeByNameDeep, initToggle } from '../../../utils/tool';\r\nimport { global } from '../../../hall';\r\nimport { Dragonv2_Audio, mainViewModel, sourceManageSeletor } from '../index';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { PrefabPathDefine } from '../sourceDefine/prefabDefine';\r\nimport SkeletonAnimationPlayer from '../../../utils/SkeletonPlay';\r\nimport { SkeletalPathDefine } from '../sourceDefine/skeletalDefine';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tbetDropDownlist: boolean,\r\n\t/** 选择的线id */\r\n\tpositionId: number,\r\n\t/** 余额 */\r\n\tgold: number,\r\n\t/**游戏类型信息 */\r\n\tgameTypeInfo: GameTypeInfo,\r\n\t/** 子游戏过场动画播放信息 */\r\n\tsubGameAnimationPlayInfo: SubGameAnimationPlayInfo,\r\n\t/** jackpot数据 */\r\n\tjackpotDatas: JackpotData[],\r\n\t/** 自动运行信息 */\r\n\tautoLauncherInfo: AutoLauncherInfo\r\n\ttheDragonSpitsFire: object\r\n}\r\nexport interface IEvent {\r\n\tonSendBet: () => void\r\n\trenderTheRingOfFire: (key) => void\r\n}\r\n\r\n@ccclass('Dragon_Main')\r\nexport class Dragon_Main extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\tprotected propertyNode = {\r\n\t\tprops_main_bg: new Node(),\r\n\t\tprops_mini_game_bg: new Node(),\r\n\t\tprops_slot_bg: new Node(),\r\n\t\tprops_Up_Feature: new Node(),\r\n\t\tprops_buttomBar: new Node(),\r\n\t\tprops_top_value: new Node(),\r\n\t\tprops_roller: new Node(),\r\n\t\tprops_bet_dropdownlist: new Node(),\r\n\t\tprops_autoLauncher: new Node(),\r\n\t\tprops_jackpot_panel: new Node(),\r\n\t\tprops_jackpot_user_list: new Node(),\r\n\t\tprops_jackpot_item: new Node(),\r\n\t\tprops_dragon_state: new Node(),\r\n\t\tprops_btn_off: new Node(),\r\n\t\tprops_btn_confirm:new Node()\r\n\t}\r\n\tprivate selectedNode: Node\r\n\tpublic props: IProps = {\r\n\t\tbetDropDownlist: false,\r\n\t\tpositionId: 0,\r\n\t\tgold: 0,\r\n\t\tgameTypeInfo: {\r\n\t\t\tlastGameType: GameType.NONE,\r\n\t\t\tcurrGameType: GameType.NONE,\r\n\t\t\tviewGameType: GameType.NONE,\r\n\t\t\tleftCount: 0\r\n\t\t},\r\n\t\tsubGameAnimationPlayInfo: null,\r\n\t\tjackpotDatas: [],\r\n\t\tautoLauncherInfo: null,\r\n\t\ttheDragonSpitsFire: {}\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonSendBet: () => { },\r\n\t\trenderTheRingOfFire: (key) => { }\r\n\t}\r\n\r\n\tpublic getHeader() {\r\n\t\treturn this.propertyNode.props_Up_Feature;\r\n\t}\r\n\r\n\tpublic getFooter() {\r\n\t\treturn this.propertyNode.props_buttomBar;\r\n\t}\r\n\r\n\tpublic getRoller() {\r\n\t\treturn this.propertyNode.props_roller;\r\n\t}\r\n\tpublic get_top_value() {\r\n\t\treturn this.propertyNode.props_top_value;\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\t/* 排行榜开关 */\r\n\tprivate toggleCallback(e) {\r\n\t\tthis.node.getChildByName('props_jackpot_panel').getChildByName('Board_ScrollView').active = !e.isChecked\r\n\t}\r\n\tprotected bindEvent(): void {\r\n\t\tconsole.log(this.propertyNode.props_autoLauncher);\r\n\r\n\t\t// this.propertyNode.props_autoLauncher.getComponent(Animation).on(Animation.EventType.FINISHED, (e, state: AnimationState) => {\r\n\t\t// \tif (state.name === 'animation_autoLauncher_down') {\r\n\t\t// \t\tthis.propertyNode.props_bet_dropdownlist.active = false;\r\n\t\t// \t}\r\n\t\t// });\r\n\t\tthis.propertyNode.props_bet_dropdownlist.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.dispatch(setBetDropDownList(false));\r\n\t\t})\r\n\t\tthis.node.getChildByName('props_jackpot_panel').getChildByName('props_jackpot_grand').on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.node.getChildByName('props_jackpot_panel').getChildByName('Board_ScrollView').active = !this.node.getChildByName('props_jackpot_panel').getChildByName('Board_ScrollView').active\r\n\t\t})\r\n\t\tthis.node.getChildByName('props_jackpot_panel').getChildByName('Toggle_triangle').getComponent(Toggle).node.on('toggle', this.toggleCallback, this);\r\n\t\tthis.propertyNode.props_jackpot_user_list.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tlet jackpot_user_list = this.node.getChildByName('props_jackpot_panel')\r\n\t\t\tjackpot_user_list.getChildByName('Board_ScrollView').active = false;\r\n\t\t\tjackpot_user_list.getChildByName('Toggle_triangle').getComponent(Toggle).isChecked = true\r\n\t\t})\r\n\t\tthis.listenerBetDropDownListEvent();\r\n\t}\r\n\r\n\tprivate listenerBetDropDownListEvent() {\r\n\t\tthis.propertyNode.props_autoLauncher.children.forEach((toggle) => {\r\n\t\t\ttoggle.getComponent(Toggle).node.on(Node.EventType.TOUCH_END, this.onToggleClick, this);\r\n\t\t});\r\n\t\tthis.propertyNode.props_btn_off.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.openAoutoPanl()\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_confirm.on(Node.EventType.TOUCH_END,()=>{\r\n\t\t\tconst autoLauncherType = (this.selectedNode ? this.selectedNode.name:'t10') as AutoLauncherType; // 默认T10\r\n\t\t\t\tconst count = getAutoCount(autoLauncherType);\r\n\t\t\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\t\t\tautoLauncherType: autoLauncherType,\r\n\t\t\t\t\ttotalCount: count,\r\n\t\t\t\t\tleftCount: isLimit(autoLauncherType) ? 1 : count - 1,\r\n\t\t\t\t}))\r\n\t\t\t\tDragonv2_Audio.playOneShot(SoundPathDefine.biu)\r\n\t\t\t\tthis.dispatch(setBetDropDownList(false));\r\n\t\t\t\tthis.events.onSendBet();\r\n\t\t\t\tthis.openAoutoPanl()\r\n\t\t})\r\n\t\t// this.propertyNode.props_autoLauncher.children.forEach(v => {\r\n\t\t// \tv.on(Node.EventType.TOUCH_END, () => {\r\n\t\t// \t\tconst autoLauncherType = v.name as AutoLauncherType;\r\n\t\t// \t\tconst count = getAutoCount(autoLauncherType);\r\n\t\t// \t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t// \t\t\tautoLauncherType: autoLauncherType,\r\n\t\t// \t\t\ttotalCount: count,\r\n\t\t// \t\t\tleftCount: isLimit(autoLauncherType) ? 1 : count - 1,\r\n\t\t// \t\t}))\r\n\t\t// \t\tconsole.log(count);\r\n\t\t// \t\tDragonv2_Audio.playOneShot(SoundPathDefine.biu)\r\n\t\t// \t\tthis.dispatch(setBetDropDownList(false));\r\n\t\t// \t\tthis.events.onSendBet();\r\n\t\t// \t})\r\n\t\t// })\r\n\t\t\r\n\t}\r\n\tpublic openAoutoPanl(){\r\n\t\tthis.propertyNode.props_bet_dropdownlist.active=!this.propertyNode.props_bet_dropdownlist.active\r\n\t}\r\n\tpublic getAutoState(){\r\n\t\treturn this.propertyNode.props_bet_dropdownlist.active\r\n\t}\r\n\tpublic clearAuto(){\r\n\t\tthis.dispatch(setAutoLauncherInfo({\r\n\t\t\tautoLauncherType: AutoLauncherType.NONE,\r\n\t\t\ttotalCount: 0,\r\n\t\t\tleftCount: 0\r\n\t\t}))\r\n\t}\r\n\tprivate onToggleClick(event) {\r\n\t\t// 获取点击的 Toggle 按钮\r\n\t\tconst clickedToggle = event.target.getComponent(Toggle);\r\n\t\tif (!clickedToggle.isChecked) {\r\n\t\t\tclickedToggle.isChecked = true;\r\n\t\t\tthis.selectedNode = event.target\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// 取消其他 Toggle 按钮的选中状态\r\n\t\tthis.propertyNode.props_autoLauncher.children.forEach((toggle) => {\r\n\t\t\tif (toggle !== clickedToggle) {\r\n\t\t\t\ttoggle.getComponent(Toggle).isChecked = false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tprotected useProps(key: keyof IProps, value: { pre: any, cur: any }) {\r\n\t\tif (key === 'betDropDownlist') {\r\n\t\t\t// this.showOrHideBetDropDownlist(value.cur)\r\n\t\t} else if (key === 'subGameAnimationPlayInfo') {\r\n\t\t\tif (value.cur) {\r\n\t\t\t\tthis.playSubGameAnimation();\r\n\t\t\t}\r\n\t\t} else if (key === 'gameTypeInfo') {\r\n\t\t\tthis.changeGameType(this.props.gameTypeInfo.viewGameType);\r\n\t\t} else if (key === 'jackpotDatas') {\r\n\t\t\tthis.updateJackpotContent();\r\n\t\t}\r\n\t\tif (key === 'theDragonSpitsFire') {\r\n\t\t\tthis.events.renderTheRingOfFire(value.cur)\r\n\t\t}\r\n\t}\r\n\tprivate playSubGameAnimation() {\r\n\t\tlet flyBgNode = instantiate(sourceManageSeletor().getFile(PrefabPathDefine.FLY_BG).source)//动画转场背景\r\n\t\tthis.node.addChild(flyBgNode);\r\n\t\tconst titleSkeleton = flyBgNode.getChildByName(\"caishenguochang\").getComponent(sp.Skeleton)\r\n\t\tDragonv2_Audio.playOneShot(SoundPathDefine.voice)\r\n\t\tnew SkeletonAnimationPlayer(titleSkeleton, 'animation', false, () => {\r\n\t\t\tflyBgNode && flyBgNode.destroy();\r\n\t\t\tthis.node && this.node.isValid && this.subGameAnimationEndHandle(0);\r\n\t\t\tconsole.log(\"this.props.gameTypeInfo\", this.props.gameTypeInfo);\r\n\t\t\tif (this.props.gameTypeInfo.currGameType === GameType.SUBGAME1) {\r\n\t\t\t\tthis.dispatch(updateWinloss(0))\r\n\t\t\t} else if (this.props.gameTypeInfo.currGameType === GameType.SUBGAME2) {\r\n\t\t\t\t// let amount = cacheData.rollerLaunchResult.dl.si[0].freeGameAmount\r\n\t\t\t\t// this.dispatch(updateWinloss(amount))  \r\n\r\n\t\t\t}\r\n\t\t\t//切换游戏 初始化盈利\r\n\t\t}).playAnimation()\r\n\t}\r\n\tprivate changeGameType(gameType: GameType) {\r\n\t\tconst isMainGame = gameType === GameType.MAIN;\r\n\t\tconst isSubGame2 = gameType === GameType.SUBGAME2;\r\n\t\t// 主游戏要显示的界面\r\n\t\tthis.propertyNode.props_main_bg.active = !isSubGame2\r\n\t\tthis.propertyNode.props_slot_bg.getChildByName('mian_Bg').active = !isSubGame2\r\n\t\tthis.propertyNode.props_slot_bg.getChildByName('mian_Bg').active = !isSubGame2\r\n\t\tthis.propertyNode.props_dragon_state.getChildByName('Dragon_Tail').active = !isSubGame2\r\n\t\t// 子游戏要显示的界面\r\n\t\tthis.propertyNode.props_mini_game_bg.active = isSubGame2\r\n\t\tthis.propertyNode.props_slot_bg.getChildByName('mini_Bg').active = isSubGame2\r\n\t\tthis.propertyNode.props_dragon_state.getChildByName('Left_dragon').active = isSubGame2\r\n\t\t// egyptv2_Audio.stop();\r\n\t\t// if (isMainGame) {\r\n\t\t// \tegyptv2_Audio.play(SoundPathDefine.bgMain, true)\r\n\t\t// } else if (isSubGame2) {\r\n\t\t// \tegyptv2_Audio.play(SoundPathDefine.bgMusic, true)\r\n\t\t// } else {\r\n\t\t// \tegyptv2_Audio.play(SoundPathDefine.bgFree, true)\r\n\t\t// }\r\n\r\n\t}\r\n\tpublic theDragonSpitsFire(callBack) { //龙播放动画\r\n\t\tthis.propertyNode.props_dragon_state.getChildByName('Ringht_dragon').active = false\r\n\t\tthis.propertyNode.props_dragon_state.getChildByName('RinghtAnger_dragon').active = true\r\n\t\tlet RinghtAnger_dragon = this.propertyNode.props_dragon_state.getChildByName('RinghtAnger_dragon').getComponent(sp.Skeleton)\r\n\t\tnew SkeletonAnimationPlayer(RinghtAnger_dragon, 'animation', false, () => {\r\n\t\t\tthis.propertyNode.props_dragon_state.getChildByName('Ringht_dragon').active = true\r\n\t\t\tthis.propertyNode.props_dragon_state.getChildByName('RinghtAnger_dragon').active = false\r\n\t\t\tcallBack()\r\n\t\t}).playAnimation()\r\n\t}\r\n\tprivate showOrHideBetDropDownlist(status: boolean) {\r\n\t\tconst pos = this.propertyNode.props_autoLauncher.position;\r\n\t\tif (status) {\r\n\t\t\tthis.propertyNode.props_bet_dropdownlist.active = true;\r\n\t\t\tthis.propertyNode.props_autoLauncher.getComponent(Animation).play(\"animation_autoLauncher_up\");\r\n\t\t} else {\r\n\t\t\tthis.propertyNode.props_autoLauncher.getComponent(Animation).play(\"animation_autoLauncher_down\");\r\n\t\t}\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t\t// this.props_aiji_kaiguanmenOrigonPos = this.propertyNode.props_aiji_kaiguanmen.position.clone();\r\n\t\t// this.props_aiji_kaiguanmenOrigonPos = new Vec3();\r\n\t\t// this.baseNodeOffectNode = new Vec3(-100, -200);\r\n\r\n\t\tthis.propertyNode.props_bet_dropdownlist.active = false;\r\n\t}\r\n\tprivate isSubGame(gameType: GameType) {\r\n\t\treturn gameType === GameType.SUBGAME1 || gameType === GameType.SUBGAME2\r\n\t}\r\n\r\n\tprivate isNextMainGame() {\r\n\t\treturn this.props.gameTypeInfo.currGameType === GameType.MAIN;\r\n\t}\r\n\t/**切换大门动画 */\r\n\tprivate changeGateAnimation() {\r\n\t\tthis.subGameAnimationEndHandle(0);\r\n\t}\r\n\t/**动画结束处理 */\r\n\tprivate subGameAnimationEndHandle(type: number) {\r\n\t\tconst gameTypeInfo = { ...this.props.gameTypeInfo }\r\n\t\tgameTypeInfo.lastGameType = gameTypeInfo.viewGameType;\r\n\t\tgameTypeInfo.viewGameType = gameTypeInfo.currGameType;\r\n \t\t// gameTypeInfo.viewGameType = GameType.SUBGAME1;\r\n\t\t// gameTypeInfo.currGameType = GameType.SUBGAME1;\r\n\t\t// gameTypeInfo.leftCount = 10;\r\n\t\tthis.dispatch(changeGame(gameTypeInfo))\r\n\t\t// 开门动画结束，准备切换到小游戏后，结束游戏\r\n\t\tmainViewModel.playBgMusic();\r\n\t\tif (type === 0) {\r\n\t\t\tthis.scheduleOnce(() => {\r\n\t\t\t\tthis.dispatch(updateRollerStatus(RollerStatus.END))\r\n\t\t\t},1)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateJackpotContent() {\r\n\t\tif (this.propertyNode.props_jackpot_panel && this.propertyNode.props_jackpot_panel.isValid) {\r\n\t\t\t// this.buildJackpotItem(this.props.jackpotDatas.shift(), false);\r\n\r\n\t\t\t// 找出已经不存在的jackpot，卸载掉\r\n\t\t\tthis.propertyNode.props_jackpot_user_list.children.forEach(v => {\r\n\t\t\t\tconst jackpotData = this.props.jackpotDatas.find(jackpot => jackpot.nickName === v.name)\r\n\t\t\t\tif (!jackpotData) {\r\n\t\t\t\t\tv.destroy();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgetNodeByNameDeep(\"props_item_amount\", v).getComponent(Label).string = jackpotData.winningAmount.formatAmountWithCommas();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.jackpotDatas.forEach(v => {\r\n\t\t\t\tconst children = this.propertyNode.props_jackpot_user_list.children;\r\n\t\t\t\tconst jackpotNode = children.find(jackpotNode => jackpotNode.name === v.nickName)\r\n\t\t\t\tif (!jackpotNode) {\r\n\t\t\t\t\tconst item = this.buildJackpotItem(v);\r\n\t\t\t\t\t// item.setPosition(new Vec3());\r\n\t\t\t\t\t// // if (children.length > 0) {\r\n\t\t\t\t\t// // \titem.setPosition(children[children.length - 1].position.clone().add(new Vec3(0, -60, 0)));\r\n\t\t\t\t\t// // }\r\n\t\t\t\t\tthis.propertyNode.props_jackpot_user_list.addChild(item)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildJackpotItem(jackpotData: JackpotData, isCopy: boolean = true) {\r\n\t\tif (!jackpotData) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst jackpotItem = isCopy ? instantiate(this.propertyNode.props_jackpot_item) : this.propertyNode.props_jackpot_item;\r\n\t\tjackpotItem.active = true;\r\n\t\tconst headNode = getNodeByNameDeep(\"props_item_head\", jackpotItem).getComponent(Sprite)\r\n\t\tgetNodeByNameDeep(\"props_item_amount\", jackpotItem).getComponent(Label).string = jackpotData.winningAmount.formatAmountWithCommas();\r\n\t\tgetNodeByNameDeep(\"props_item_nickname\", jackpotItem).getComponent(Label).string = jackpotData.nickName;\r\n\t\tjackpotItem.name = jackpotData.nickName;\r\n\t\tglobal.loadHeadSprite(jackpotData.avatarIndex, headNode)\r\n\t\treturn jackpotItem\r\n\t}\r\n\t\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}