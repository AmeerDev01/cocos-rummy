{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/fruit777/viewModel/HeaderViewModel.ts"],"names":["ViewModel","StoreInject","getStore","BaseViewModel","EffectType","sourceManageSeletor","PrefabPathDefine","global","HeaderViewModel","constructor","begin","setEvent","openHelpPanel","helpPanelPanel","mountView","getFile","INTRODUCE","source","appendTo","viewNode","parent","effectType","EFFECT1","isModal","closeHandler","unMount","openVipMain","connect","inject","state","balance","game","roundAllEnd","roller"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACOA,MAAAA,S;AAAaC,MAAAA,W,iBAAAA,W;;AAGXC,MAAAA,Q,iBAAAA,Q;;AACFC,MAAAA,a;;AAEEC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,M,iBAAAA,M;;;;;;;;;AAGHC,MAAAA,e,WADL;AAAA;AAAA,sCAAY;AAAA;AAAA,iCAAZ,C,gBAAD,MACMA,eADN;AAAA;AAAA,kCACyE;AACvEC,QAAAA,WAAW,GAAG;AACZ,gBAAM,iBAAN;AACD;;AAESC,QAAAA,KAAK,GAAG;AAChB,eAAKC,QAAL,CAAc;AACZC,YAAAA,aAAa,EAAE,MAAM;AACnB,oBAAMC,cAAc,GAAG;AAAA;AAAA,kDAAiE,oBAAjE,EAAuFC,SAAvF,CAAiG;AAAA;AAAA,gEAAsBC,OAAtB,CAA8B;AAAA;AAAA,wDAAiBC,SAA/C,EAA0DC,MAA3J,EACpBC,QADoB,CACX,KAAKC,QAAL,CAAcC,MADH,EACW;AAAEC,gBAAAA,UAAU,EAAE;AAAA;AAAA,8CAAWC,OAAzB;AAAkCC,gBAAAA,OAAO,EAAE;AAA3C,eADX,EAC8DZ,QAD9D,CACuE;AAC1Fa,gBAAAA,YAAY,EAAE,MAAM;AAClBX,kBAAAA,cAAc,CAACY,OAAf,CAAuB;AAAA;AAAA,gDAAWH,OAAlC;AACD;AAHyF,eADvE,CAAvB;AAMD,aARW;AASZI,YAAAA,WAAW,EAAE,MAAM;AAAA;AAAA,kCAAOA,WAAP;AATP,WAAd;AAWD;;AAEMC,QAAAA,OAAO,GAAG;AACf;AACA,eAAKC,MAAL,CAAY,EAAZ,EAAiBC,KAAD,IAAsB;AACpC;AACA,mBAAO;AACLC,cAAAA,OAAO,EAAED,KAAK,CAACE,IAAN,CAAWD,OADf;AAELE,cAAAA,WAAW,EAAEH,KAAK,CAACI,MAAN,CAAaD;AAFrB,aAAP;AAID,WAND;AAOA,iBAAO,IAAP;AACD;;AA7BsE,O;;yBAgC1DxB,e","sourcesContent":["import { Node } from \"cc\"\r\nimport ViewModel, { StoreInject } from \"../../../base/ViewModel\"\r\nimport { Fruit777_Header, IProps, IEvent } from \"../components/Fruit777_Header\"\r\nimport { StateType } from \"../store/reducer\"\r\nimport { getStore } from \"../store\"\r\nimport BaseViewModel from \"../../../hall/viewModel/BaseViewModel\"\r\nimport { Fruit777_HelpPanel, IProps as FIProps, IState as FIState, IEvent as FIEvent } from \"../components/Fruit777_HelpPanel\"\r\nimport { EffectType } from \"../../../utils/NodeIOEffect\"\r\nimport { sourceManageSeletor } from \"../index\"\r\nimport { PrefabPathDefine } from \"../sourceDefine/prefabDefine\"\r\nimport { global } from \"../../../hall\"\r\n\r\n@StoreInject(getStore())\r\nclass HeaderViewModel extends ViewModel<Fruit777_Header, IProps, IEvent> {\r\n  constructor() {\r\n    super('Fruit777_Header')\r\n  }\r\n\r\n  protected begin() {\r\n    this.setEvent({\r\n      openHelpPanel: () => {\r\n        const helpPanelPanel = new BaseViewModel<Fruit777_HelpPanel, FIState, FIProps, FIEvent>(\"Fruit777_HelpPanel\").mountView(sourceManageSeletor().getFile(PrefabPathDefine.INTRODUCE).source)\r\n          .appendTo(this.viewNode.parent, { effectType: EffectType.EFFECT1, isModal: true }).setEvent({\r\n            closeHandler: () => {\r\n              helpPanelPanel.unMount(EffectType.EFFECT1)\r\n            }\r\n          })\r\n      },\r\n      openVipMain: () => global.openVipMain()\r\n    })\r\n  }\r\n\r\n  public connect() {\r\n    // console.log('inject', dataTransfer(DataKeyType.BALANCE))\r\n    this.inject({}, (state: StateType) => {\r\n      // console.log('state.game.balance', state.game.balance)\r\n      return {\r\n        balance: state.game.balance,\r\n        roundAllEnd: state.roller.roundAllEnd\r\n      }\r\n    })\r\n    return this\r\n  }\r\n}\r\n\r\nexport default HeaderViewModel"]}