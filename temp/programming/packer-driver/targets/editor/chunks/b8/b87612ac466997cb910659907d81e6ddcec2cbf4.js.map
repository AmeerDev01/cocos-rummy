{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/utils/Shake.ts"],"names":["Shake","_decorator","tween","Vec3","ccclass","_originalPos","_shakeX","target","duration","offset","to","position","add3f","easing","_shakeY","_shakeXY","shake","repeat","direction","done","isShakeIn","getWorldPosition","clone","tw","toLowerCase","worldPosition","union","repeatForever","call","remove","node","bool","currentShakeNodes","hasOwnProperty","uuid","create"],"mappings":";;;2FAMaA,K;;;;;;;;;AANJC,MAAAA,U,OAAAA,U;AAA6BC,MAAAA,K,OAAAA,K;AAAcC,MAAAA,I,OAAAA,I;;;;;;;;;OAC9C;AAAEC,QAAAA;AAAF,O,GAAcH,U;AAEpB;AACA;AACA;;uBACaD,K,GAAN,MAAMA,KAAN,CAAY;AAAA;AAAA,eAGVK,YAHU,GAGW,IAAIF,IAAJ,EAHX;AAAA;;AAKVG,QAAAA,OAAO,CAACC,MAAD,EAAeC,QAAf,EAAiCC,MAAjC,EAAiD;AAC/D,iBAAOP,KAAK,CAACK,MAAD,CAAL,CACLG,EADK,CACDF,QAAQ,GAAG,CADV,EACc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C;AAAZ,WADd,EAC+E;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAD/E,EAELH,EAFK,CAEDF,QAAQ,GAAG,CAFV,EAEc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAACH,MAAD,GAAU,CAAV,GAAc,CAA9C,EAAiD,CAAjD,EAAoD,CAApD;AAAZ,WAFd,EAEoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAFpF,EAGLH,EAHK,CAGDF,QAAQ,GAAG,CAHV,EAGc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAT,GAAa,CAA7C,EAAgD,CAAhD,EAAmD,CAAnD;AAAZ,WAHd,EAGmF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAHnF,EAILH,EAJK,CAIDF,QAAQ,GAAG,CAJV,EAIc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAACH,MAAD,GAAU,CAAV,GAAc,CAA9C,EAAiD,CAAjD,EAAoD,CAApD;AAAZ,WAJd,EAIoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAJpF,EAKLH,EALK,CAKDF,QAAQ,GAAG,CALV,EAKc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAT,GAAa,CAA7C,EAAgD,CAAhD,EAAmD,CAAnD;AAAZ,WALd,EAKmF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WALnF,EAMLH,EANK,CAMDF,QAAQ,GAAG,CANV,EAMc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAACH,MAAD,GAAU,CAAV,GAAc,CAA9C,EAAiD,CAAjD,EAAoD,CAApD;AAAZ,WANd,EAMoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WANpF,EAOLH,EAPK,CAODF,QAAQ,GAAG,CAPV,EAOc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C;AAAZ,WAPd,EAO+E;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAP/E,CAAP;AAQA;;AAEOC,QAAAA,OAAO,CAACP,MAAD,EAAeC,QAAf,EAAiCC,MAAjC,EAAiD;AAC/D,iBAAOP,KAAK,CAACK,MAAD,CAAL,CACLG,EADK,CACDF,QAAQ,GAAG,CADV,EACc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAA5C,EAA+C,CAA/C;AAAZ,WADd,EAC+E;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAD/E,EAELH,EAFK,CAEDF,QAAQ,GAAG,CAFV,EAEc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAACH,MAAD,GAAU,CAAV,GAAc,CAAjD,EAAoD,CAApD;AAAZ,WAFd,EAEoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAFpF,EAGLH,EAHK,CAGDF,QAAQ,GAAG,CAHV,EAGc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAAT,GAAa,CAAhD,EAAmD,CAAnD;AAAZ,WAHd,EAGmF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAHnF,EAILH,EAJK,CAIDF,QAAQ,GAAG,CAJV,EAIc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAACH,MAAD,GAAU,CAAV,GAAc,CAAjD,EAAoD,CAApD;AAAZ,WAJd,EAIoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAJpF,EAKLH,EALK,CAKDF,QAAQ,GAAG,CALV,EAKc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAAT,GAAa,CAAhD,EAAmD,CAAnD;AAAZ,WALd,EAKmF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WALnF,EAMLH,EANK,CAMDF,QAAQ,GAAG,CANV,EAMc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAACH,MAAD,GAAU,CAAV,GAAc,CAAjD,EAAoD,CAApD;AAAZ,WANd,EAMoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WANpF,EAOLH,EAPK,CAODF,QAAQ,GAAG,CAPV,EAOc;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAA5C,EAA+C,CAA/C;AAAZ,WAPd,EAO+E;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAP/E,CAAP;AAQA;;AAEOE,QAAAA,QAAQ,CAACR,MAAD,EAAeC,QAAf,EAAiCC,MAAjC,EAAiD;AAChE,iBAAOP,KAAK,CAACK,MAAD,CAAL,CACLG,EADK,CACDF,QAAQ,GAAG,EADV,EACe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C;AAAZ,WADf,EACgF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WADhF,EAELH,EAFK,CAEDF,QAAQ,GAAG,EAFV,EAEe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAA5C,EAA+C,CAA/C;AAAZ,WAFf,EAEgF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAFhF,EAGLH,EAHK,CAGDF,QAAQ,GAAG,EAHV,EAGe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAACH,MAAD,GAAU,CAAV,GAAc,CAAjD,EAAoD,CAApD;AAAZ,WAHf,EAGqF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAHrF,EAILH,EAJK,CAIDF,QAAQ,GAAG,EAJV,EAIe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAACH,MAAD,GAAU,CAAV,GAAc,CAA9C,EAAiD,CAAjD,EAAoD,CAApD;AAAZ,WAJf,EAIqF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAJrF,EAKLH,EALK,CAKDF,QAAQ,GAAG,EALV,EAKe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAT,GAAa,CAA7C,EAAgD,CAAhD,EAAmD,CAAnD;AAAZ,WALf,EAKoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WALpF,EAMLH,EANK,CAMDF,QAAQ,GAAG,EANV,EAMe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAAT,GAAa,CAAhD,EAAmD,CAAnD;AAAZ,WANf,EAMoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WANpF,EAOLH,EAPK,CAODF,QAAQ,GAAG,EAPV,EAOe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAACH,MAAD,GAAU,CAAV,GAAc,CAAjD,EAAoD,CAApD;AAAZ,WAPf,EAOqF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAPrF,EAQLH,EARK,CAQDF,QAAQ,GAAG,EARV,EAQe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAACH,MAAD,GAAU,CAAV,GAAc,CAA9C,EAAiD,CAAjD,EAAoD,CAApD;AAAZ,WARf,EAQqF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WARrF,EASLH,EATK,CASDF,QAAQ,GAAG,EATV,EASe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAAT,GAAa,CAAhD,EAAmD,CAAnD;AAAZ,WATf,EASoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WATpF,EAULH,EAVK,CAUDF,QAAQ,GAAG,EAVV,EAUe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAT,GAAa,CAA7C,EAAgD,CAAhD,EAAmD,CAAnD;AAAZ,WAVf,EAUoF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAVpF,EAWLH,EAXK,CAWDF,QAAQ,GAAG,EAXV,EAWe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAACH,MAAD,GAAU,CAAV,GAAc,CAAjD,EAAoD,CAApD;AAAZ,WAXf,EAWqF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAXrF,EAYLH,EAZK,CAYDF,QAAQ,GAAG,EAZV,EAYe;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAACH,MAAD,GAAU,CAAV,GAAc,CAA9C,EAAiD,CAAjD,EAAoD,CAApD;AAAZ,WAZf,EAYqF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAZrF,EAaLH,EAbK,CAaDF,QAAQ,GAAG,EAbV,EAae;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgC,CAAhC,EAAmCH,MAAM,GAAG,CAA5C,EAA+C,CAA/C;AAAZ,WAbf,EAagF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAbhF,EAcLH,EAdK,CAcDF,QAAQ,GAAG,EAdV,EAce;AAAEG,YAAAA,QAAQ,EAAE,IAAIR,IAAJ,CAASI,MAAM,CAACI,QAAhB,EAA0BC,KAA1B,CAAgCH,MAAM,GAAG,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C;AAAZ,WAdf,EAcgF;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAdhF,CAAP;AAeA;AAED;AACD;AACA;AACA;AACA;AACA;;;AACQG,QAAAA,KAAK,CAACT,MAAD,EAAeC,QAAgB,GAAG,GAAlC,EAAuCC,MAAc,GAAG,CAAxD,EAA2DQ,MAAc,GAAG,CAA5E,EAA+EC,SAAiB,GAAG,IAAnG,EAAyGC,IAAI,GAAG,IAAhH,EAAsH;AACjI,cAAInB,KAAK,CAACoB,SAAN,CAAgBb,MAAhB,CAAJ,EAA6B;AAC5B,mBAAOL,KAAK,EAAZ;AACA;;AACD,eAAKG,YAAL,GAAoBE,MAAM,CAACc,gBAAP,GAA0BC,KAA1B,EAApB;AACA,cAAIC,EAAJ;;AACA,cAAIL,SAAS,CAACM,WAAV,OAA4B,GAAhC,EAAqC;AACpCD,YAAAA,EAAE,GAAG,KAAKjB,OAAL,CAAaC,MAAb,EAAqBC,QAArB,EAA+BC,MAA/B,CAAL;AACA,WAFD,MAEO,IAAIS,SAAS,CAACM,WAAV,OAA4B,GAAhC,EAAqC;AAC3CD,YAAAA,EAAE,GAAG,KAAKT,OAAL,CAAaP,MAAb,EAAqBC,QAArB,EAA+BC,MAA/B,CAAL;AACA,WAFM,MAEA;AACNc,YAAAA,EAAE,GAAG,KAAKR,QAAL,CAAcR,MAAd,EAAsBC,QAAtB,EAAgCC,MAAhC,CAAL;AACA;;AACDc,UAAAA,EAAE,CAACb,EAAH,CAAM,CAAN,EAAS;AAAEe,YAAAA,aAAa,EAAE,KAAKpB;AAAtB,WAAT;AACAkB,UAAAA,EAAE,CAACG,KAAH;;AAEA,cAAIT,MAAM,KAAK,CAAC,CAAhB,EAAmB;AAClBM,YAAAA,EAAE,CAACI,aAAH;AACA,WAFD,MAEO;AACNJ,YAAAA,EAAE,CAACN,MAAH,CAAUA,MAAV;AACA;;AACDM,UAAAA,EAAE,CAACK,IAAH,CAAQ,MAAM;AACb;AACA5B,YAAAA,KAAK,CAAC6B,MAAN,CAAatB,MAAb;AACAY,YAAAA,IAAI,IAAIA,IAAI,EAAZ;AACA,WAJD;AAKA,iBAAOI,EAAP;AACA;;AAEsB,eAATH,SAAS,CAACU,IAAD,EAAa;AACnC,gBAAMC,IAAI,GAAG/B,KAAK,CAACgC,iBAAN,CAAwBC,cAAxB,CAAuCH,IAAI,CAACI,IAA5C,CAAb;;AACA,cAAIH,IAAJ,EAAU;AACT,mBAAO,IAAP;AACA;;AACD/B,UAAAA,KAAK,CAACgC,iBAAN,CAAwBF,IAAI,CAACI,IAA7B,IAAqC,IAArC;AACA,iBAAO,KAAP;AACA;;AAEmB,eAANL,MAAM,CAACC,IAAD,EAAa;AAChC,iBAAO9B,KAAK,CAACgC,iBAAN,CAAwBF,IAAI,CAACI,IAA7B,CAAP;AACA;;AAEmB,eAANC,MAAM,GAAG;AACtB,iBAAO,IAAInC,KAAJ,EAAP;AACA;;AA/FiB,O;;AAANA,MAAAA,K,CACGgC,iB,GAA4B,E","sourcesContent":["import { _decorator, Component, Node, tween, Tween, Vec3 } from 'cc';\r\nconst { ccclass } = _decorator;\r\n\r\n/**\r\n * 摇动\r\n */\r\nexport class Shake {\r\n\tprivate static currentShakeNodes: Object = {};\r\n\r\n\tprivate _originalPos: Vec3 = new Vec3();\r\n\r\n\tprivate _shakeX(target: Node, duration: number, offset: number) {\r\n\t\treturn tween(target)\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(offset + 1, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(-offset * 2 - 2, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(offset * 3 + 3, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(-offset * 4 - 4, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(offset * 3 + 3, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(-offset * 2 - 2, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(offset + 1, 0, 0) }, { easing: \"sineInOut\" })\r\n\t}\r\n\r\n\tprivate _shakeY(target: Node, duration: number, offset: number) {\r\n\t\treturn tween(target)\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, offset + 1, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, -offset * 2 - 2, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, offset * 3 + 3, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, -offset * 4 - 4, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, offset * 3 + 3, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, -offset * 2 - 2, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 7), { position: new Vec3(target.position).add3f(0, offset + 1, 0) }, { easing: \"sineInOut\" })\r\n\t}\r\n\r\n\tprivate _shakeXY(target: Node, duration: number, offset: number) {\r\n\t\treturn tween(target)\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(offset + 1, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, offset + 1, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, -offset * 2 - 2, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(-offset * 2 - 2, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(offset * 3 + 3, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, offset * 3 + 3, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, -offset * 4 - 4, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(-offset * 4 - 4, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, offset * 3 + 3, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(offset * 3 + 3, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, -offset * 2 - 2, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(-offset * 2 - 2, 0, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(0, offset + 1, 0) }, { easing: \"sineInOut\" })\r\n\t\t\t.to((duration / 14), { position: new Vec3(target.position).add3f(offset + 1, 0, 0) }, { easing: \"sineInOut\" })\r\n\t}\r\n\r\n\t/*\r\n\tShake the target.\r\n\tPass \"x\" to shake to the left and right.\r\n\tPass \"y\" to shake to the top and bottom.\r\n\tPass \"xy\" to shake in all directions.\r\n\t*/\r\n\tpublic shake(target: Node, duration: number = 0.5, offset: number = 1, repeat: number = 1, direction: string = \"xy\", done = null) {\r\n\t\tif (Shake.isShakeIn(target)) {\r\n\t\t\treturn tween();\r\n\t\t}\r\n\t\tthis._originalPos = target.getWorldPosition().clone();\r\n\t\tlet tw: Tween<Node>;\r\n\t\tif (direction.toLowerCase() === \"x\") {\r\n\t\t\ttw = this._shakeX(target, duration, offset);\r\n\t\t} else if (direction.toLowerCase() === \"y\") {\r\n\t\t\ttw = this._shakeY(target, duration, offset)\r\n\t\t} else {\r\n\t\t\ttw = this._shakeXY(target, duration, offset);\r\n\t\t}\r\n\t\ttw.to(0, { worldPosition: this._originalPos });\r\n\t\ttw.union();\r\n\r\n\t\tif (repeat === -1) {\r\n\t\t\ttw.repeatForever()\r\n\t\t} else {\r\n\t\t\ttw.repeat(repeat)\r\n\t\t}\r\n\t\ttw.call(() => {\r\n\t\t\t// target.setWorldPosition(this._originalPos);\r\n\t\t\tShake.remove(target);\r\n\t\t\tdone && done();\r\n\t\t})\r\n\t\treturn tw;\r\n\t}\r\n\r\n\tpublic static isShakeIn(node: Node) {\r\n\t\tconst bool = Shake.currentShakeNodes.hasOwnProperty(node.uuid)\r\n\t\tif (bool) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tShake.currentShakeNodes[node.uuid] = true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic static remove(node: Node) {\r\n\t\tdelete Shake.currentShakeNodes[node.uuid];\r\n\t}\r\n\r\n\tpublic static create() {\r\n\t\treturn new Shake();\r\n\t}\r\n}\r\n"]}