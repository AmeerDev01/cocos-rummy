{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/thorV2/components/ThorV2_BuyMiniGame.ts"],"names":["_decorator","Button","Label","Node","BaseComponent","thorv2_Audio","SoundPathDefine","ccclass","property","ThorV2_BuyMiniGame","propertyNode","props_bg_node","props_btn_box_on","props_btn_box_off","props_label_box_gold","props","buyAmount","events","onClose","onBuy","start","initState","bindEvent","on","EventType","TOUCH_END","CLICK","playOneShot","BUY_FREE_DIALOG_CLOSE","useProps","key","value","node","isValid","string","formatAmountWithCommas","onDestroy","longStop","bindUI","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC3BC,MAAAA,a,iBAAAA,a;;AAQAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,e,iBAAAA,e;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;oCAejBS,kB,WADZF,OAAO,CAAC,oBAAD,C,gBAAR,MACaE,kBADb;AAAA;AAAA,0CAC8E;AAAA;AAAA;AAAA,eAKnEC,YALmE,GAKpD;AACxBC,YAAAA,aAAa,EAAE,IAAIR,IAAJ,EADS;AAExBS,YAAAA,gBAAgB,EAAE,IAAIT,IAAJ,EAFM;AAGxBU,YAAAA,iBAAiB,EAAE,IAAIV,IAAJ,EAHK;AAIxBW,YAAAA,oBAAoB,EAAE,IAAIZ,KAAJ;AAJE,WALoD;AAAA,eAYtEa,KAZsE,GAYtD;AACtBC,YAAAA,SAAS,EAAE;AADW,WAZsD;AAAA,eAgBtEC,MAhBsE,GAgBrD;AACvBC,YAAAA,OAAO,EAAE,MAAM,CAAG,CADK;AAEvBC,YAAAA,KAAK,EAAE,MAAM,CAAG;AAFO,WAhBqD;AAAA;;AAC7EC,QAAAA,KAAK,GAAG,CAEP;;AAkBSC,QAAAA,SAAS,GAAG;AACrB,iBAAO,EAAP;AACA;;AAESC,QAAAA,SAAS,GAAS;AAC3B,eAAKZ,YAAL,CAAkBC,aAAlB,CAAgCY,EAAhC,CAAmCpB,IAAI,CAACqB,SAAL,CAAeC,SAAlD,EAA6D,MAAM;AAClE,iBAAKR,MAAL,CAAYC,OAAZ;AACA,WAFD;AAGA,eAAKR,YAAL,CAAkBE,gBAAlB,CAAmCW,EAAnC,CAAsCtB,MAAM,CAACuB,SAAP,CAAiBE,KAAvD,EAA8D,MAAM;AACnE,iBAAKT,MAAL,CAAYC,OAAZ;AACA,iBAAKD,MAAL,CAAYE,KAAZ;AACA;AAAA;AAAA,8CAAaQ,WAAb,CAAyB;AAAA;AAAA,oDAAgBC,qBAAzC;AACA,WAJD;AAKA,eAAKlB,YAAL,CAAkBG,iBAAlB,CAAoCU,EAApC,CAAuCtB,MAAM,CAACuB,SAAP,CAAiBE,KAAxD,EAA+D,MAAM;AACpE,iBAAKT,MAAL,CAAYC,OAAZ;AACA,WAFD;AAGA;;AAESW,QAAAA,QAAQ,CAACC,GAAD,EAAiCC,KAAjC,EAAgE;AACjF,cAAI,KAAKC,IAAL,IAAa,KAAKA,IAAL,CAAUC,OAA3B,EAAoC;AACnC,gBAAIH,GAAG,KAAK,WAAZ,EAAyB;AACxB,mBAAKpB,YAAL,CAAkBI,oBAAlB,CAAuCoB,MAAvC,GAAgD,KAAKnB,KAAL,CAAWC,SAAX,CAAqBmB,sBAArB,EAAhD;AACA;AACD;AACD;;AAESC,QAAAA,SAAS,GAAS;AAC3B;AAAA;AAAA,4CAAaC,QAAb;AACA;;AAESC,QAAAA,MAAM,GAAS,CACxB;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAxD4E,O","sourcesContent":["import { _decorator, Button, Label, Node, sp } from 'cc';\r\nimport { BaseComponent } from '../../../base/BaseComponent';\r\nimport { global } from '../../../hall';\r\nimport { BuyType } from '../../../hall/components/Hall_ShopPanel';\r\nimport StepNumber from '../../../utils/StepNumber';\r\nimport { AutoLauncherInfo, AutoLauncherType, DialogInfo, DialogType, GameType, GameTypeInfo, isAuto } from '../type';\r\nimport { getNodeByNameDeep } from '../../../utils/tool';\r\nimport { updateSubGameAnimationPlayInfo } from '../store/actions/game';\r\nimport config from '../config';\r\nimport { thorv2_Audio } from '../index';\r\nimport { SoundPathDefine } from '../sourceDefine/soundDefine';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport interface IState {\r\n\r\n}\r\n\r\nexport interface IProps {\r\n\tbuyAmount?: number,\r\n}\r\nexport interface IEvent {\r\n\tonClose: () => void,\r\n\tonBuy: () => void,\r\n}\r\n\r\n@ccclass('ThorV2_BuyMiniGame')\r\nexport class ThorV2_BuyMiniGame extends BaseComponent<IState, IProps, IEvent> {\r\n\tstart() {\r\n\r\n\t}\r\n\r\n\tprotected propertyNode = {\r\n\t\tprops_bg_node: new Node(),\r\n\t\tprops_btn_box_on: new Node(),\r\n\t\tprops_btn_box_off: new Node(),\r\n\t\tprops_label_box_gold: new Label(),\r\n\t}\r\n\r\n\tpublic props: IProps = {\r\n\t\tbuyAmount: 0,\r\n\t}\r\n\r\n\tpublic events: IEvent = {\r\n\t\tonClose: () => { },\r\n\t\tonBuy: () => { },\r\n\t}\r\n\r\n\tprotected initState() {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tprotected bindEvent(): void {\r\n\t\tthis.propertyNode.props_bg_node.on(Node.EventType.TOUCH_END, () => {\r\n\t\t\tthis.events.onClose();\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_box_on.on(Button.EventType.CLICK, () => {\r\n\t\t\tthis.events.onClose();\r\n\t\t\tthis.events.onBuy();\r\n\t\t\tthorv2_Audio.playOneShot(SoundPathDefine.BUY_FREE_DIALOG_CLOSE);\r\n\t\t})\r\n\t\tthis.propertyNode.props_btn_box_off.on(Button.EventType.CLICK, () => {\r\n\t\t\tthis.events.onClose();\r\n\t\t})\r\n\t}\r\n\r\n\tprotected useProps(key: keyof IProps | '_setDone', value: { pre: any, cur: any }) {\r\n\t\tif (this.node && this.node.isValid) {\r\n\t\t\tif (key === 'buyAmount') {\r\n\t\t\t\tthis.propertyNode.props_label_box_gold.string = this.props.buyAmount.formatAmountWithCommas();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onDestroy(): void {\r\n\t\tthorv2_Audio.longStop();\r\n\t}\r\n\r\n\tprotected bindUI(): void {\r\n\t}\r\n\r\n\tupdate(deltaTime: number) {\r\n\r\n\t}\r\n}\r\n\r\n"]}