{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/assets/script/subGame/qiuqiu/viewModel/OperationViewModel.ts"],"names":["ViewModel","StoreInject","getStore","OperationViewModel","constructor","seatIndex","begin","connect","inject","state","player","deskData","playerMap","deskStatus","betAmount","maxAmount","opType","gameData","callAmount","lastActiveSeatIndex","currActiveSeatIndex"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAOA,MAAAA,S;AAAaC,MAAAA,W,iBAAAA,W;;AAEXC,MAAAA,Q,iBAAAA,Q;;;;;;;AAIHC,MAAAA,kB,WADL;AAAA;AAAA,sCAAY;AAAA;AAAA,iCAAZ,C,gBAAD,MACMA,kBADN;AAAA;AAAA,kCAC6E;AAC3EC,QAAAA,WAAW,GAAG;AACZ,gBAAM,kBAAN;AADY,eAGNC,SAHM,GAGM,CAHN;AAEb;;AAGSC,QAAAA,KAAK,GAAG,CACjB;;AAEMC,QAAAA,OAAO,GAAG;AACf,eAAKC,MAAL,CAAY,EAAZ,EAAiBC,KAAD,IAAsB;AACpC,kBAAMC,MAAM,GAAGD,KAAK,CAACE,QAAN,CAAeC,SAAf,CAAyB,KAAKP,SAA9B,CAAf;AACA,mBAAO;AACLQ,cAAAA,UAAU,EAAEJ,KAAK,CAACE,QAAN,CAAeE,UADtB;AAELD,cAAAA,SAAS,EAAEH,KAAK,CAACE,QAAN,CAAeC,SAFrB;AAGLE,cAAAA,SAAS,EAAEL,KAAK,CAACE,QAAN,CAAeG,SAHrB;AAILC,cAAAA,SAAS,EAAEN,KAAK,CAACE,QAAN,CAAeI,SAJrB;AAKLC,cAAAA,MAAM,EAAEN,MAAM,GAAGA,MAAM,CAACO,QAAP,CAAgBD,MAAnB,GAA4B,IALrC;AAMLE,cAAAA,UAAU,EAAER,MAAM,GAAGA,MAAM,CAACO,QAAP,CAAgBC,UAAnB,GAAgC,CAN7C;AAOLC,cAAAA,mBAAmB,EAAEV,KAAK,CAACE,QAAN,CAAeQ,mBAP/B;AAQLC,cAAAA,mBAAmB,EAAEX,KAAK,CAACE,QAAN,CAAeS,mBAR/B;AASLf,cAAAA,SAAS,EAAE,KAAKA;AATX,aAAP;AAWD,WAbD;AAcA,iBAAO,IAAP;AACD;;AAzB0E,O;;yBA4B9DF,kB","sourcesContent":["import ViewModel, { StoreInject } from \"../../../base/ViewModel\"\r\nimport { IEvent, IProps, Qiuqiu_Operation } from \"../components/Qiuqiu_Operation\"\r\nimport { getStore } from \"../store\"\r\nimport { StateType } from \"../store/reducer\"\r\n\r\n@StoreInject(getStore())\r\nclass OperationViewModel extends ViewModel<Qiuqiu_Operation, IProps, IEvent> {\r\n  constructor() {\r\n    super('Qiuqiu_Operation')\r\n  }\r\n  private seatIndex = 0;\r\n\r\n  protected begin() {\r\n  }\r\n\r\n  public connect() {\r\n    this.inject({}, (state: StateType) => {\r\n      const player = state.deskData.playerMap[this.seatIndex];\r\n      return {\r\n        deskStatus: state.deskData.deskStatus,\r\n        playerMap: state.deskData.playerMap,\r\n        betAmount: state.deskData.betAmount,\r\n        maxAmount: state.deskData.maxAmount,\r\n        opType: player ? player.gameData.opType : null,\r\n        callAmount: player ? player.gameData.callAmount : 0,\r\n        lastActiveSeatIndex: state.deskData.lastActiveSeatIndex,\r\n        currActiveSeatIndex: state.deskData.currActiveSeatIndex,\r\n        seatIndex: this.seatIndex,\r\n      }\r\n    })\r\n    return this\r\n  }\r\n}\r\n\r\nexport default OperationViewModel"]}