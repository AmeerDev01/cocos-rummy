{"version":3,"sources":["file:///Users/geliang/web/dibai/hall/node_modules/redux-act/lib/createReducer.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","createReducer","_batch","_interopRequireDefault","obj","__esModule","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","normalizeType","typeOrActionCreator","getType","toString","handlers","undefined","defaultState","opts","payload","fallback","reducer","reduce","has","on","off","options","handler","Array","isArray","forEach","action","newOpts","keys","name","factory","state","type","startsWith","meta","_cjsExports","___esModule","_default","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from './batch';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = createReducer;\n\n var _batch = _interopRequireDefault(require(\"./batch\"));\n\n function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n function normalizeType(typeOrActionCreator) {\n   if (typeOrActionCreator && typeOrActionCreator.getType) {\n     return typeOrActionCreator.toString();\n   }\n\n   return typeOrActionCreator;\n }\n\n function createReducer() {\n   var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n   var defaultState = arguments.length > 1 ? arguments[1] : undefined;\n   var opts = {\n     payload: true,\n     fallback: null\n   };\n\n   var reducer = _extends(reduce, {\n     has: has,\n     on: on,\n     off: off,\n     options: options\n   });\n\n   function has(typeOrActionCreator) {\n     return !!handlers[normalizeType(typeOrActionCreator)];\n   }\n\n   function on(typeOrActionCreator, handler) {\n     if (Array.isArray(typeOrActionCreator)) {\n       typeOrActionCreator.forEach(function (action) {\n         on(action, handler);\n       });\n     } else {\n       handlers[normalizeType(typeOrActionCreator)] = handler;\n     }\n\n     return reducer;\n   }\n\n   function off(typeOrActionCreator) {\n     if (Array.isArray(typeOrActionCreator)) {\n       typeOrActionCreator.forEach(off);\n     } else {\n       delete handlers[normalizeType(typeOrActionCreator)];\n     }\n\n     return reducer;\n   }\n\n   function options(newOpts) {\n     Object.keys(newOpts).forEach(function (name) {\n       return opts[name] = newOpts[name];\n     });\n     return reducer;\n   }\n\n   if (typeof handlers === 'function') {\n     var factory = handlers;\n     handlers = {};\n     factory(on, off);\n   }\n\n   if (!has(_batch[\"default\"])) {\n     on(_batch[\"default\"], function (state, payload) {\n       if (opts.payload) {\n         return payload.reduce(reduce, state);\n       } else {\n         return payload.payload.reduce(reduce, state);\n       }\n     });\n   }\n\n   function reduce() {\n     var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n     var action = arguments.length > 1 ? arguments[1] : undefined;\n\n     if (!action || typeof action.type !== 'string') {\n       return state;\n     }\n\n     if (action.type.startsWith('@@redux/')) {\n       return state;\n     }\n\n     var handler = handlers[action.type] || opts.fallback;\n\n     if (handler) {\n       if (opts.payload) {\n         return handler(state, action.payload, action.meta);\n       } else {\n         return handler(state, action);\n       }\n     }\n\n     return state;\n   }\n\n   ;\n   return reducer;\n }\n\n ;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  './batch': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}